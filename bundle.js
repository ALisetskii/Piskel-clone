/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/main.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./src/components/animation_layers/index.scss":
/*!***********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??ref--7-2!./node_modules/sass-loader/dist/cjs.js??ref--7-3!./src/components/animation_layers/index.scss ***!
  \***********************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8hLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanM/IS4vc3JjL2NvbXBvbmVudHMvYW5pbWF0aW9uX2xheWVycy9pbmRleC5zY3NzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYW5pbWF0aW9uX2xheWVycy9pbmRleC5zY3NzPzM1YjYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./src/components/animation_layers/index.scss\n");

/***/ }),

/***/ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./src/components/canvas/index.scss":
/*!*************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??ref--7-2!./node_modules/sass-loader/dist/cjs.js??ref--7-3!./src/components/canvas/index.scss ***!
  \*************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8hLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanM/IS4vc3JjL2NvbXBvbmVudHMvY2FudmFzL2luZGV4LnNjc3MuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9jYW52YXMvaW5kZXguc2Nzcz9hZDJhIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./src/components/canvas/index.scss\n");

/***/ }),

/***/ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./src/components/frames/index.scss":
/*!*************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??ref--7-2!./node_modules/sass-loader/dist/cjs.js??ref--7-3!./src/components/frames/index.scss ***!
  \*************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8hLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanM/IS4vc3JjL2NvbXBvbmVudHMvZnJhbWVzL2luZGV4LnNjc3MuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9mcmFtZXMvaW5kZXguc2Nzcz9jNDM5Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./src/components/frames/index.scss\n");

/***/ }),

/***/ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./src/components/header/index.scss":
/*!*************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??ref--7-2!./node_modules/sass-loader/dist/cjs.js??ref--7-3!./src/components/header/index.scss ***!
  \*************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8hLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanM/IS4vc3JjL2NvbXBvbmVudHMvaGVhZGVyL2luZGV4LnNjc3MuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9oZWFkZXIvaW5kZXguc2Nzcz82ZDA5Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./src/components/header/index.scss\n");

/***/ }),

/***/ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./src/components/optionalPanel/index.scss":
/*!********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??ref--7-2!./node_modules/sass-loader/dist/cjs.js??ref--7-3!./src/components/optionalPanel/index.scss ***!
  \********************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8hLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanM/IS4vc3JjL2NvbXBvbmVudHMvb3B0aW9uYWxQYW5lbC9pbmRleC5zY3NzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvb3B0aW9uYWxQYW5lbC9pbmRleC5zY3NzPzRkM2IiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./src/components/optionalPanel/index.scss\n");

/***/ }),

/***/ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./src/components/tools/index.scss":
/*!************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??ref--7-2!./node_modules/sass-loader/dist/cjs.js??ref--7-3!./src/components/tools/index.scss ***!
  \************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8hLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanM/IS4vc3JjL2NvbXBvbmVudHMvdG9vbHMvaW5kZXguc2Nzcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3Rvb2xzL2luZGV4LnNjc3M/MTE0ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./src/components/tools/index.scss\n");

/***/ }),

/***/ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./src/styles/landing.css":
/*!***************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??ref--6-2!./node_modules/sass-loader/dist/cjs.js??ref--6-3!./src/styles/landing.css ***!
  \***************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8hLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanM/IS4vc3JjL3N0eWxlcy9sYW5kaW5nLmNzcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zdHlsZXMvbGFuZGluZy5jc3M/MjRmNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./src/styles/landing.css\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar stylesInDom = {};\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nfunction listToStyles(list, options) {\n  var styles = [];\n  var newStyles = {};\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var css = item[1];\n    var media = item[2];\n    var sourceMap = item[3];\n    var part = {\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    };\n\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = {\n        id: id,\n        parts: [part]\n      });\n    } else {\n      newStyles[id].parts.push(part);\n    }\n  }\n\n  return styles;\n}\n\nfunction addStylesToDom(styles, options) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i];\n    var domStyle = stylesInDom[item.id];\n    var j = 0;\n\n    if (domStyle) {\n      domStyle.refs++;\n\n      for (; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j]);\n      }\n\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j], options));\n      }\n    } else {\n      var parts = [];\n\n      for (; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j], options));\n      }\n\n      stylesInDom[item.id] = {\n        id: item.id,\n        refs: 1,\n        parts: parts\n      };\n    }\n  }\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n\n  if (typeof options.attributes.nonce === 'undefined') {\n    var nonce =  true ? __webpack_require__.nc : undefined;\n\n    if (nonce) {\n      options.attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(options.attributes).forEach(function (key) {\n    style.setAttribute(key, options.attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {};\n  options.attributes = typeof options.attributes === 'object' ? options.attributes : {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  var styles = listToStyles(list, options);\n  addStylesToDom(styles, options);\n  return function update(newList) {\n    var mayRemove = [];\n\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i];\n      var domStyle = stylesInDom[item.id];\n\n      if (domStyle) {\n        domStyle.refs--;\n        mayRemove.push(domStyle);\n      }\n    }\n\n    if (newList) {\n      var newStyles = listToStyles(newList, options);\n      addStylesToDom(newStyles, options);\n    }\n\n    for (var _i = 0; _i < mayRemove.length; _i++) {\n      var _domStyle = mayRemove[_i];\n\n      if (_domStyle.refs === 0) {\n        for (var j = 0; j < _domStyle.parts.length; j++) {\n          _domStyle.parts[j]();\n        }\n\n        delete stylesInDom[_domStyle.id];\n      }\n    }\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanM/MmRiYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRG9tID0ge307XG5cbnZhciBpc09sZElFID0gZnVuY3Rpb24gaXNPbGRJRSgpIHtcbiAgdmFyIG1lbW87XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSgpIHtcbiAgICBpZiAodHlwZW9mIG1lbW8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuICAgICAgLy8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuICAgICAgLy8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuICAgICAgLy8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG4gICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcbiAgICAgIG1lbW8gPSBCb29sZWFuKHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcbn0oKTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgdmFyIG1lbW8gPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKHRhcmdldCkge1xuICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtb1t0YXJnZXRdO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMobGlzdCwgb3B0aW9ucykge1xuICB2YXIgc3R5bGVzID0gW107XG4gIHZhciBuZXdTdHlsZXMgPSB7fTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNzcyA9IGl0ZW1bMV07XG4gICAgdmFyIG1lZGlhID0gaXRlbVsyXTtcbiAgICB2YXIgc291cmNlTWFwID0gaXRlbVszXTtcbiAgICB2YXIgcGFydCA9IHtcbiAgICAgIGNzczogY3NzLFxuICAgICAgbWVkaWE6IG1lZGlhLFxuICAgICAgc291cmNlTWFwOiBzb3VyY2VNYXBcbiAgICB9O1xuXG4gICAgaWYgKCFuZXdTdHlsZXNbaWRdKSB7XG4gICAgICBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge1xuICAgICAgICBpZDogaWQsXG4gICAgICAgIHBhcnRzOiBbcGFydF1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBzdHlsZXNbaV07XG4gICAgdmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG4gICAgdmFyIGogPSAwO1xuXG4gICAgaWYgKGRvbVN0eWxlKSB7XG4gICAgICBkb21TdHlsZS5yZWZzKys7XG5cbiAgICAgIGZvciAoOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG4gICAgICB9XG5cbiAgICAgIGZvciAoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICBkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHBhcnRzID0gW107XG5cbiAgICAgIGZvciAoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICBwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcbiAgICAgIH1cblxuICAgICAgc3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7XG4gICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICByZWZzOiAxLFxuICAgICAgICBwYXJ0czogcGFydHNcbiAgICAgIH07XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgb3B0aW9ucy5hdHRyaWJ1dGVzLm5vbmNlID0gbm9uY2U7XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmtleXMob3B0aW9ucy5hdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoa2V5LCBvcHRpb25zLmF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXAgJiYgYnRvYSkge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXIgc2luZ2xldG9uQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgc3R5bGU7XG4gIHZhciB1cGRhdGU7XG4gIHZhciByZW1vdmU7XG5cbiAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgc3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXG4gICAgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgb3B0aW9ucy5hdHRyaWJ1dGVzID0gdHlwZW9mIG9wdGlvbnMuYXR0cmlidXRlcyA9PT0gJ29iamVjdCcgPyBvcHRpb25zLmF0dHJpYnV0ZXMgOiB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4gIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcblxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gIH1cblxuICB2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xuICBhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICB2YXIgbWF5UmVtb3ZlID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGl0ZW0gPSBzdHlsZXNbaV07XG4gICAgICB2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuICAgICAgaWYgKGRvbVN0eWxlKSB7XG4gICAgICAgIGRvbVN0eWxlLnJlZnMtLTtcbiAgICAgICAgbWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChuZXdMaXN0KSB7XG4gICAgICB2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QsIG9wdGlvbnMpO1xuICAgICAgYWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbWF5UmVtb3ZlLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9kb21TdHlsZSA9IG1heVJlbW92ZVtfaV07XG5cbiAgICAgIGlmIChfZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IF9kb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIF9kb21TdHlsZS5wYXJ0c1tqXSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIHN0eWxlc0luRG9tW19kb21TdHlsZS5pZF07XG4gICAgICB9XG4gICAgfVxuICB9O1xufTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\n");

/***/ }),

/***/ "./node_modules/webpack/buildin/module.js":
/*!***********************************!*\
  !*** (webpack)/buildin/module.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2VicGFjay9idWlsZGluL21vZHVsZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanM/Y2VkMiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHRpZiAoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcblx0XHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XG5cdH1cblx0cmV0dXJuIG1vZHVsZTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/webpack/buildin/module.js\n");

/***/ }),

/***/ "./src/app.js":
/*!********************!*\
  !*** ./src/app.js ***!
  \********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _header = __webpack_require__(/*! ./components/header */ \"./src/components/header/index.js\");\n\nvar _header2 = _interopRequireDefault(_header);\n\nvar _tools = __webpack_require__(/*! ./components/tools */ \"./src/components/tools/index.js\");\n\nvar _tools2 = _interopRequireDefault(_tools);\n\nvar _frames = __webpack_require__(/*! ./components/frames */ \"./src/components/frames/index.js\");\n\nvar _frames2 = _interopRequireDefault(_frames);\n\nvar _canvas = __webpack_require__(/*! ./components/canvas */ \"./src/components/canvas/index.js\");\n\nvar _canvas2 = _interopRequireDefault(_canvas);\n\nvar _animation_layers = __webpack_require__(/*! ./components/animation_layers */ \"./src/components/animation_layers/index.js\");\n\nvar _animation_layers2 = _interopRequireDefault(_animation_layers);\n\nvar _optionalPanel = __webpack_require__(/*! ./components/optionalPanel */ \"./src/components/optionalPanel/index.js\");\n\nvar _optionalPanel2 = _interopRequireDefault(_optionalPanel);\n\nvar _canvasBuild = __webpack_require__(/*! ./screens/canvas/canvasBuild */ \"./src/screens/canvas/canvasBuild.js\");\n\nvar _canvasBuild2 = _interopRequireDefault(_canvasBuild);\n\nvar _previewCanvasBuild = __webpack_require__(/*! ./screens/preview/previewCanvasBuild */ \"./src/screens/preview/previewCanvasBuild.js\");\n\nvar _previewCanvasBuild2 = _interopRequireDefault(_previewCanvasBuild);\n\nvar _frameCanvasBuild = __webpack_require__(/*! ./screens/frame/frameCanvasBuild */ \"./src/screens/frame/frameCanvasBuild.js\");\n\nvar _frameCanvasBuild2 = _interopRequireDefault(_frameCanvasBuild);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar APP = function () {\n  function APP() {\n    _classCallCheck(this, APP);\n\n    this.fullScreen = false;\n    this.that = this;\n    this.getCount();\n    this.state = this.getState();\n    this.components = [new _header2.default(this.state, this.setState), new _tools2.default(this.state, this.setState, this.that), new _frames2.default(this.state, this.setState, this.that), new _canvas2.default(this.state, this.setState, this.that), new _animation_layers2.default(this.state, this.setState, this.that), new _optionalPanel2.default(this.state, this.setState, this.that)];\n  }\n\n  _createClass(APP, [{\n    key: \"getCount\",\n    value: function getCount() {\n      if (localStorage.getItem(\"count\")) {\n        this.count = JSON.parse(localStorage.getItem(\"count\"));\n      }\n      this.count = 0;\n    }\n  }, {\n    key: \"getState\",\n    value: function getState() {\n      if (localStorage.getItem(\"state\")) {\n        return JSON.parse(localStorage.getItem(\"state\"), function (key, value) {\n          if (typeof value === \"string\" && value.startsWith(\"/Function(\") && value.endsWith(\")/\")) {\n            value = value.substring(10, value.length - 2);\n            return value;\n          }\n          return value;\n        });\n      }\n      return {\n        animationSettings: {\n          fpsValue: 1\n        },\n        canvasSettings: {\n          top: \"-10%\",\n          left: \"10%\",\n          rows: 32,\n          columns: 32,\n          scale: 0.6\n        },\n        canvasEventFunc: function penTool() {},\n        currFrame: 0,\n        frames: [{\n          id: this.count + 1,\n          matrix: []\n        }],\n        spriteName: null,\n        colors: {\n          current: \"#000000\",\n          previous: \"#ffffff\"\n        },\n        penWidth: 2,\n        tools: [{\n          name: \"Pen Tool\",\n          slug: \"penTool\",\n          shortCut: {\n            key: \"KeyP\",\n            hint: \"P\"\n          }\n        }, {\n          name: \"Paint Bucket Tool\",\n          slug: \"bucketTool\",\n          shortCut: {\n            key: 'KeyJ',\n            hint: \"J\"\n          }\n        }, {\n          name: \"Paint all pixels of the same color\",\n          slug: \"bucketSameColorTool\",\n          shortCut: {\n            key: 26,\n            hint: \"K\"\n          }\n        }, {\n          name: \"Eraser Tool\",\n          slug: \"eraserTool\",\n          shortCut: {\n            key: 'KeyL',\n            hint: \"L\"\n          }\n        }, {\n          name: \"Stroke Tool\",\n          slug: \"strokeTool\",\n          shortCut: {\n            key: 28,\n            hint: \"Y\"\n          }\n        }]\n      };\n    }\n  }, {\n    key: \"drawCanvas\",\n    value: function drawCanvas() {\n      new _canvasBuild2.default(this.state).draw();\n      new _frameCanvasBuild2.default(this.state).draw();\n      new _previewCanvasBuild2.default(this.state, this.that).draw();\n    }\n  }, {\n    key: \"setStateSilent\",\n    value: function setStateSilent(newState) {\n      this.state = Object.assign(this.state, newState);\n    }\n  }, {\n    key: \"setState\",\n    value: function setState(newState) {\n      this.state = Object.assign(this.state, newState);\n      localStorage.setItem(\"state\", JSON.stringify(this.state, function (key, value) {\n        if (typeof value === \"function\") {\n          return \"/Function(\" + value.toString() + \")/\";\n        }\n        return value;\n      }));\n      localStorage.setItem(\"count\", JSON.stringify(this.count));\n      this.render();\n    }\n  }, {\n    key: \"render\",\n    value: function render(first) {\n      if (first) {\n        this.spriteName();\n        return this.packaging();\n      }\n      document.querySelector(\".main\").remove();\n      document.querySelector(\"body\").appendChild(this.packaging());\n      this.drawCanvas();\n    }\n  }, {\n    key: \"packaging\",\n    value: function packaging() {\n      var mainDiv = document.createElement(\"div\");\n      mainDiv.setAttribute(\"class\", \"main\");\n      this.components.forEach(function (component) {\n        return mainDiv.appendChild(component.render());\n      });\n      return mainDiv;\n    }\n  }, {\n    key: \"spriteName\",\n    value: function spriteName() {\n      if (this.state.spriteName == null) {\n        this.state.spriteName = prompt(\"Enter sprite name\", \"New Sprite *\");\n      }\n    }\n  }]);\n\n  return APP;\n}();\n\nexports.default = APP;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBwLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9hcHAuanM/MmM5NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSGVhZGVyIGZyb20gXCIuL2NvbXBvbmVudHMvaGVhZGVyXCI7XG5pbXBvcnQgVG9vbHMgZnJvbSBcIi4vY29tcG9uZW50cy90b29sc1wiO1xuaW1wb3J0IEZyYW1lcyBmcm9tIFwiLi9jb21wb25lbnRzL2ZyYW1lc1wiO1xuaW1wb3J0IENhbnZhcyBmcm9tIFwiLi9jb21wb25lbnRzL2NhbnZhc1wiO1xuaW1wb3J0IEFuaW1hdGlvbkxheWVycyBmcm9tIFwiLi9jb21wb25lbnRzL2FuaW1hdGlvbl9sYXllcnNcIjtcbmltcG9ydCBPcHRpb25hbFBhbmVsIGZyb20gXCIuL2NvbXBvbmVudHMvb3B0aW9uYWxQYW5lbFwiO1xuaW1wb3J0IENhbnZhc0J1aWxkIGZyb20gXCIuL3NjcmVlbnMvY2FudmFzL2NhbnZhc0J1aWxkXCI7XG5pbXBvcnQgUHJldmlld0NhbnZhc0J1aWxkIGZyb20gXCIuL3NjcmVlbnMvcHJldmlldy9wcmV2aWV3Q2FudmFzQnVpbGRcIjtcbmltcG9ydCBGcmFtZUNhbnZhc0J1aWxkIGZyb20gXCIuL3NjcmVlbnMvZnJhbWUvZnJhbWVDYW52YXNCdWlsZFwiO1xuXG5jbGFzcyBBUFAge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmZ1bGxTY3JlZW4gPSBmYWxzZTtcbiAgICB0aGlzLnRoYXQgPSB0aGlzO1xuICAgIHRoaXMuZ2V0Q291bnQoKTtcbiAgICB0aGlzLnN0YXRlID0gdGhpcy5nZXRTdGF0ZSgpO1xuICAgIHRoaXMuY29tcG9uZW50cyA9IFtcbiAgICAgIG5ldyBIZWFkZXIodGhpcy5zdGF0ZSwgdGhpcy5zZXRTdGF0ZSksXG4gICAgICBuZXcgVG9vbHModGhpcy5zdGF0ZSwgdGhpcy5zZXRTdGF0ZSwgdGhpcy50aGF0KSxcbiAgICAgIG5ldyBGcmFtZXModGhpcy5zdGF0ZSwgdGhpcy5zZXRTdGF0ZSwgdGhpcy50aGF0KSxcbiAgICAgIG5ldyBDYW52YXModGhpcy5zdGF0ZSwgdGhpcy5zZXRTdGF0ZSwgdGhpcy50aGF0KSxcbiAgICAgIG5ldyBBbmltYXRpb25MYXllcnModGhpcy5zdGF0ZSwgdGhpcy5zZXRTdGF0ZSwgdGhpcy50aGF0KSxcbiAgICAgIG5ldyBPcHRpb25hbFBhbmVsKHRoaXMuc3RhdGUsIHRoaXMuc2V0U3RhdGUsIHRoaXMudGhhdClcbiAgICBdO1xuICB9XG5cbiAgZ2V0Q291bnQoKSB7XG4gICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY291bnRcIikpIHtcbiAgICAgIHRoaXMuY291bnQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY291bnRcIikpO1xuICAgIH1cbiAgICB0aGlzLmNvdW50ID0gMDtcbiAgfVxuXG4gIGdldFN0YXRlKCkge1xuICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInN0YXRlXCIpKSB7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInN0YXRlXCIpLCBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiZcbiAgICAgICAgICB2YWx1ZS5zdGFydHNXaXRoKFwiL0Z1bmN0aW9uKFwiKSAmJlxuICAgICAgICAgIHZhbHVlLmVuZHNXaXRoKFwiKS9cIilcbiAgICAgICAgKSB7XG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZS5zdWJzdHJpbmcoMTAsIHZhbHVlLmxlbmd0aCAtIDIpO1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGFuaW1hdGlvblNldHRpbmdzOiB7XG4gICAgICAgIGZwc1ZhbHVlOiAxXG4gICAgICB9LFxuICAgICAgY2FudmFzU2V0dGluZ3M6IHtcbiAgICAgICAgdG9wOiBcIi0xMCVcIixcbiAgICAgICAgbGVmdDogXCIxMCVcIixcbiAgICAgICAgcm93czogMzIsXG4gICAgICAgIGNvbHVtbnM6IDMyLFxuICAgICAgICBzY2FsZTogMC42XG4gICAgICB9LFxuICAgICAgY2FudmFzRXZlbnRGdW5jOiBmdW5jdGlvbiBwZW5Ub29sKCkge30sXG4gICAgICBjdXJyRnJhbWU6IDAsXG4gICAgICBmcmFtZXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiB0aGlzLmNvdW50ICsgMSxcbiAgICAgICAgICBtYXRyaXg6IFtdXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBzcHJpdGVOYW1lOiBudWxsLFxuICAgICAgY29sb3JzOiB7XG4gICAgICAgIGN1cnJlbnQ6IFwiIzAwMDAwMFwiLFxuICAgICAgICBwcmV2aW91czogXCIjZmZmZmZmXCJcbiAgICAgIH0sXG4gICAgICBwZW5XaWR0aDogMixcbiAgICAgIHRvb2xzOiBbICAgICAgICBcbiAgICAgICAge1xuICAgICAgICAgIG5hbWU6IFwiUGVuIFRvb2xcIixcbiAgICAgICAgICBzbHVnOiBcInBlblRvb2xcIixcbiAgICAgICAgICBzaG9ydEN1dDoge1xuICAgICAgICAgICAga2V5OiBcIktleVBcIixcbiAgICAgICAgICAgIGhpbnQ6IFwiUFwiXG4gICAgICAgICAgfVxuICAgICAgICB9LCAgICAgICAgXG4gICAgICAgIHtcbiAgICAgICAgICBuYW1lOiBcIlBhaW50IEJ1Y2tldCBUb29sXCIsXG4gICAgICAgICAgc2x1ZzogXCJidWNrZXRUb29sXCIsXG4gICAgICAgICAgc2hvcnRDdXQ6IHtcbiAgICAgICAgICAgIGtleTogJ0tleUonLFxuICAgICAgICAgICAgaGludDogXCJKXCJcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBuYW1lOiBcIlBhaW50IGFsbCBwaXhlbHMgb2YgdGhlIHNhbWUgY29sb3JcIixcbiAgICAgICAgICBzbHVnOiBcImJ1Y2tldFNhbWVDb2xvclRvb2xcIixcbiAgICAgICAgICBzaG9ydEN1dDoge1xuICAgICAgICAgICAga2V5OiAyNixcbiAgICAgICAgICAgIGhpbnQ6IFwiS1wiXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogXCJFcmFzZXIgVG9vbFwiLFxuICAgICAgICAgIHNsdWc6IFwiZXJhc2VyVG9vbFwiLFxuICAgICAgICAgIHNob3J0Q3V0OiB7XG4gICAgICAgICAgICBrZXk6ICdLZXlMJyxcbiAgICAgICAgICAgIGhpbnQ6IFwiTFwiXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogXCJTdHJva2UgVG9vbFwiLFxuICAgICAgICAgIHNsdWc6IFwic3Ryb2tlVG9vbFwiLFxuICAgICAgICAgIHNob3J0Q3V0OiB7XG4gICAgICAgICAgICBrZXk6IDI4LFxuICAgICAgICAgICAgaGludDogXCJZXCJcbiAgICAgICAgICB9XG4gICAgICAgIH0gICAgICAgIFxuICAgICAgXVxuICAgIH07XG4gIH1cblxuICBkcmF3Q2FudmFzKCkge1xuICAgIG5ldyBDYW52YXNCdWlsZCh0aGlzLnN0YXRlKS5kcmF3KCk7XG4gICAgbmV3IEZyYW1lQ2FudmFzQnVpbGQodGhpcy5zdGF0ZSkuZHJhdygpO1xuICAgIG5ldyBQcmV2aWV3Q2FudmFzQnVpbGQodGhpcy5zdGF0ZSwgdGhpcy50aGF0KS5kcmF3KCk7XG4gIH1cblxuICBzZXRTdGF0ZVNpbGVudChuZXdTdGF0ZSkge1xuICAgIHRoaXMuc3RhdGUgPSBPYmplY3QuYXNzaWduKHRoaXMuc3RhdGUsIG5ld1N0YXRlKTtcbiAgfVxuXG4gIHNldFN0YXRlKG5ld1N0YXRlKSB7XG4gICAgdGhpcy5zdGF0ZSA9IE9iamVjdC5hc3NpZ24odGhpcy5zdGF0ZSwgbmV3U3RhdGUpO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFxuICAgICAgXCJzdGF0ZVwiLFxuICAgICAgSlNPTi5zdHJpbmdpZnkodGhpcy5zdGF0ZSwgZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICByZXR1cm4gYC9GdW5jdGlvbigke3ZhbHVlLnRvU3RyaW5nKCl9KS9gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH0pXG4gICAgKTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImNvdW50XCIsIEpTT04uc3RyaW5naWZ5KHRoaXMuY291bnQpKTtcbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG5cbiAgcmVuZGVyKGZpcnN0KSB7XG4gICAgaWYgKGZpcnN0KSB7XG4gICAgICB0aGlzLnNwcml0ZU5hbWUoKTtcbiAgICAgIHJldHVybiB0aGlzLnBhY2thZ2luZygpO1xuICAgIH1cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW5cIikucmVtb3ZlKCk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIikuYXBwZW5kQ2hpbGQodGhpcy5wYWNrYWdpbmcoKSk7XG4gICAgdGhpcy5kcmF3Q2FudmFzKCk7ICBcbiAgfVxuXG4gIHBhY2thZ2luZygpIHtcbiAgICBjb25zdCBtYWluRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBtYWluRGl2LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwibWFpblwiKTtcbiAgICB0aGlzLmNvbXBvbmVudHMuZm9yRWFjaChjb21wb25lbnQgPT5cbiAgICAgIG1haW5EaXYuYXBwZW5kQ2hpbGQoY29tcG9uZW50LnJlbmRlcigpKVxuICAgICk7XG4gICAgcmV0dXJuIG1haW5EaXY7XG4gIH1cblxuICBzcHJpdGVOYW1lKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLnNwcml0ZU5hbWUgPT0gbnVsbCkge1xuICAgICAgdGhpcy5zdGF0ZS5zcHJpdGVOYW1lID0gcHJvbXB0KFwiRW50ZXIgc3ByaXRlIG5hbWVcIiwgXCJOZXcgU3ByaXRlICpcIik7XG4gICAgfSBcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBUFA7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7OztBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBT0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFIQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUhBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSEE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFIQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUhBO0FBMURBO0FBb0VBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBR0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBR0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/app.js\n");

/***/ }),

/***/ "./src/components/animation_layers/fpsChangeFunc.js":
/*!**********************************************************!*\
  !*** ./src/components/animation_layers/fpsChangeFunc.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction fpsChangeFunc(state, setState, that) {\n  return function (e) {\n    state.animationSettings.fpsValue = +e.target.value;\n    that.setState(state);\n  };\n}\nexports.default = fpsChangeFunc;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9hbmltYXRpb25fbGF5ZXJzL2Zwc0NoYW5nZUZ1bmMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvYW5pbWF0aW9uX2xheWVycy9mcHNDaGFuZ2VGdW5jLmpzPzFjYWMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gZnBzQ2hhbmdlRnVuYyhzdGF0ZSwgc2V0U3RhdGUsIHRoYXQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGUpIHtcbiAgICBzdGF0ZS5hbmltYXRpb25TZXR0aW5ncy5mcHNWYWx1ZSA9ICtlLnRhcmdldC52YWx1ZTtcbiAgICB0aGF0LnNldFN0YXRlKHN0YXRlKTtcbiAgfTtcbn1cbmV4cG9ydCBkZWZhdWx0IGZwc0NoYW5nZUZ1bmM7XG4iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/animation_layers/fpsChangeFunc.js\n");

/***/ }),

/***/ "./src/components/animation_layers/fullScreenFunc.js":
/*!***********************************************************!*\
  !*** ./src/components/animation_layers/fullScreenFunc.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction fullScreenFunc(state, setState, that) {\n  return function () {\n    that.fullScreen = true;\n    that.setState(state);\n    document.querySelector(\".animation\").requestFullscreen();\n  };\n}\nexports.default = fullScreenFunc;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9hbmltYXRpb25fbGF5ZXJzL2Z1bGxTY3JlZW5GdW5jLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL2FuaW1hdGlvbl9sYXllcnMvZnVsbFNjcmVlbkZ1bmMuanM/MTY4MyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBmdWxsU2NyZWVuRnVuYyhzdGF0ZSwgc2V0U3RhdGUsIHRoYXQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoYXQuZnVsbFNjcmVlbiA9IHRydWU7XG4gICAgdGhhdC5zZXRTdGF0ZShzdGF0ZSk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hbmltYXRpb25cIikucmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgfTtcbn1cbmV4cG9ydCBkZWZhdWx0IGZ1bGxTY3JlZW5GdW5jO1xuIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/animation_layers/fullScreenFunc.js\n");

/***/ }),

/***/ "./src/components/animation_layers/index.js":
/*!**************************************************!*\
  !*** ./src/components/animation_layers/index.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _index = __webpack_require__(/*! ./index.scss */ \"./src/components/animation_layers/index.scss\");\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _fpsChangeFunc = __webpack_require__(/*! ./fpsChangeFunc */ \"./src/components/animation_layers/fpsChangeFunc.js\");\n\nvar _fpsChangeFunc2 = _interopRequireDefault(_fpsChangeFunc);\n\nvar _fullScreenFunc = __webpack_require__(/*! ./fullScreenFunc */ \"./src/components/animation_layers/fullScreenFunc.js\");\n\nvar _fullScreenFunc2 = _interopRequireDefault(_fullScreenFunc);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar AnimationLayers = function () {\n  function AnimationLayers(state, setStage, that) {\n    _classCallCheck(this, AnimationLayers);\n\n    this.state = state;\n    this.setStage = setStage;\n    this.that = that;\n  }\n\n  _createClass(AnimationLayers, [{\n    key: \"render\",\n    value: function render() {\n      var mainDiv = document.createElement(\"div\");\n      mainDiv.setAttribute(\"class\", \"animation_player\");\n\n      var divAnimation = document.createElement(\"div\");\n      divAnimation.setAttribute(\"class\", \"animationBlock\");\n\n      var animation = document.createElement(\"div\");\n      animation.setAttribute(\"class\", \"animation\");\n      divAnimation.appendChild(animation);\n\n      var divFullScreen = document.createElement(\"div\");\n      divFullScreen.setAttribute(\"class\", \"fullscreen\");\n      divFullScreen.innerHTML = \"<i class=\\\"fas fa-compress\\\"></i>\";\n      divFullScreen.onclick = (0, _fullScreenFunc2.default)(this.state, this.setState, this.that);\n      animation.appendChild(divFullScreen);\n\n      var animationSettings = document.createElement(\"div\");\n      animationSettings.setAttribute(\"class\", \"animation_settings\");\n\n      var fpsView = document.createElement(\"span\");\n      fpsView.textContent = +this.state.animationSettings.fpsValue + \" fps\";\n      fpsView.setAttribute(\"class\", \"fpsView\");\n      animationSettings.appendChild(fpsView);\n\n      var fpsRange = document.createElement(\"input\");\n      fpsRange.setAttribute(\"class\", \"fpsRange\");\n      fpsRange.setAttribute(\"type\", \"range\");\n      fpsRange.setAttribute(\"min\", \"1\");\n      fpsRange.setAttribute(\"max\", \"24\");\n      fpsRange.setAttribute(\"value\", \"\" + +this.state.animationSettings.fpsValue);\n      fpsRange.onchange = (0, _fpsChangeFunc2.default)(this.state, this.setStage, this.that);\n      animationSettings.appendChild(fpsRange);\n\n      divAnimation.appendChild(animationSettings);\n      mainDiv.appendChild(divAnimation);\n\n      return mainDiv;\n    }\n  }]);\n\n  return AnimationLayers;\n}();\n\nexports.default = AnimationLayers;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9hbmltYXRpb25fbGF5ZXJzL2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL2FuaW1hdGlvbl9sYXllcnMvaW5kZXguanM/NDMxOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc3R5bGUgZnJvbSBcIi4vaW5kZXguc2Nzc1wiO1xuaW1wb3J0IGZwc0NoYW5nZUZ1bmMgZnJvbSBcIi4vZnBzQ2hhbmdlRnVuY1wiO1xuaW1wb3J0IGZ1bGxTY3JlZW5GdW5jIGZyb20gXCIuL2Z1bGxTY3JlZW5GdW5jXCI7XG5cbmNsYXNzIEFuaW1hdGlvbkxheWVycyB7XG4gIGNvbnN0cnVjdG9yKHN0YXRlLCBzZXRTdGFnZSwgdGhhdCkge1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB0aGlzLnNldFN0YWdlID0gc2V0U3RhZ2U7XG4gICAgdGhpcy50aGF0ID0gdGhhdDtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBtYWluRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBtYWluRGl2LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiYW5pbWF0aW9uX3BsYXllclwiKTtcblxuICAgIGNvbnN0IGRpdkFuaW1hdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZGl2QW5pbWF0aW9uLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiYW5pbWF0aW9uQmxvY2tcIik7XG5cbiAgICBjb25zdCBhbmltYXRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGFuaW1hdGlvbi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImFuaW1hdGlvblwiKTtcbiAgICBkaXZBbmltYXRpb24uYXBwZW5kQ2hpbGQoYW5pbWF0aW9uKTtcblxuICAgIGNvbnN0IGRpdkZ1bGxTY3JlZW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRpdkZ1bGxTY3JlZW4uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJmdWxsc2NyZWVuXCIpO1xuICAgIGRpdkZ1bGxTY3JlZW4uaW5uZXJIVE1MID0gYDxpIGNsYXNzPVwiZmFzIGZhLWNvbXByZXNzXCI+PC9pPmA7XG4gICAgZGl2RnVsbFNjcmVlbi5vbmNsaWNrID0gZnVsbFNjcmVlbkZ1bmMoXG4gICAgICB0aGlzLnN0YXRlLFxuICAgICAgdGhpcy5zZXRTdGF0ZSxcbiAgICAgIHRoaXMudGhhdFxuICAgICk7XG4gICAgYW5pbWF0aW9uLmFwcGVuZENoaWxkKGRpdkZ1bGxTY3JlZW4pO1xuXG4gICAgY29uc3QgYW5pbWF0aW9uU2V0dGluZ3MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGFuaW1hdGlvblNldHRpbmdzLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiYW5pbWF0aW9uX3NldHRpbmdzXCIpO1xuXG4gICAgY29uc3QgZnBzVmlldyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIGZwc1ZpZXcudGV4dENvbnRlbnQgPSBgJHsrdGhpcy5zdGF0ZS5hbmltYXRpb25TZXR0aW5ncy5mcHNWYWx1ZX0gZnBzYDtcbiAgICBmcHNWaWV3LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiZnBzVmlld1wiKTtcbiAgICBhbmltYXRpb25TZXR0aW5ncy5hcHBlbmRDaGlsZChmcHNWaWV3KTtcblxuICAgIGNvbnN0IGZwc1JhbmdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIGZwc1JhbmdlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiZnBzUmFuZ2VcIik7XG4gICAgZnBzUmFuZ2Uuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInJhbmdlXCIpO1xuICAgIGZwc1JhbmdlLnNldEF0dHJpYnV0ZShcIm1pblwiLCBcIjFcIik7XG4gICAgZnBzUmFuZ2Uuc2V0QXR0cmlidXRlKFwibWF4XCIsIFwiMjRcIik7XG4gICAgZnBzUmFuZ2Uuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgYCR7K3RoaXMuc3RhdGUuYW5pbWF0aW9uU2V0dGluZ3MuZnBzVmFsdWV9YCk7XG4gICAgZnBzUmFuZ2Uub25jaGFuZ2UgPSBmcHNDaGFuZ2VGdW5jKHRoaXMuc3RhdGUsIHRoaXMuc2V0U3RhZ2UsIHRoaXMudGhhdCk7XG4gICAgYW5pbWF0aW9uU2V0dGluZ3MuYXBwZW5kQ2hpbGQoZnBzUmFuZ2UpO1xuXG4gICAgZGl2QW5pbWF0aW9uLmFwcGVuZENoaWxkKGFuaW1hdGlvblNldHRpbmdzKTtcbiAgICBtYWluRGl2LmFwcGVuZENoaWxkKGRpdkFuaW1hdGlvbik7XG5cbiAgICByZXR1cm4gbWFpbkRpdjtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBbmltYXRpb25MYXllcnM7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7OztBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFHQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/animation_layers/index.js\n");

/***/ }),

/***/ "./src/components/animation_layers/index.scss":
/*!****************************************************!*\
  !*** ./src/components/animation_layers/index.scss ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var content = __webpack_require__(/*! !../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??ref--7-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!./index.scss */ \"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./src/components/animation_layers/index.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.i, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = __webpack_require__(/*! ../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9hbmltYXRpb25fbGF5ZXJzL2luZGV4LnNjc3MuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9hbmltYXRpb25fbGF5ZXJzL2luZGV4LnNjc3M/NDFlNyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS03LTIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTctMyEuL2luZGV4LnNjc3NcIik7XG5cbmlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xufVxuXG52YXIgb3B0aW9ucyA9IHt9XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmIChjb250ZW50LmxvY2Fscykge1xuICBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/animation_layers/index.scss\n");

/***/ }),

/***/ "./src/components/canvas/Canvasfuncs/canvasWheelEvent.js":
/*!***************************************************************!*\
  !*** ./src/components/canvas/Canvasfuncs/canvasWheelEvent.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction canvasWheelSize(state, that) {\n  return function (e) {\n    var delta = e.deltaY;\n    if (delta > 0) {\n      if (state.canvasSettings.scale < 2) {\n        state.canvasSettings.scale += 0.05;\n      }\n    } else if (state.canvasSettings.scale > 0.2) {\n      state.canvasSettings.scale -= 0.05;\n    }\n    document.querySelector(\"#canvas\").style.transform = \"scale(\" + state.canvasSettings.scale + \")\";\n\n    that.setState(state);\n  };\n}\n\nexports.default = canvasWheelSize;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9jYW52YXMvQ2FudmFzZnVuY3MvY2FudmFzV2hlZWxFdmVudC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvY29tcG9uZW50cy9jYW52YXMvQ2FudmFzZnVuY3MvY2FudmFzV2hlZWxFdmVudC5qcz9hYzYzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGNhbnZhc1doZWVsU2l6ZShzdGF0ZSwgdGhhdCkge1xuICByZXR1cm4gZnVuY3Rpb24oZSkge1xuICAgIGNvbnN0IGRlbHRhID0gZS5kZWx0YVk7XG4gICAgaWYgKGRlbHRhID4gMCkge1xuICAgICAgaWYgKHN0YXRlLmNhbnZhc1NldHRpbmdzLnNjYWxlIDwgMikge1xuICAgICAgICBzdGF0ZS5jYW52YXNTZXR0aW5ncy5zY2FsZSArPSAwLjA1O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc3RhdGUuY2FudmFzU2V0dGluZ3Muc2NhbGUgPiAwLjIpIHtcbiAgICAgICAgc3RhdGUuY2FudmFzU2V0dGluZ3Muc2NhbGUgLT0gMC4wNTtcbiAgICAgIH1cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIjY2FudmFzXCJcbiAgICApLnN0eWxlLnRyYW5zZm9ybSA9IGBzY2FsZSgke3N0YXRlLmNhbnZhc1NldHRpbmdzLnNjYWxlfSlgO1xuXG4gICAgdGhhdC5zZXRTdGF0ZShzdGF0ZSk7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNhbnZhc1doZWVsU2l6ZTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/canvas/Canvasfuncs/canvasWheelEvent.js\n");

/***/ }),

/***/ "./src/components/canvas/index.js":
/*!****************************************!*\
  !*** ./src/components/canvas/index.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _index = __webpack_require__(/*! ./index.scss */ \"./src/components/canvas/index.scss\");\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _canvasWheelEvent = __webpack_require__(/*! ./Canvasfuncs/canvasWheelEvent */ \"./src/components/canvas/Canvasfuncs/canvasWheelEvent.js\");\n\nvar _canvasWheelEvent2 = _interopRequireDefault(_canvasWheelEvent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Canvas = function () {\n    function Canvas(state, setState, that) {\n        _classCallCheck(this, Canvas);\n\n        this.state = state;\n        this.setState = setState;\n        this.that = that;\n    }\n\n    _createClass(Canvas, [{\n        key: \"render\",\n        value: function render() {\n            var mainDiv = document.createElement(\"div\");\n            mainDiv.setAttribute(\"class\", \"canvasBlock\");\n            mainDiv.onwheel = (0, _canvasWheelEvent2.default)(this.state, this.that);\n\n            return mainDiv;\n        }\n    }]);\n\n    return Canvas;\n}();\n\nexports.default = Canvas;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9jYW52YXMvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvY2FudmFzL2luZGV4LmpzP2E3OWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHN0eWxlIGZyb20gXCIuL2luZGV4LnNjc3NcIjtcbmltcG9ydCBjYW52YXNXaGVlbEV2ZW50IGZyb20gXCIuL0NhbnZhc2Z1bmNzL2NhbnZhc1doZWVsRXZlbnRcIjtcblxuY2xhc3MgQ2FudmFzIHtcbiAgICBjb25zdHJ1Y3RvcihzdGF0ZSwgc2V0U3RhdGUsIHRoYXQpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICB0aGlzLnNldFN0YXRlID0gc2V0U3RhdGU7XG4gICAgICAgIHRoaXMudGhhdCA9IHRoYXQ7XG4gICAgfVxuICAgIFxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgbWFpbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIG1haW5EaXYuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYW52YXNCbG9ja1wiKTtcbiAgICAgICAgbWFpbkRpdi5vbndoZWVsID0gY2FudmFzV2hlZWxFdmVudCh0aGlzLnN0YXRlLCB0aGlzLnRoYXQpO1xuXG4gICAgICAgIHJldHVybiBtYWluRGl2O1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FudmFzO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFHQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/canvas/index.js\n");

/***/ }),

/***/ "./src/components/canvas/index.scss":
/*!******************************************!*\
  !*** ./src/components/canvas/index.scss ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var content = __webpack_require__(/*! !../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??ref--7-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!./index.scss */ \"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./src/components/canvas/index.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.i, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = __webpack_require__(/*! ../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9jYW52YXMvaW5kZXguc2Nzcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2NhbnZhcy9pbmRleC5zY3NzPzE1ZjkiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tNy0yIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS03LTMhLi9pbmRleC5zY3NzXCIpO1xuXG5pZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbn1cblxudmFyIG9wdGlvbnMgPSB7fVxuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZiAoY29udGVudC5sb2NhbHMpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/canvas/index.scss\n");

/***/ }),

/***/ "./src/components/frames/Framesfuncs/addFrameFunc.js":
/*!***********************************************************!*\
  !*** ./src/components/frames/Framesfuncs/addFrameFunc.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction addFrameFunc(state, setState, that) {\n  return function () {\n    var emptyFrame = {\n      id: 1 + that.count,\n      matrix: []\n    };\n    state.frames.push(emptyFrame);\n    state.currFrame = state.frames.length - 1;\n    that.setState(state);\n  };\n}\nexports.default = addFrameFunc;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9mcmFtZXMvRnJhbWVzZnVuY3MvYWRkRnJhbWVGdW5jLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL2ZyYW1lcy9GcmFtZXNmdW5jcy9hZGRGcmFtZUZ1bmMuanM/NDdiZCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBhZGRGcmFtZUZ1bmMoc3RhdGUsIHNldFN0YXRlLCB0aGF0KSB7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgY29uc3QgZW1wdHlGcmFtZSA9IHtcbiAgICAgIGlkOiAxICsgdGhhdC5jb3VudCxcbiAgICAgIG1hdHJpeDogW11cbiAgICB9O1xuICAgIHN0YXRlLmZyYW1lcy5wdXNoKGVtcHR5RnJhbWUpO1xuICAgIHN0YXRlLmN1cnJGcmFtZSA9IHN0YXRlLmZyYW1lcy5sZW5ndGggLSAxO1xuICAgIHRoYXQuc2V0U3RhdGUoc3RhdGUpO1xuICB9O1xufVxuZXhwb3J0IGRlZmF1bHQgYWRkRnJhbWVGdW5jO1xuIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/frames/Framesfuncs/addFrameFunc.js\n");

/***/ }),

/***/ "./src/components/frames/Framesfuncs/copyFrameFunc.js":
/*!************************************************************!*\
  !*** ./src/components/frames/Framesfuncs/copyFrameFunc.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction copyFrameFunc(state, setState, that) {\n  return function (e) {\n    var copyObject = JSON.parse(JSON.stringify(state.frames[+e.target.parentNode.parentNode.getAttribute(\"data-position\") - 1]));\n    copyObject.id = 1 + that.count;\n    state.frames.splice(+e.target.parentNode.parentNode.getAttribute(\"data-position\"), 0, copyObject);\n    state.currFrame = +e.target.parentNode.parentNode.getAttribute(\"data-position\");\n    that.setState(state);\n  };\n}\nexports.default = copyFrameFunc;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9mcmFtZXMvRnJhbWVzZnVuY3MvY29weUZyYW1lRnVuYy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvY29tcG9uZW50cy9mcmFtZXMvRnJhbWVzZnVuY3MvY29weUZyYW1lRnVuYy5qcz8yYzZlIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGNvcHlGcmFtZUZ1bmMoc3RhdGUsIHNldFN0YXRlLCB0aGF0KSB7XG4gIHJldHVybiBmdW5jdGlvbihlKSB7XG4gICAgY29uc3QgY29weU9iamVjdCA9IEpTT04ucGFyc2UoXG4gICAgICBKU09OLnN0cmluZ2lmeShcbiAgICAgICAgc3RhdGUuZnJhbWVzW1xuICAgICAgICAgICtlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1wb3NpdGlvblwiKSAtIDFcbiAgICAgICAgXVxuICAgICAgKVxuICAgICk7XG4gICAgY29weU9iamVjdC5pZCA9IDEgKyB0aGF0LmNvdW50O1xuICAgIHN0YXRlLmZyYW1lcy5zcGxpY2UoXG4gICAgICArZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZShcImRhdGEtcG9zaXRpb25cIiksXG4gICAgICAwLFxuICAgICAgY29weU9iamVjdFxuICAgICk7XG4gICAgc3RhdGUuY3VyckZyYW1lID0gK2UudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoXG4gICAgICBcImRhdGEtcG9zaXRpb25cIlxuICAgICk7XG4gICAgdGhhdC5zZXRTdGF0ZShzdGF0ZSk7XG4gIH07XG59XG5leHBvcnQgZGVmYXVsdCBjb3B5RnJhbWVGdW5jO1xuIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFLQTtBQUdBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/frames/Framesfuncs/copyFrameFunc.js\n");

/***/ }),

/***/ "./src/components/frames/Framesfuncs/deleteFrameFunc.js":
/*!**************************************************************!*\
  !*** ./src/components/frames/Framesfuncs/deleteFrameFunc.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction deleteFrameFunc(state, setState, that) {\n  return function (e) {\n    state.frames.splice(+e.target.parentNode.parentNode.getAttribute(\"data-position\") - 1, 1);\n    if (state.currFrame - 1 < 0) {\n      state.currFrame = 0;\n    } else {\n      state.currFrame -= 1;\n    }\n    that.setState(state);\n  };\n}\n\nexports.default = deleteFrameFunc;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9mcmFtZXMvRnJhbWVzZnVuY3MvZGVsZXRlRnJhbWVGdW5jLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL2ZyYW1lcy9GcmFtZXNmdW5jcy9kZWxldGVGcmFtZUZ1bmMuanM/YjJmMCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBkZWxldGVGcmFtZUZ1bmMoc3RhdGUsIHNldFN0YXRlLCB0aGF0KSB7XG4gIHJldHVybiBmdW5jdGlvbihlKSB7XG4gICAgc3RhdGUuZnJhbWVzLnNwbGljZShcbiAgICAgICtlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1wb3NpdGlvblwiKSAtIDEsXG4gICAgICAxXG4gICAgKTtcbiAgICBpZiAoc3RhdGUuY3VyckZyYW1lIC0gMSA8IDApIHtcbiAgICAgIHN0YXRlLmN1cnJGcmFtZSA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLmN1cnJGcmFtZSAtPSAxO1xuICAgIH1cbiAgICB0aGF0LnNldFN0YXRlKHN0YXRlKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZGVsZXRlRnJhbWVGdW5jO1xuIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/frames/Framesfuncs/deleteFrameFunc.js\n");

/***/ }),

/***/ "./src/components/frames/Framesfuncs/frameClickFunc.js":
/*!*************************************************************!*\
  !*** ./src/components/frames/Framesfuncs/frameClickFunc.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nfunction frameClickFunc(state, setState, that) {\n    return function (e) {\n        if (e.target.getAttribute(\"data-position\") - 1 > -1) {\n            state.currFrame = e.target.getAttribute(\"data-position\") - 1;\n            that.setState(state);\n        }\n    };\n}\n\nexports.default = frameClickFunc;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9mcmFtZXMvRnJhbWVzZnVuY3MvZnJhbWVDbGlja0Z1bmMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvZnJhbWVzL0ZyYW1lc2Z1bmNzL2ZyYW1lQ2xpY2tGdW5jLmpzP2EyOWQiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gZnJhbWVDbGlja0Z1bmMoc3RhdGUsIHNldFN0YXRlLCB0aGF0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKGUudGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtcG9zaXRpb25cIikgLSAxID4gLTEpIHtcbiAgICAgICAgICAgIHN0YXRlLmN1cnJGcmFtZSA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtcG9zaXRpb25cIikgLSAxO1xuICAgICAgICAgICAgdGhhdC5zZXRTdGF0ZShzdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmcmFtZUNsaWNrRnVuYztcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/frames/Framesfuncs/frameClickFunc.js\n");

/***/ }),

/***/ "./src/components/frames/Framesfuncs/moveFrameFunc.js":
/*!************************************************************!*\
  !*** ./src/components/frames/Framesfuncs/moveFrameFunc.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction moveFrameFunc(state, setState, that) {\n  return function (e) {\n    var headerHeight = document.querySelector(\".header\").offsetHeight;\n    var framesArr = Array.from(document.querySelectorAll(\".frame\"));\n    var aim = framesArr.filter(function (el) {\n      return +e.target.parentNode.parentNode.getAttribute(\"data-position\") === +el.getAttribute(\"data-position\");\n    })[0];\n    var fWA = framesArr.filter(function (el) {\n      return +e.target.parentNode.parentNode.getAttribute(\"data-position\") !== +el.getAttribute(\"data-position\");\n    });\n    function checkPosition(tar) {\n      var indexR = void 0;\n\n      if (indexR) {\n        for (var i = 0; i < fWA.length; i += 1) {\n          if (indexR === fWA.length - 1) {\n            fWA[i].style.marginBottom = fWA[i].offsetHeight + fWA[i].offsetHeight / 10 + \"px\";\n            fWA[i].style.borderBottom = \"4px dashed #FFD700\";\n            fWA[i].dataset.last = \"true\";\n          }\n          if (i !== indexR) {\n            fWA[i].removeAttribute(\"style\");\n          }\n        }\n        fWA.forEach(function (fr) {\n          return fr.removeAttribute(\"data-last\");\n        });\n      } else {\n        fWA.forEach(function (fr) {\n          return fr.removeAttribute(\"style\");\n        });\n        fWA.forEach(function (fr) {\n          return fr.removeAttribute(\"data-last\");\n        });\n      }\n\n      for (var _i = 0; _i < fWA.length; _i += 1) {\n        if (tar > fWA[_i].offsetTop - fWA[_i].offsetHeight / 4 && tar < fWA[_i].offsetTop + fWA[_i].offsetHeight / 4) {\n          fWA[_i].style.marginTop = fWA[_i].offsetHeight + fWA[_i].offsetHeight / 10 + \"px\";\n          fWA[_i].style.borderTop = \"4px dashed #FFD700\";\n          indexR = _i;\n        } else if (tar > fWA[_i].offsetTop + fWA[_i].offsetHeight) {\n          if (_i === fWA.length - 1) {\n            fWA[_i].style.marginBottom = fWA[_i].offsetHeight + fWA[_i].offsetHeight / 10 + \"px\";\n            fWA[_i].style.borderBottom = \"4px dashed #FFD700\";\n            fWA[_i].dataset.last = \"true\";\n            indexR = _i;\n          }\n        }\n      }\n    }\n    function msMove(e) {\n      var coorY = e.pageY - (aim.offsetHeight - aim.offsetHeight / 10) - headerHeight;\n      aim.style.position = \"absolute\";\n      aim.style.zIndex = 5;\n      aim.style.top = coorY + \"px\";\n      checkPosition(coorY);\n    }\n\n    function msUp() {\n      window.removeEventListener(\"mousemove\", msMove);\n      window.removeEventListener(\"mouseup\", msUp);\n      var sibler = fWA.filter(function (fr) {\n        return fr.getAttribute(\"style\");\n      })[0];\n\n      if (sibler) {\n        if (fWA.indexOf(sibler) === fWA.length - 1 && sibler.getAttribute(\"data-last\") === \"true\") {\n          var newArr = state.frames.splice(aim.getAttribute(\"data-position\") - 1, 1);\n          state.frames.push(newArr[0]);\n          that.setState(state);\n        } else {\n          var _newArr = state.frames.splice(aim.getAttribute(\"data-position\") - 1, 1);\n          state.frames.splice(+sibler.getAttribute(\"data-position\") - 1, 0, _newArr[0]);\n          that.setState(state);\n        }\n      } else {\n        that.setState(state);\n      }\n    }\n\n    window.addEventListener(\"mouseup\", msUp);\n    window.addEventListener(\"mousemove\", msMove);\n  };\n}\nexports.default = moveFrameFunc;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9mcmFtZXMvRnJhbWVzZnVuY3MvbW92ZUZyYW1lRnVuYy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvY29tcG9uZW50cy9mcmFtZXMvRnJhbWVzZnVuY3MvbW92ZUZyYW1lRnVuYy5qcz9iMjU4Il0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIG1vdmVGcmFtZUZ1bmMoc3RhdGUsIHNldFN0YXRlLCB0aGF0KSB7XG4gIHJldHVybiBmdW5jdGlvbihlKSB7XG4gICAgY29uc3QgaGVhZGVySGVpZ2h0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJcIikub2Zmc2V0SGVpZ2h0O1xuICAgIGNvbnN0IGZyYW1lc0FyciA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mcmFtZVwiKSk7XG4gICAgY29uc3QgYWltID0gZnJhbWVzQXJyLmZpbHRlcihcbiAgICAgIGVsID0+XG4gICAgICAgICtlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1wb3NpdGlvblwiKSA9PT1cbiAgICAgICAgK2VsLmdldEF0dHJpYnV0ZShcImRhdGEtcG9zaXRpb25cIilcbiAgICApWzBdO1xuICAgIGNvbnN0IGZXQSA9IGZyYW1lc0Fyci5maWx0ZXIoXG4gICAgICBlbCA9PlxuICAgICAgICArZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZShcImRhdGEtcG9zaXRpb25cIikgIT09XG4gICAgICAgICtlbC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBvc2l0aW9uXCIpXG4gICAgKTtcbiAgICBmdW5jdGlvbiBjaGVja1Bvc2l0aW9uKHRhcikge1xuICAgICAgbGV0IGluZGV4UjtcblxuICAgICAgaWYgKGluZGV4Uikge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZXQS5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgIGlmIChpbmRleFIgPT09IGZXQS5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBmV0FbaV0uc3R5bGUubWFyZ2luQm90dG9tID0gYCR7ZldBW2ldLm9mZnNldEhlaWdodCArXG4gICAgICAgICAgICAgIGZXQVtpXS5vZmZzZXRIZWlnaHQgLyAxMH1weGA7XG4gICAgICAgICAgICBmV0FbaV0uc3R5bGUuYm9yZGVyQm90dG9tID0gXCI0cHggZGFzaGVkICNGRkQ3MDBcIjtcbiAgICAgICAgICAgIGZXQVtpXS5kYXRhc2V0Lmxhc3QgPSBcInRydWVcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGkgIT09IGluZGV4Uikge1xuICAgICAgICAgICAgZldBW2ldLnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmV0EuZm9yRWFjaChmciA9PiBmci5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLWxhc3RcIikpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZldBLmZvckVhY2goZnIgPT4gZnIucmVtb3ZlQXR0cmlidXRlKFwic3R5bGVcIikpO1xuICAgICAgICBmV0EuZm9yRWFjaChmciA9PiBmci5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLWxhc3RcIikpO1xuICAgICAgfVxuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZXQS5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdGFyID4gZldBW2ldLm9mZnNldFRvcCAtIGZXQVtpXS5vZmZzZXRIZWlnaHQgLyA0ICYmXG4gICAgICAgICAgdGFyIDwgZldBW2ldLm9mZnNldFRvcCArIGZXQVtpXS5vZmZzZXRIZWlnaHQgLyA0XG4gICAgICAgICkge1xuICAgICAgICAgIGZXQVtpXS5zdHlsZS5tYXJnaW5Ub3AgPSBgJHtmV0FbaV0ub2Zmc2V0SGVpZ2h0ICtcbiAgICAgICAgICAgIGZXQVtpXS5vZmZzZXRIZWlnaHQgLyAxMH1weGA7XG4gICAgICAgICAgZldBW2ldLnN0eWxlLmJvcmRlclRvcCA9IFwiNHB4IGRhc2hlZCAjRkZENzAwXCI7XG4gICAgICAgICAgaW5kZXhSID0gaTtcbiAgICAgICAgfSBlbHNlIGlmICh0YXIgPiBmV0FbaV0ub2Zmc2V0VG9wICsgZldBW2ldLm9mZnNldEhlaWdodCkge1xuICAgICAgICAgIGlmIChpID09PSBmV0EubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgZldBW2ldLnN0eWxlLm1hcmdpbkJvdHRvbSA9IGAke2ZXQVtpXS5vZmZzZXRIZWlnaHQgK1xuICAgICAgICAgICAgICBmV0FbaV0ub2Zmc2V0SGVpZ2h0IC8gMTB9cHhgO1xuICAgICAgICAgICAgZldBW2ldLnN0eWxlLmJvcmRlckJvdHRvbSA9IFwiNHB4IGRhc2hlZCAjRkZENzAwXCI7XG4gICAgICAgICAgICBmV0FbaV0uZGF0YXNldC5sYXN0ID0gXCJ0cnVlXCI7XG4gICAgICAgICAgICBpbmRleFIgPSBpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBtc01vdmUoZSkge1xuICAgICAgY29uc3QgY29vclkgPVxuICAgICAgICBlLnBhZ2VZIC0gKGFpbS5vZmZzZXRIZWlnaHQgLSBhaW0ub2Zmc2V0SGVpZ2h0IC8gMTApIC0gaGVhZGVySGVpZ2h0O1xuICAgICAgYWltLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgYWltLnN0eWxlLnpJbmRleCA9IDU7XG4gICAgICBhaW0uc3R5bGUudG9wID0gYCR7Y29vcll9cHhgO1xuICAgICAgY2hlY2tQb3NpdGlvbihjb29yWSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbXNVcCgpIHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIG1zTW92ZSk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgbXNVcCk7XG4gICAgICBjb25zdCBzaWJsZXIgPSBmV0EuZmlsdGVyKGZyID0+IGZyLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpKVswXTtcblxuICAgICAgaWYgKHNpYmxlcikge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZldBLmluZGV4T2Yoc2libGVyKSA9PT0gZldBLmxlbmd0aCAtIDEgJiZcbiAgICAgICAgICBzaWJsZXIuZ2V0QXR0cmlidXRlKFwiZGF0YS1sYXN0XCIpID09PSBcInRydWVcIlxuICAgICAgICApIHtcbiAgICAgICAgICBjb25zdCBuZXdBcnIgPSBzdGF0ZS5mcmFtZXMuc3BsaWNlKFxuICAgICAgICAgICAgYWltLmdldEF0dHJpYnV0ZShcImRhdGEtcG9zaXRpb25cIikgLSAxLFxuICAgICAgICAgICAgMVxuICAgICAgICAgICk7XG4gICAgICAgICAgc3RhdGUuZnJhbWVzLnB1c2gobmV3QXJyWzBdKTtcbiAgICAgICAgICB0aGF0LnNldFN0YXRlKHN0YXRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBuZXdBcnIgPSBzdGF0ZS5mcmFtZXMuc3BsaWNlKFxuICAgICAgICAgICAgYWltLmdldEF0dHJpYnV0ZShcImRhdGEtcG9zaXRpb25cIikgLSAxLFxuICAgICAgICAgICAgMVxuICAgICAgICAgICk7XG4gICAgICAgICAgc3RhdGUuZnJhbWVzLnNwbGljZShcbiAgICAgICAgICAgICtzaWJsZXIuZ2V0QXR0cmlidXRlKFwiZGF0YS1wb3NpdGlvblwiKSAtIDEsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgbmV3QXJyWzBdXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGF0LnNldFN0YXRlKHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhhdC5zZXRTdGF0ZShzdGF0ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIG1zVXApO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIG1zTW92ZSk7XG4gIH07XG59XG5leHBvcnQgZGVmYXVsdCBtb3ZlRnJhbWVGdW5jO1xuIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBSUE7QUFDQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/frames/Framesfuncs/moveFrameFunc.js\n");

/***/ }),

/***/ "./src/components/frames/index.js":
/*!****************************************!*\
  !*** ./src/components/frames/index.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _index = __webpack_require__(/*! ./index.scss */ \"./src/components/frames/index.scss\");\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _frameClickFunc = __webpack_require__(/*! ./Framesfuncs/frameClickFunc */ \"./src/components/frames/Framesfuncs/frameClickFunc.js\");\n\nvar _frameClickFunc2 = _interopRequireDefault(_frameClickFunc);\n\nvar _addFrameFunc = __webpack_require__(/*! ./Framesfuncs/addFrameFunc */ \"./src/components/frames/Framesfuncs/addFrameFunc.js\");\n\nvar _addFrameFunc2 = _interopRequireDefault(_addFrameFunc);\n\nvar _deleteFrameFunc = __webpack_require__(/*! ./Framesfuncs/deleteFrameFunc */ \"./src/components/frames/Framesfuncs/deleteFrameFunc.js\");\n\nvar _deleteFrameFunc2 = _interopRequireDefault(_deleteFrameFunc);\n\nvar _copyFrameFunc = __webpack_require__(/*! ./Framesfuncs/copyFrameFunc */ \"./src/components/frames/Framesfuncs/copyFrameFunc.js\");\n\nvar _copyFrameFunc2 = _interopRequireDefault(_copyFrameFunc);\n\nvar _moveFrameFunc = __webpack_require__(/*! ./Framesfuncs/moveFrameFunc */ \"./src/components/frames/Framesfuncs/moveFrameFunc.js\");\n\nvar _moveFrameFunc2 = _interopRequireDefault(_moveFrameFunc);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Frames = function () {\n  function Frames(state, setState, that) {\n    _classCallCheck(this, Frames);\n\n    this.state = state;\n    this.setState = setState;\n    this.that = that;\n  }\n\n  _createClass(Frames, [{\n    key: \"createFrames\",\n    value: function createFrames() {\n      var arr = [];\n      for (var i = 0; i < this.state.frames.length; i += 1) {\n        var frame = document.createElement(\"div\");\n        frame.dataset.id = this.state.frames[i].id;\n        frame.dataset.position = i + 1;\n        frame.setAttribute(\"class\", \"frame\");\n        if (i === this.state.currFrame) {\n          frame.setAttribute(\"class\", \"frame frame_active\");\n        }\n        frame.onclick = (0, _frameClickFunc2.default)(this.state, this.setState, this.that);\n\n        var iconNum = document.createElement(\"div\");\n        iconNum.innerHTML = \"<i>\" + frame.getAttribute(\"data-position\") + \"</i>\";\n        iconNum.setAttribute(\"class\", \"iconNum\");\n        frame.appendChild(iconNum);\n\n        var iconCopy = document.createElement(\"div\");\n        iconCopy.innerHTML = \"<i class=\\\"far fa-copy\\\"></i>\";\n        iconCopy.setAttribute(\"class\", \"iconCopy\");\n        iconCopy.dataset.info = \"Copy this frame\";\n        iconCopy.onclick = (0, _copyFrameFunc2.default)(this.state, this.setState, this.that);\n        frame.appendChild(iconCopy);\n\n        if (this.state.frames.length > 1) {\n          var iconDel = document.createElement(\"div\");\n          iconDel.innerHTML = \"<i class=\\\"far fa-trash-alt\\\"></i>\";\n          iconDel.setAttribute(\"class\", \"iconDel\");\n          iconDel.dataset.info = \"Delete this frame\";\n          iconDel.onclick = (0, _deleteFrameFunc2.default)(this.state, this.setState, this.that);\n          frame.appendChild(iconDel);\n\n          var iconMove = document.createElement(\"div\");\n          iconMove.innerHTML = \"<i class=\\\"fas fa-arrows-alt\\\"></i>\";\n          iconMove.setAttribute(\"class\", \"iconMove\");\n          iconMove.dataset.info = \"Move this frame\";\n          iconMove.onmousedown = (0, _moveFrameFunc2.default)(this.state, this.setState, this.that);\n          frame.appendChild(iconMove);\n        }\n\n        arr.push(frame);\n      }\n      return arr;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var mainDiv = document.createElement(\"div\");\n      mainDiv.className = \"frames\";\n\n      this.createFrames().forEach(function (frame) {\n        return mainDiv.appendChild(frame);\n      });\n\n      var addFrameButton = document.createElement(\"button\");\n      addFrameButton.onclick = (0, _addFrameFunc2.default)(this.state, this.setState, this.that);\n      var plus = document.createElement(\"i\");\n      plus.setAttribute(\"class\", \"fas fa-plus\");\n      addFrameButton.appendChild(plus);\n      var span = document.createElement(\"span\");\n      span.setAttribute(\"class\", \"addFrame_text\");\n      span.textContent = \"Add new frame\";\n      addFrameButton.appendChild(span);\n      mainDiv.appendChild(addFrameButton);\n\n      return mainDiv;\n    }\n  }]);\n\n  return Frames;\n}();\n\nexports.default = Frames;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9mcmFtZXMvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvZnJhbWVzL2luZGV4LmpzPzhjYTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHN0eWxlIGZyb20gXCIuL2luZGV4LnNjc3NcIjtcbmltcG9ydCBmcmFtZUNsaWNrRnVuYyBmcm9tIFwiLi9GcmFtZXNmdW5jcy9mcmFtZUNsaWNrRnVuY1wiO1xuaW1wb3J0IGFkZEZyYW1lRnVuYyBmcm9tIFwiLi9GcmFtZXNmdW5jcy9hZGRGcmFtZUZ1bmNcIjtcbmltcG9ydCBkZWxldGVGcmFtZUZ1bmMgZnJvbSBcIi4vRnJhbWVzZnVuY3MvZGVsZXRlRnJhbWVGdW5jXCI7XG5pbXBvcnQgY29weUZyYW1lRnVuYyBmcm9tIFwiLi9GcmFtZXNmdW5jcy9jb3B5RnJhbWVGdW5jXCI7XG5pbXBvcnQgbW92ZUZyYW1lRnVuYyBmcm9tIFwiLi9GcmFtZXNmdW5jcy9tb3ZlRnJhbWVGdW5jXCI7XG5cbmNsYXNzIEZyYW1lcyB7XG4gIGNvbnN0cnVjdG9yKHN0YXRlLCBzZXRTdGF0ZSwgdGhhdCkge1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB0aGlzLnNldFN0YXRlID0gc2V0U3RhdGU7XG4gICAgdGhpcy50aGF0ID0gdGhhdDtcbiAgfVxuXG4gIGNyZWF0ZUZyYW1lcygpIHtcbiAgICBjb25zdCBhcnIgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3RhdGUuZnJhbWVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBjb25zdCBmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBmcmFtZS5kYXRhc2V0LmlkID0gdGhpcy5zdGF0ZS5mcmFtZXNbaV0uaWQ7XG4gICAgICBmcmFtZS5kYXRhc2V0LnBvc2l0aW9uID0gaSArIDE7XG4gICAgICBmcmFtZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImZyYW1lXCIpO1xuICAgICAgaWYgKGkgPT09IHRoaXMuc3RhdGUuY3VyckZyYW1lKSB7XG4gICAgICAgIGZyYW1lLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiZnJhbWUgZnJhbWVfYWN0aXZlXCIpO1xuICAgICAgfVxuICAgICAgZnJhbWUub25jbGljayA9IGZyYW1lQ2xpY2tGdW5jKHRoaXMuc3RhdGUsIHRoaXMuc2V0U3RhdGUsIHRoaXMudGhhdCk7XG5cbiAgICAgIGNvbnN0IGljb25OdW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgaWNvbk51bS5pbm5lckhUTUwgPSBgPGk+JHtmcmFtZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBvc2l0aW9uXCIpfTwvaT5gO1xuICAgICAgaWNvbk51bS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImljb25OdW1cIik7XG4gICAgICBmcmFtZS5hcHBlbmRDaGlsZChpY29uTnVtKTtcblxuICAgICAgY29uc3QgaWNvbkNvcHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgaWNvbkNvcHkuaW5uZXJIVE1MID0gYDxpIGNsYXNzPVwiZmFyIGZhLWNvcHlcIj48L2k+YDtcbiAgICAgIGljb25Db3B5LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiaWNvbkNvcHlcIik7XG4gICAgICBpY29uQ29weS5kYXRhc2V0LmluZm8gPSBcIkNvcHkgdGhpcyBmcmFtZVwiO1xuICAgICAgaWNvbkNvcHkub25jbGljayA9IGNvcHlGcmFtZUZ1bmModGhpcy5zdGF0ZSwgdGhpcy5zZXRTdGF0ZSwgdGhpcy50aGF0KTtcbiAgICAgIGZyYW1lLmFwcGVuZENoaWxkKGljb25Db3B5KTtcblxuICAgICAgaWYgKHRoaXMuc3RhdGUuZnJhbWVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgY29uc3QgaWNvbkRlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGljb25EZWwuaW5uZXJIVE1MID0gYDxpIGNsYXNzPVwiZmFyIGZhLXRyYXNoLWFsdFwiPjwvaT5gO1xuICAgICAgICBpY29uRGVsLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiaWNvbkRlbFwiKTtcbiAgICAgICAgaWNvbkRlbC5kYXRhc2V0LmluZm8gPSBcIkRlbGV0ZSB0aGlzIGZyYW1lXCI7XG4gICAgICAgIGljb25EZWwub25jbGljayA9IGRlbGV0ZUZyYW1lRnVuYyh0aGlzLnN0YXRlLCB0aGlzLnNldFN0YXRlLCB0aGlzLnRoYXQpO1xuICAgICAgICBmcmFtZS5hcHBlbmRDaGlsZChpY29uRGVsKTtcblxuICAgICAgICBjb25zdCBpY29uTW92ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGljb25Nb3ZlLmlubmVySFRNTCA9IGA8aSBjbGFzcz1cImZhcyBmYS1hcnJvd3MtYWx0XCI+PC9pPmA7XG4gICAgICAgIGljb25Nb3ZlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiaWNvbk1vdmVcIik7XG4gICAgICAgIGljb25Nb3ZlLmRhdGFzZXQuaW5mbyA9IFwiTW92ZSB0aGlzIGZyYW1lXCI7XG4gICAgICAgIGljb25Nb3ZlLm9ubW91c2Vkb3duID0gbW92ZUZyYW1lRnVuYyhcbiAgICAgICAgICB0aGlzLnN0YXRlLFxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUsXG4gICAgICAgICAgdGhpcy50aGF0XG4gICAgICAgICk7XG4gICAgICAgIGZyYW1lLmFwcGVuZENoaWxkKGljb25Nb3ZlKTtcbiAgICAgIH1cblxuICAgICAgYXJyLnB1c2goZnJhbWUpO1xuICAgIH1cbiAgICByZXR1cm4gYXJyO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IG1haW5EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG1haW5EaXYuY2xhc3NOYW1lID0gXCJmcmFtZXNcIjtcblxuICAgIHRoaXMuY3JlYXRlRnJhbWVzKCkuZm9yRWFjaChmcmFtZSA9PiBtYWluRGl2LmFwcGVuZENoaWxkKGZyYW1lKSk7XG5cbiAgICBjb25zdCBhZGRGcmFtZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgYWRkRnJhbWVCdXR0b24ub25jbGljayA9IGFkZEZyYW1lRnVuYyh0aGlzLnN0YXRlLCB0aGlzLnNldFN0YXRlLCB0aGlzLnRoYXQpO1xuICAgIGNvbnN0IHBsdXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaVwiKTtcbiAgICBwbHVzLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiZmFzIGZhLXBsdXNcIik7XG4gICAgYWRkRnJhbWVCdXR0b24uYXBwZW5kQ2hpbGQocGx1cyk7XG4gICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIHNwYW4uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJhZGRGcmFtZV90ZXh0XCIpO1xuICAgIHNwYW4udGV4dENvbnRlbnQgPSBcIkFkZCBuZXcgZnJhbWVcIjtcbiAgICBhZGRGcmFtZUJ1dHRvbi5hcHBlbmRDaGlsZChzcGFuKTtcbiAgICBtYWluRGl2LmFwcGVuZENoaWxkKGFkZEZyYW1lQnV0dG9uKTtcblxuICAgIHJldHVybiBtYWluRGl2O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZyYW1lcztcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7O0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQUdBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/frames/index.js\n");

/***/ }),

/***/ "./src/components/frames/index.scss":
/*!******************************************!*\
  !*** ./src/components/frames/index.scss ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var content = __webpack_require__(/*! !../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??ref--7-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!./index.scss */ \"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./src/components/frames/index.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.i, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = __webpack_require__(/*! ../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9mcmFtZXMvaW5kZXguc2Nzcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2ZyYW1lcy9pbmRleC5zY3NzPzI3YmYiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tNy0yIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS03LTMhLi9pbmRleC5zY3NzXCIpO1xuXG5pZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbn1cblxudmFyIG9wdGlvbnMgPSB7fVxuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZiAoY29udGVudC5sb2NhbHMpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/frames/index.scss\n");

/***/ }),

/***/ "./src/components/header/index.js":
/*!****************************************!*\
  !*** ./src/components/header/index.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _index = __webpack_require__(/*! ./index.scss */ \"./src/components/header/index.scss\");\n\nvar _index2 = _interopRequireDefault(_index);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Header = function () {\n    function Header(state) {\n        _classCallCheck(this, Header);\n\n        this.state = state;\n    }\n\n    _createClass(Header, [{\n        key: \"render\",\n        value: function render() {\n            var mainDiv = document.createElement(\"div\");\n            mainDiv.className = \"header\";\n\n            var a = document.createElement(\"a\");\n            a.setAttribute(\"href\", \"#\");\n            var span = document.createElement(\"span\");\n            span.textContent = \"PISKEL\";\n            a.appendChild(span);\n            mainDiv.appendChild(a);\n\n            var projectName = document.createElement(\"h2\");\n            projectName.textContent = this.state.spriteName || \"New Sprite *\";\n            mainDiv.appendChild(projectName);\n\n            var divButtons = document.createElement(\"div\");\n            mainDiv.appendChild(divButtons);\n            var btnCreateSprite = document.createElement(\"button\");\n            btnCreateSprite.textContent = \"Create Sprite\";\n            divButtons.appendChild(btnCreateSprite);\n            var btnSignIn = document.createElement(\"button\");\n            btnSignIn.textContent = \"Sign In\";\n\n            // const btnSignOut = document.createElement(\"button\");\n            // btnSignOut.textContent = \"Sign Out\";\n            // const userPhoto = document.createElement(\"img\");\n            // userPhoto.classList.add(\"user-photo\");\n            // const userName = document.createElement(\"p\");\n            // userName.classList.add(\"user-name\");\n            // btnSignOut.classList.add(\"btn-hide\");\n            // btnSignOut.appendChild(userPhoto);\n            // btnSignOut.appendChild(userName);\n\n\n            //     function signIn () {\n            //         const auth2 = gapi.auth2.getAuthInstance();\n            //         auth2.signIn({ scope: 'https://www.googleapis.com/auth/drive' }).then(googleUser => {          \n            //            const profile = googleUser.getBasicProfile();\n            //            userName.innerText = profile.getName();\n            //            userPhoto.src = profile.getImageUrl();\n            //            btnSignIn.classList.add('btn-hide');\n            //            signOutBtn.classList.remove('btn-hide');\n            //     })\n            //   }\n            //   btnSignIn.addEventListener('click', signIn);\n\n\n            //   function signOut() {\n            //     const auth2 = gapi.auth2.getAuthInstance();\n            //     auth2.signOut().then(function () {\n            //       userName.innerText = '';\n            //       userPhoto.src = '';\n            //       btnSignIn.classList.remove('btn-hide');\n            //       btnSignOut.classList.add('btn-hide');\n            //     });\n            //   }\n\n            //   btnSignOut.addEventListener('click', signOut);\n            //   function onLoad() {\n            //     gapi.load('auth2', function() {\n            //       gapi.auth2.init();\n            //     });\n            //   }\n\n            divButtons.appendChild(btnSignIn);\n            // divButtons.appendChild(btnSignOut);\n\n            return mainDiv;\n        }\n\n        //     const signInBtn = document.querySelector('.signin');\n        //     const signOutBtn = document.querySelector('.signout');\n        //     const userName = document.querySelector('.user-name');\n        //     const userPhoto = document.querySelector('.user-photo');\n\n\n    }]);\n\n    return Header;\n}();\n\nexports.default = Header;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9oZWFkZXIvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvaGVhZGVyL2luZGV4LmpzP2I3NzEiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgc3R5bGUgZnJvbSBcIi4vaW5kZXguc2Nzc1wiO1xuXG5jbGFzcyBIZWFkZXIge1xuICAgIGNvbnN0cnVjdG9yKHN0YXRlKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IG1haW5EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBtYWluRGl2LmNsYXNzTmFtZSA9IFwiaGVhZGVyXCI7XG5cbiAgICAgICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgICAgICBhLnNldEF0dHJpYnV0ZShcImhyZWZcIiwgXCIjXCIpO1xuICAgICAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIHNwYW4udGV4dENvbnRlbnQgPSBcIlBJU0tFTFwiO1xuICAgICAgICBhLmFwcGVuZENoaWxkKHNwYW4pO1xuICAgICAgICBtYWluRGl2LmFwcGVuZENoaWxkKGEpO1xuXG4gICAgICAgIGNvbnN0IHByb2plY3ROYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xuICAgICAgICBwcm9qZWN0TmFtZS50ZXh0Q29udGVudCA9IHRoaXMuc3RhdGUuc3ByaXRlTmFtZSB8fCBcIk5ldyBTcHJpdGUgKlwiO1xuICAgICAgICBtYWluRGl2LmFwcGVuZENoaWxkKHByb2plY3ROYW1lKTtcblxuICAgICAgICBjb25zdCBkaXZCdXR0b25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgbWFpbkRpdi5hcHBlbmRDaGlsZChkaXZCdXR0b25zKTtcbiAgICAgICAgY29uc3QgYnRuQ3JlYXRlU3ByaXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgICAgYnRuQ3JlYXRlU3ByaXRlLnRleHRDb250ZW50ID0gXCJDcmVhdGUgU3ByaXRlXCI7XG4gICAgICAgIGRpdkJ1dHRvbnMuYXBwZW5kQ2hpbGQoYnRuQ3JlYXRlU3ByaXRlKTtcbiAgICAgICAgY29uc3QgYnRuU2lnbkluID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgICAgYnRuU2lnbkluLnRleHRDb250ZW50ID0gXCJTaWduIEluXCI7ICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIFxuXG4gICAgICAgIC8vIGNvbnN0IGJ0blNpZ25PdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICAvLyBidG5TaWduT3V0LnRleHRDb250ZW50ID0gXCJTaWduIE91dFwiO1xuICAgICAgICAvLyBjb25zdCB1c2VyUGhvdG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICAvLyB1c2VyUGhvdG8uY2xhc3NMaXN0LmFkZChcInVzZXItcGhvdG9cIik7XG4gICAgICAgIC8vIGNvbnN0IHVzZXJOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgIC8vIHVzZXJOYW1lLmNsYXNzTGlzdC5hZGQoXCJ1c2VyLW5hbWVcIik7XG4gICAgICAgIC8vIGJ0blNpZ25PdXQuY2xhc3NMaXN0LmFkZChcImJ0bi1oaWRlXCIpO1xuICAgICAgICAvLyBidG5TaWduT3V0LmFwcGVuZENoaWxkKHVzZXJQaG90byk7XG4gICAgICAgIC8vIGJ0blNpZ25PdXQuYXBwZW5kQ2hpbGQodXNlck5hbWUpO1xuXG5cbiAgICAvLyAgICAgZnVuY3Rpb24gc2lnbkluICgpIHtcbiAgICAvLyAgICAgICAgIGNvbnN0IGF1dGgyID0gZ2FwaS5hdXRoMi5nZXRBdXRoSW5zdGFuY2UoKTtcbiAgICAvLyAgICAgICAgIGF1dGgyLnNpZ25Jbih7IHNjb3BlOiAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9kcml2ZScgfSkudGhlbihnb29nbGVVc2VyID0+IHsgICAgICAgICAgXG4gICAgLy8gICAgICAgICAgICBjb25zdCBwcm9maWxlID0gZ29vZ2xlVXNlci5nZXRCYXNpY1Byb2ZpbGUoKTtcbiAgICAvLyAgICAgICAgICAgIHVzZXJOYW1lLmlubmVyVGV4dCA9IHByb2ZpbGUuZ2V0TmFtZSgpO1xuICAgIC8vICAgICAgICAgICAgdXNlclBob3RvLnNyYyA9IHByb2ZpbGUuZ2V0SW1hZ2VVcmwoKTtcbiAgICAvLyAgICAgICAgICAgIGJ0blNpZ25Jbi5jbGFzc0xpc3QuYWRkKCdidG4taGlkZScpO1xuICAgIC8vICAgICAgICAgICAgc2lnbk91dEJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdidG4taGlkZScpO1xuICAgIC8vICAgICB9KVxuICAgIC8vICAgfVxuICAgIC8vICAgYnRuU2lnbkluLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2lnbkluKTtcblxuXG4gICAgLy8gICBmdW5jdGlvbiBzaWduT3V0KCkge1xuICAgIC8vICAgICBjb25zdCBhdXRoMiA9IGdhcGkuYXV0aDIuZ2V0QXV0aEluc3RhbmNlKCk7XG4gICAgLy8gICAgIGF1dGgyLnNpZ25PdXQoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAvLyAgICAgICB1c2VyTmFtZS5pbm5lclRleHQgPSAnJztcbiAgICAvLyAgICAgICB1c2VyUGhvdG8uc3JjID0gJyc7XG4gICAgLy8gICAgICAgYnRuU2lnbkluLmNsYXNzTGlzdC5yZW1vdmUoJ2J0bi1oaWRlJyk7XG4gICAgLy8gICAgICAgYnRuU2lnbk91dC5jbGFzc0xpc3QuYWRkKCdidG4taGlkZScpO1xuICAgIC8vICAgICB9KTtcbiAgICAvLyAgIH1cbiAgIFxuICAgIC8vICAgYnRuU2lnbk91dC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNpZ25PdXQpO1xuICAgIC8vICAgZnVuY3Rpb24gb25Mb2FkKCkge1xuICAgIC8vICAgICBnYXBpLmxvYWQoJ2F1dGgyJywgZnVuY3Rpb24oKSB7XG4gICAgLy8gICAgICAgZ2FwaS5hdXRoMi5pbml0KCk7XG4gICAgLy8gICAgIH0pO1xuICAgIC8vICAgfVxuXG4gICAgICAgIGRpdkJ1dHRvbnMuYXBwZW5kQ2hpbGQoYnRuU2lnbkluKTtcbiAgICAgICAgLy8gZGl2QnV0dG9ucy5hcHBlbmRDaGlsZChidG5TaWduT3V0KTtcblxuICAgICAgICByZXR1cm4gbWFpbkRpdjtcbiAgICB9XG4gICAgXG5cbi8vICAgICBjb25zdCBzaWduSW5CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2lnbmluJyk7XG4vLyAgICAgY29uc3Qgc2lnbk91dEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaWdub3V0Jyk7XG4vLyAgICAgY29uc3QgdXNlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudXNlci1uYW1lJyk7XG4vLyAgICAgY29uc3QgdXNlclBob3RvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnVzZXItcGhvdG8nKTtcblxuXG5cblxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IEhlYWRlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFDQTtBQUNBOzs7Ozs7O0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFNQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/header/index.js\n");

/***/ }),

/***/ "./src/components/header/index.scss":
/*!******************************************!*\
  !*** ./src/components/header/index.scss ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var content = __webpack_require__(/*! !../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??ref--7-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!./index.scss */ \"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./src/components/header/index.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.i, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = __webpack_require__(/*! ../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9oZWFkZXIvaW5kZXguc2Nzcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2hlYWRlci9pbmRleC5zY3NzP2U0ZjYiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tNy0yIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS03LTMhLi9pbmRleC5zY3NzXCIpO1xuXG5pZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbn1cblxudmFyIG9wdGlvbnMgPSB7fVxuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZiAoY29udGVudC5sb2NhbHMpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/header/index.scss\n");

/***/ }),

/***/ "./src/components/optionalPanel/OptionalPanelFuncs/exportButtonFunc.js":
/*!*****************************************************************************!*\
  !*** ./src/components/optionalPanel/OptionalPanelFuncs/exportButtonFunc.js ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gif = __webpack_require__(/*! ./gif */ \"./src/components/optionalPanel/OptionalPanelFuncs/gif.js\");\n\nvar _gif2 = _interopRequireDefault(_gif);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction exportButtonFunc(state) {\n  return function () {\n    var gif = new _gif2.default({\n      workers: 2,\n      quality: 10\n    });\n\n    var range = 39.3;\n    var frames = state.frames;\n\n    var canvasBlockWidth = document.querySelector(\".canvasBlock\").scrollWidth;\n    var canvas = document.createElement(\"canvas\");\n    var canvasWidth = Math.floor(canvasBlockWidth / range) * state.canvasSettings.rows;\n    var canvasHeight = Math.floor(canvasBlockWidth / range) * state.canvasSettings.columns;\n    canvas.setAttribute(\"id\", \"gifCanvas\");\n    canvas.setAttribute(\"width\", canvasWidth);\n    canvas.setAttribute(\"height\", canvasHeight);\n    var ctx = canvas.getContext(\"2d\");\n    var fps = 1000 / state.animationSettings.fpsValue;\n    document.body.appendChild(canvas);\n    var pixelSize = Math.ceil(canvas.clientWidth / state.canvasSettings.rows);\n    for (var i = 0; i < frames.length; i += 1) {\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      for (var j = 0; j < frames[i].matrix.length; j += 1) {\n        for (var q = 0; q < frames[i].matrix[j].length; q += 1) {\n          ctx.fillStyle = frames[i].matrix[j][q];\n          ctx.fillRect(j * pixelSize, q * pixelSize, pixelSize, pixelSize);\n        }\n      }\n\n      gif.addFrame(canvas, { copy: true, delay: fps });\n    }\n\n    gif.on(\"finished\", function (blob) {\n      var url = window.URL.createObjectURL(blob);\n      var a = document.createElement(\"a\");\n      document.body.appendChild(a);\n      a.style = \"display: none\";\n      a.href = url;\n      a.download = state.spriteName;\n      a.click();\n      window.URL.revokeObjectURL(url);\n      a.remove();\n    });\n\n    gif.render();\n    document.querySelector(\"#gifCanvas\").remove();\n  };\n}\nexports.default = exportButtonFunc;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9vcHRpb25hbFBhbmVsL09wdGlvbmFsUGFuZWxGdW5jcy9leHBvcnRCdXR0b25GdW5jLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL29wdGlvbmFsUGFuZWwvT3B0aW9uYWxQYW5lbEZ1bmNzL2V4cG9ydEJ1dHRvbkZ1bmMuanM/OTA3ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgR0lGIGZyb20gXCIuL2dpZlwiO1xuXG5mdW5jdGlvbiBleHBvcnRCdXR0b25GdW5jKHN0YXRlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBjb25zdCBnaWYgPSBuZXcgR0lGKHtcbiAgICAgIHdvcmtlcnM6IDIsXG4gICAgICBxdWFsaXR5OiAxMFxuICAgIH0pO1xuXG4gICAgY29uc3QgcmFuZ2UgPSAzOS4zO1xuICAgIGNvbnN0IHsgZnJhbWVzIH0gPSBzdGF0ZTtcbiAgICBjb25zdCBjYW52YXNCbG9ja1dpZHRoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYW52YXNCbG9ja1wiKS5zY3JvbGxXaWR0aDtcbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgIGNvbnN0IGNhbnZhc1dpZHRoID1cbiAgICAgIE1hdGguZmxvb3IoY2FudmFzQmxvY2tXaWR0aCAvIHJhbmdlKSAqIHN0YXRlLmNhbnZhc1NldHRpbmdzLnJvd3M7XG4gICAgY29uc3QgY2FudmFzSGVpZ2h0ID1cbiAgICAgIE1hdGguZmxvb3IoY2FudmFzQmxvY2tXaWR0aCAvIHJhbmdlKSAqIHN0YXRlLmNhbnZhc1NldHRpbmdzLmNvbHVtbnM7XG4gICAgY2FudmFzLnNldEF0dHJpYnV0ZShcImlkXCIsIFwiZ2lmQ2FudmFzXCIpO1xuICAgIGNhbnZhcy5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCBjYW52YXNXaWR0aCk7XG4gICAgY2FudmFzLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLCBjYW52YXNIZWlnaHQpO1xuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgY29uc3QgZnBzID0gMTAwMCAvIHN0YXRlLmFuaW1hdGlvblNldHRpbmdzLmZwc1ZhbHVlO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FudmFzKTtcbiAgICBjb25zdCBwaXhlbFNpemUgPSBNYXRoLmNlaWwoY2FudmFzLmNsaWVudFdpZHRoIC8gc3RhdGUuY2FudmFzU2V0dGluZ3Mucm93cyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmcmFtZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZnJhbWVzW2ldLm1hdHJpeC5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICBmb3IgKGxldCBxID0gMDsgcSA8IGZyYW1lc1tpXS5tYXRyaXhbal0ubGVuZ3RoOyBxICs9IDEpIHtcbiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gZnJhbWVzW2ldLm1hdHJpeFtqXVtxXTtcbiAgICAgICAgICBjdHguZmlsbFJlY3QoaiAqIHBpeGVsU2l6ZSwgcSAqIHBpeGVsU2l6ZSwgcGl4ZWxTaXplLCBwaXhlbFNpemUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGdpZi5hZGRGcmFtZShjYW52YXMsIHsgY29weTogdHJ1ZSwgZGVsYXk6IGZwcyB9KTtcbiAgICB9XG5cbiAgICBnaWYub24oXCJmaW5pc2hlZFwiLCBmdW5jdGlvbihibG9iKSB7XG4gICAgICBjb25zdCB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XG4gICAgICBhLnN0eWxlID0gXCJkaXNwbGF5OiBub25lXCI7XG4gICAgICBhLmhyZWYgPSB1cmw7XG4gICAgICBhLmRvd25sb2FkID0gc3RhdGUuc3ByaXRlTmFtZTtcbiAgICAgIGEuY2xpY2soKTtcbiAgICAgIHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gICAgICBhLnJlbW92ZSgpO1xuICAgIH0pO1xuXG4gICAgZ2lmLnJlbmRlcigpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZ2lmQ2FudmFzXCIpLnJlbW92ZSgpO1xuICB9O1xufVxuZXhwb3J0IGRlZmF1bHQgZXhwb3J0QnV0dG9uRnVuYztcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUlBO0FBTkE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/optionalPanel/OptionalPanelFuncs/exportButtonFunc.js\n");

/***/ }),

/***/ "./src/components/optionalPanel/OptionalPanelFuncs/gif.js":
/*!****************************************************************!*\
  !*** ./src/components/optionalPanel/OptionalPanelFuncs/gif.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n!function (t, e) {\n  ( false ? undefined : _typeof(exports)) === \"object\" && ( false ? undefined : _typeof(module)) === \"object\" ? module.exports = e() :  true ? !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (e),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : undefined;\n}(undefined, function () {\n  return function (t) {\n    function e(n) {\n      if (i[n]) return i[n].exports;\n      var r = i[n] = { exports: {}, id: n, loaded: !1 };\n      return t[n].call(r.exports, r, r.exports, e), r.loaded = !0, r.exports;\n    }\n    var i = {};\n    return e.m = t, e.c = i, e.p = \"\", e(0);\n  }([function (t, e, i) {\n    var n = void 0;\n    var r = void 0;\n    var s = void 0;\n    var o = function o(t, e) {\n      function i() {\n        this.constructor = t;\n      }\n      for (var _n in e) {\n        a.call(e, _n) && (t[_n] = e[_n]);\n      }return i.prototype = e.prototype, t.prototype = new i(), t.__super__ = e.prototype, t;\n    };\n    var a = {}.hasOwnProperty;\n    var h = [].indexOf || function (t) {\n      for (var _e = 0, _i = this.length; _e < _i; _e++) {\n        if (_e in this && this[_e] === t) return _e;\n      }return -1;\n    };\n    n = i(1).EventEmitter, s = i(2), r = function (t) {\n      function e(t) {\n        var e = void 0;var n = void 0;var r = void 0;\n        this.running = !1, this.options = {}, this.frames = [], this.groups = new Map(), this.freeWorkers = [], this.activeWorkers = [], this.setOptions(t);\n        for (n in i) {\n          r = i[n], (e = this.options)[n] == null && (e[n] = r);\n        }\n      }\n      var i = void 0;var n = void 0;\n      return o(e, t), i = {\n        workerScript: \"gif.worker.js\",\n        workers: 2,\n        repeat: 0,\n        background: \"#fff\",\n        quality: 10,\n        width: null,\n        height: null,\n        transparent: null,\n        debug: !1\n      }, n = { delay: 500, copy: !1 }, e.prototype.setOption = function (t, e) {\n        if (this.options[t] = e, this._canvas != null && (t === \"width\" || t === \"height\")) return this._canvas[t] = e;\n      }, e.prototype.setOptions = function (t) {\n        var e = void 0;var i = void 0;var n = void 0;\n        i = [];\n        for (e in t) {\n          a.call(t, e) && (n = t[e], i.push(this.setOption(e, n)));\n        }return i;\n      }, e.prototype.addFrame = function (t, e) {\n        var i = void 0;var r = void 0;var s = void 0;\n        e == null && (e = {}), i = {}, i.transparent = this.options.transparent;\n        for (s in n) {\n          i[s] = e[s] || n[s];\n        }if (this.options.width == null && this.setOption(\"width\", t.width), this.options.height == null && this.setOption(\"height\", t.height), typeof ImageData !== \"undefined\" && ImageData !== null && t instanceof ImageData) i.data = t.data;else if (typeof CanvasRenderingContext2D !== \"undefined\" && CanvasRenderingContext2D !== null && t instanceof CanvasRenderingContext2D || typeof WebGLRenderingContext !== \"undefined\" && WebGLRenderingContext !== null && t instanceof WebGLRenderingContext) e.copy ? i.data = this.getContextData(t) : i.context = t;else {\n          if (t.childNodes == null) throw new Error(\"Invalid image\");\n          e.copy ? i.data = this.getImageData(t) : i.image = t;\n        }\n        return r = this.frames.length, r > 0 && i.data && (this.groups.has(i.data) ? this.groups.get(i.data).push(r) : this.groups.set(i.data, [r])), this.frames.push(i);\n      }, e.prototype.render = function () {\n        var t = void 0;var e = void 0;var i = void 0;var n = void 0;\n        if (this.running) throw new Error(\"Already running\");\n        if (this.options.width == null || this.options.height == null) throw new Error(\"Width and height must be set prior to rendering\");\n        if (this.running = !0, this.nextFrame = 0, this.finishedFrames = 0, this.imageParts = function () {\n          var e = void 0;var i = void 0;var n = void 0;\n          for (n = [], t = e = 0, i = this.frames.length; i >= 0 ? e < i : e > i; t = i >= 0 ? ++e : --e) {\n            n.push(null);\n          }return n;\n        }.call(this), i = this.spawnWorkers(), this.options.globalPalette === !0) this.renderNextFrame();else for (t = e = 0, n = i; n >= 0 ? e < n : e > n; t = n >= 0 ? ++e : --e) {\n          this.renderNextFrame();\n        }return this.emit(\"start\"), this.emit(\"progress\", 0);\n      }, e.prototype.abort = function () {\n        for (var t;;) {\n          if (t = this.activeWorkers.shift(), t == null) break;\n          this.log(\"killing active worker\"), t.terminate();\n        }\n        return this.running = !1, this.emit(\"abort\");\n      }, e.prototype.spawnWorkers = function () {\n        var t = void 0;var e = void 0;var i = void 0;\n        return t = Math.min(this.options.workers, this.frames.length), function () {\n          i = [];\n          for (var _n2 = e = this.freeWorkers.length; e <= t ? _n2 < t : _n2 > t; e <= t ? _n2++ : _n2--) {\n            i.push(_n2);\n          }return i;\n        }.apply(this).forEach(function (t) {\n          return function (e) {\n            var i = void 0;\n            return t.log(\"spawning worker \" + e), i = new Worker(t.options.workerScript), i.onmessage = function (e) {\n              return t.activeWorkers.splice(t.activeWorkers.indexOf(i), 1), t.freeWorkers.push(i), t.frameFinished(e.data, !1);\n            }, t.freeWorkers.push(i);\n          };\n        }(this)), t;\n      }, e.prototype.frameFinished = function (t, e) {\n        var i = void 0;var n = void 0;var r = void 0;var s = void 0;var o = void 0;\n        if (this.finishedFrames++, e ? (n = this.frames.indexOf(t), r = this.groups.get(t.data)[0], this.log(\"frame \" + (n + 1) + \" is duplicate of \" + r + \" - \" + this.activeWorkers.length + \" active\"), this.imageParts[n] = { indexOfFirstInGroup: r }) : (this.log(\"frame \" + (t.index + 1) + \" finished - \" + this.activeWorkers.length + \" active\"), this.emit(\"progress\", this.finishedFrames / this.frames.length), this.imageParts[t.index] = t), this.options.globalPalette === !0 && !e && (this.options.globalPalette = t.globalPalette, this.log(\"global palette analyzed\"), this.frames.length > 2)) for (i = s = 1, o = this.freeWorkers.length; o >= 1 ? s < o : s > o; i = o >= 1 ? ++s : --s) {\n          this.renderNextFrame();\n        }return h.call(this.imageParts, null) >= 0 ? this.renderNextFrame() : this.finishRendering();\n      }, e.prototype.finishRendering = function () {\n        var t = void 0;var e = void 0;var i = void 0;var n = void 0;var r = void 0;var s = void 0;var o = void 0;var a = void 0;var h = void 0;var l = void 0;var f = void 0;var p = void 0;var u = void 0;var d = void 0;var c = void 0;var g = void 0;var v = void 0;var m = void 0;var y = void 0;var _ = void 0;\n        for (v = this.imageParts, r = s = 0, l = v.length; s < l; r = ++s) {\n          e = v[r], e.indexOfFirstInGroup && (this.imageParts[r] = this.imageParts[e.indexOfFirstInGroup]);\n        }for (h = 0, m = this.imageParts, o = 0, f = m.length; o < f; o++) {\n          e = m[o], h += (e.data.length - 1) * e.pageSize + e.cursor;\n        }for (h += e.pageSize - e.cursor, this.log(\"rendering finished - filesize \" + Math.round(h / 1e3) + \"kb\"), t = new Uint8Array(h), c = 0, y = this.imageParts, a = 0, p = y.length; a < p; a++) {\n          for (e = y[a], _ = e.data, i = d = 0, u = _.length; d < u; i = ++d) {\n            g = _[i], t.set(g, c), c += i === e.data.length - 1 ? e.cursor : e.pageSize;\n          }\n        }return n = new Blob([t], { type: \"image/gif\" }), this.emit(\"finished\", n, t);\n      }, e.prototype.renderNextFrame = function () {\n        var t = void 0;var e = void 0;var i = void 0;var n = void 0;\n        if (this.freeWorkers.length === 0) throw new Error(\"No free workers\");\n        if (!(this.nextFrame >= this.frames.length)) return t = this.frames[this.nextFrame++], e = this.frames.indexOf(t), e > 0 && this.groups.has(t.data) && this.groups.get(t.data)[0] !== e ? void setTimeout(function (e) {\n          return function () {\n            return e.frameFinished(t, !0);\n          };\n        }(this), 0) : (n = this.freeWorkers.shift(), i = this.getTask(t), this.log(\"starting frame \" + (i.index + 1) + \" of \" + this.frames.length), this.activeWorkers.push(n), n.postMessage(i));\n      }, e.prototype.getContextData = function (t) {\n        return t.getImageData(0, 0, this.options.width, this.options.height).data;\n      }, e.prototype.getImageData = function (t) {\n        var e = void 0;\n        return this._canvas == null && (this._canvas = document.createElement(\"canvas\"), this._canvas.width = this.options.width, this._canvas.height = this.options.height), e = this._canvas.getContext(\"2d\"), e.setFill = this.options.background, e.fillRect(0, 0, this.options.width, this.options.height), e.drawImage(t, 0, 0), this.getContextData(e);\n      }, e.prototype.getTask = function (t) {\n        var e = void 0;var i = void 0;\n        if (e = this.frames.indexOf(t), i = {\n          index: e,\n          last: e === this.frames.length - 1,\n          delay: t.delay,\n          transparent: t.transparent,\n          width: this.options.width,\n          height: this.options.height,\n          quality: this.options.quality,\n          dither: this.options.dither,\n          globalPalette: this.options.globalPalette,\n          repeat: this.options.repeat,\n          canTransfer: !0\n        }, t.data != null) i.data = t.data;else if (t.context != null) i.data = this.getContextData(t.context);else {\n          if (t.image == null) throw new Error(\"Invalid frame\");\n          i.data = this.getImageData(t.image);\n        }\n        return i;\n      }, e.prototype.log = function (t) {\n        if (this.options.debug) return console.log(t);\n      }, e;\n    }(n), t.exports = r;\n  }, function (t, e) {\n    function i() {\n      this._events = this._events || {}, this._maxListeners = this._maxListeners || void 0;\n    }\n    function n(t) {\n      return typeof t === \"function\";\n    }\n    function r(t) {\n      return typeof t === \"number\";\n    }\n    function s(t) {\n      return (typeof t === \"undefined\" ? \"undefined\" : _typeof(t)) === \"object\" && t !== null;\n    }\n    function o(t) {\n      return void 0 === t;\n    }\n    t.exports = i, i.EventEmitter = i, i.prototype._events = void 0, i.prototype._maxListeners = void 0, i.defaultMaxListeners = 10, i.prototype.setMaxListeners = function (t) {\n      if (!r(t) || t < 0 || isNaN(t)) throw TypeError(\"n must be a positive number\");\n      return this._maxListeners = t, this;\n    }, i.prototype.emit = function (t) {\n      var e = void 0;var i = void 0;var r = void 0;var a = void 0;var h = void 0;var l = void 0;\n      if (this._events || (this._events = {}), t === \"error\" && (!this._events.error || s(this._events.error) && !this._events.error.length)) {\n        if (e = arguments[1], e instanceof Error) throw e;\n        var f = new Error(\"Uncaught, unspecified \\\"error\\\" event. (\" + e + \")\");\n        throw f.context = e, f;\n      }\n      if (i = this._events[t], o(i)) return !1;\n      if (n(i)) switch (arguments.length) {\n        case 1:\n          i.call(this);\n          break;\n        case 2:\n          i.call(this, arguments[1]);\n          break;\n        case 3:\n          i.call(this, arguments[1], arguments[2]);\n          break;\n        default:\n          a = Array.prototype.slice.call(arguments, 1), i.apply(this, a);\n      } else if (s(i)) for (a = Array.prototype.slice.call(arguments, 1), l = i.slice(), r = l.length, h = 0; h < r; h++) {\n        l[h].apply(this, a);\n      }return !0;\n    }, i.prototype.addListener = function (t, e) {\n      var r = void 0;\n      if (!n(e)) throw TypeError(\"listener must be a function\");\n      return this._events || (this._events = {}), this._events.newListener && this.emit(\"newListener\", t, n(e.listener) ? e.listener : e), this._events[t] ? s(this._events[t]) ? this._events[t].push(e) : this._events[t] = [this._events[t], e] : this._events[t] = e, s(this._events[t]) && !this._events[t].warned && (r = o(this._maxListeners) ? i.defaultMaxListeners : this._maxListeners, r && r > 0 && this._events[t].length > r && (this._events[t].warned = !0, console.error(\"(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.\", this._events[t].length), typeof console.trace === \"function\" && console.trace())), this;\n    }, i.prototype.on = i.prototype.addListener, i.prototype.once = function (t, e) {\n      function i() {\n        this.removeListener(t, i), r || (r = !0, e.apply(this, arguments));\n      }\n      if (!n(e)) throw TypeError(\"listener must be a function\");\n      var r = !1;\n      return i.listener = e, this.on(t, i), this;\n    }, i.prototype.removeListener = function (t, e) {\n      var i = void 0;var r = void 0;var o = void 0;var a = void 0;\n      if (!n(e)) throw TypeError(\"listener must be a function\");\n      if (!this._events || !this._events[t]) return this;\n      if (i = this._events[t], o = i.length, r = -1, i === e || n(i.listener) && i.listener === e) delete this._events[t], this._events.removeListener && this.emit(\"removeListener\", t, e);else if (s(i)) {\n        for (a = o; a-- > 0;) {\n          if (i[a] === e || i[a].listener && i[a].listener === e) {\n            r = a;\n            break;\n          }\n        }if (r < 0) return this;\n        i.length === 1 ? (i.length = 0, delete this._events[t]) : i.splice(r, 1), this._events.removeListener && this.emit(\"removeListener\", t, e);\n      }\n      return this;\n    }, i.prototype.removeAllListeners = function (t) {\n      var e = void 0;var i = void 0;\n      if (!this._events) return this;\n      if (!this._events.removeListener) return arguments.length === 0 ? this._events = {} : this._events[t] && delete this._events[t], this;\n      if (arguments.length === 0) {\n        for (e in this._events) {\n          e !== \"removeListener\" && this.removeAllListeners(e);\n        }return this.removeAllListeners(\"removeListener\"), this._events = {}, this;\n      }\n      if (i = this._events[t], n(i)) this.removeListener(t, i);else if (i) for (; i.length;) {\n        this.removeListener(t, i[i.length - 1]);\n      }return delete this._events[t], this;\n    }, i.prototype.listeners = function (t) {\n      var e = void 0;\n      return e = this._events && this._events[t] ? n(this._events[t]) ? [this._events[t]] : this._events[t].slice() : [];\n    }, i.prototype.listenerCount = function (t) {\n      if (this._events) {\n        var _e2 = this._events[t];\n        if (n(_e2)) return 1;\n        if (_e2) return _e2.length;\n      }\n      return 0;\n    }, i.listenerCount = function (t, e) {\n      return t.listenerCount(e);\n    };\n  }, function (t, e) {\n    var i = void 0;var n = void 0;var r = void 0;var s = void 0;var o = void 0;\n    o = navigator.userAgent.toLowerCase(), s = navigator.platform.toLowerCase(), i = o.match(/(opera|ie|firefox|chrome|version)[\\s\\/:]([\\w\\d\\.]+)?.*?(safari|version[\\s\\/:]([\\w\\d\\.]+)|$)/) || [null, \"unknown\", 0], r = i[1] === \"ie\" && document.documentMode, n = {\n      name: i[1] === \"version\" ? i[3] : i[1],\n      version: r || parseFloat(i[1] === \"opera\" && i[4] ? i[4] : i[2]),\n      platform: {\n        name: o.match(/ip(?:ad|od|hone)/) ? \"ios\" : (o.match(/(?:webos|android)/) || s.match(/mac|win|linux/) || [\"other\"])[0]\n      }\n    }, n[n.name] = !0, n[n.name + parseInt(n.version, 10)] = !0, n.platform[n.platform.name] = !0, t.exports = n;\n  }]);\n});\n// # sourceMappingURL=gif.js.map\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../node_modules/webpack/buildin/module.js */ \"./node_modules/webpack/buildin/module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9vcHRpb25hbFBhbmVsL09wdGlvbmFsUGFuZWxGdW5jcy9naWYuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvb3B0aW9uYWxQYW5lbC9PcHRpb25hbFBhbmVsRnVuY3MvZ2lmLmpzPzExMjkiXSwic291cmNlc0NvbnRlbnQiOlsiIShmdW5jdGlvbih0LCBlKSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCJcbiAgICA/IChtb2R1bGUuZXhwb3J0cyA9IGUoKSlcbiAgICA6IHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kXG4gICAgPyBkZWZpbmUoW10sIGUpXG4gICAgOiB0eXBlb2YgZXhwb3J0cyA9PT0gXCJvYmplY3RcIlxuICAgID8gKGV4cG9ydHMuR0lGID0gZSgpKVxuICAgIDogKHQuR0lGID0gZSgpKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKGZ1bmN0aW9uKHQpIHtcbiAgICBmdW5jdGlvbiBlKG4pIHtcbiAgICAgIGlmIChpW25dKSByZXR1cm4gaVtuXS5leHBvcnRzO1xuICAgICAgY29uc3QgciA9IChpW25dID0geyBleHBvcnRzOiB7fSwgaWQ6IG4sIGxvYWRlZDogITEgfSk7XG4gICAgICByZXR1cm4gdFtuXS5jYWxsKHIuZXhwb3J0cywgciwgci5leHBvcnRzLCBlKSwgKHIubG9hZGVkID0gITApLCByLmV4cG9ydHM7XG4gICAgfVxuICAgIHZhciBpID0ge307XG4gICAgcmV0dXJuIChlLm0gPSB0KSwgKGUuYyA9IGkpLCAoZS5wID0gXCJcIiksIGUoMCk7XG4gIH0pKFtcbiAgICBmdW5jdGlvbih0LCBlLCBpKSB7XG4gICAgICBsZXQgbjtcbiAgICAgICAgbGV0IHI7XG4gICAgICAgIGxldCBzO1xuICAgICAgICBjb25zdCBvID0gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICAgIGZ1bmN0aW9uIGkoKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yID0gdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yIChjb25zdCBuIGluIGUpIGEuY2FsbChlLCBuKSAmJiAodFtuXSA9IGVbbl0pO1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAoaS5wcm90b3R5cGUgPSBlLnByb3RvdHlwZSksXG4gICAgICAgICAgICAodC5wcm90b3R5cGUgPSBuZXcgaSgpKSxcbiAgICAgICAgICAgICh0Ll9fc3VwZXJfXyA9IGUucHJvdG90eXBlKSxcbiAgICAgICAgICAgIHRcbiAgICAgICAgICApO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgYSA9IHt9Lmhhc093blByb3BlcnR5O1xuICAgICAgICBjb25zdCBoID1cbiAgICAgICAgICBbXS5pbmRleE9mIHx8XG4gICAgICAgICAgZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgZm9yIChsZXQgZSA9IDAsIGkgPSB0aGlzLmxlbmd0aDsgZSA8IGk7IGUrKylcbiAgICAgICAgICAgICAgaWYgKGUgaW4gdGhpcyAmJiB0aGlzW2VdID09PSB0KSByZXR1cm4gZTtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICB9O1xuICAgICAgKG4gPSBpKDEpLkV2ZW50RW1pdHRlciksXG4gICAgICAgIChzID0gaSgyKSksXG4gICAgICAgIChyID0gKGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICBmdW5jdGlvbiBlKHQpIHtcbiAgICAgICAgICAgIGxldCBlOyBsZXQgbjsgbGV0IHI7XG4gICAgICAgICAgICAodGhpcy5ydW5uaW5nID0gITEpLFxuICAgICAgICAgICAgICAodGhpcy5vcHRpb25zID0ge30pLFxuICAgICAgICAgICAgICAodGhpcy5mcmFtZXMgPSBbXSksXG4gICAgICAgICAgICAgICh0aGlzLmdyb3VwcyA9IG5ldyBNYXAoKSksXG4gICAgICAgICAgICAgICh0aGlzLmZyZWVXb3JrZXJzID0gW10pLFxuICAgICAgICAgICAgICAodGhpcy5hY3RpdmVXb3JrZXJzID0gW10pLFxuICAgICAgICAgICAgICB0aGlzLnNldE9wdGlvbnModCk7XG4gICAgICAgICAgICBmb3IgKG4gaW4gaSlcbiAgICAgICAgICAgICAgKHIgPSBpW25dKSwgKGUgPSB0aGlzLm9wdGlvbnMpW25dID09IG51bGwgJiYgKGVbbl0gPSByKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IGk7IGxldCBuO1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBvKGUsIHQpLFxuICAgICAgICAgICAgKGkgPSB7XG4gICAgICAgICAgICAgIHdvcmtlclNjcmlwdDogXCJnaWYud29ya2VyLmpzXCIsXG4gICAgICAgICAgICAgIHdvcmtlcnM6IDIsXG4gICAgICAgICAgICAgIHJlcGVhdDogMCxcbiAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCIjZmZmXCIsXG4gICAgICAgICAgICAgIHF1YWxpdHk6IDEwLFxuICAgICAgICAgICAgICB3aWR0aDogbnVsbCxcbiAgICAgICAgICAgICAgaGVpZ2h0OiBudWxsLFxuICAgICAgICAgICAgICB0cmFuc3BhcmVudDogbnVsbCxcbiAgICAgICAgICAgICAgZGVidWc6ICExXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIChuID0geyBkZWxheTogNTAwLCBjb3B5OiAhMSB9KSxcbiAgICAgICAgICAgIChlLnByb3RvdHlwZS5zZXRPcHRpb24gPSBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAoKHRoaXMub3B0aW9uc1t0XSA9IGUpLFxuICAgICAgICAgICAgICAgIHRoaXMuX2NhbnZhcyAhPSBudWxsICYmICh0ID09PSBcIndpZHRoXCIgfHwgdCA9PT0gXCJoZWlnaHRcIikpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICByZXR1cm4gKHRoaXMuX2NhbnZhc1t0XSA9IGUpO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAoZS5wcm90b3R5cGUuc2V0T3B0aW9ucyA9IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgbGV0IGU7IGxldCBpOyBsZXQgbjtcbiAgICAgICAgICAgICAgaSA9IFtdO1xuICAgICAgICAgICAgICBmb3IgKGUgaW4gdClcbiAgICAgICAgICAgICAgICBhLmNhbGwodCwgZSkgJiYgKChuID0gdFtlXSksIGkucHVzaCh0aGlzLnNldE9wdGlvbihlLCBuKSkpO1xuICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKGUucHJvdG90eXBlLmFkZEZyYW1lID0gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICAgICAgICBsZXQgaTsgbGV0IHI7IGxldCBzO1xuICAgICAgICAgICAgICBlID09IG51bGwgJiYgKGUgPSB7fSksXG4gICAgICAgICAgICAgICAgKGkgPSB7fSksXG4gICAgICAgICAgICAgICAgKGkudHJhbnNwYXJlbnQgPSB0aGlzLm9wdGlvbnMudHJhbnNwYXJlbnQpO1xuICAgICAgICAgICAgICBmb3IgKHMgaW4gbikgaVtzXSA9IGVbc10gfHwgbltzXTtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICh0aGlzLm9wdGlvbnMud2lkdGggPT0gbnVsbCAmJiB0aGlzLnNldE9wdGlvbihcIndpZHRoXCIsIHQud2lkdGgpLFxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5oZWlnaHQgPT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgdGhpcy5zZXRPcHRpb24oXCJoZWlnaHRcIiwgdC5oZWlnaHQpLFxuICAgICAgICAgICAgICAgIHR5cGVvZiBJbWFnZURhdGEgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgICAgICAgICAgIEltYWdlRGF0YSAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgdCBpbnN0YW5jZW9mIEltYWdlRGF0YSlcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIGkuZGF0YSA9IHQuZGF0YTtcbiAgICAgICAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgKHR5cGVvZiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgICAgICAgICAgIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgdCBpbnN0YW5jZW9mIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgfHxcbiAgICAgICAgICAgICAgICAodHlwZW9mIFdlYkdMUmVuZGVyaW5nQ29udGV4dCAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICAgICAgICAgICAgICAgV2ViR0xSZW5kZXJpbmdDb250ZXh0ICE9PSBudWxsICYmXG4gICAgICAgICAgICAgICAgICB0IGluc3RhbmNlb2YgV2ViR0xSZW5kZXJpbmdDb250ZXh0KVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgZS5jb3B5ID8gKGkuZGF0YSA9IHRoaXMuZ2V0Q29udGV4dERhdGEodCkpIDogKGkuY29udGV4dCA9IHQpO1xuICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodC5jaGlsZE5vZGVzID09IG51bGwpIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaW1hZ2VcIik7XG4gICAgICAgICAgICAgICAgZS5jb3B5ID8gKGkuZGF0YSA9IHRoaXMuZ2V0SW1hZ2VEYXRhKHQpKSA6IChpLmltYWdlID0gdCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAociA9IHRoaXMuZnJhbWVzLmxlbmd0aCksXG4gICAgICAgICAgICAgICAgciA+IDAgJiZcbiAgICAgICAgICAgICAgICAgIGkuZGF0YSAmJlxuICAgICAgICAgICAgICAgICAgKHRoaXMuZ3JvdXBzLmhhcyhpLmRhdGEpXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5ncm91cHMuZ2V0KGkuZGF0YSkucHVzaChyKVxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuZ3JvdXBzLnNldChpLmRhdGEsIFtyXSkpLFxuICAgICAgICAgICAgICAgIHRoaXMuZnJhbWVzLnB1c2goaSlcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKGUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBsZXQgdDsgbGV0IGU7IGxldCBpOyBsZXQgbjtcbiAgICAgICAgICAgICAgaWYgKHRoaXMucnVubmluZykgdGhyb3cgbmV3IEVycm9yKFwiQWxyZWFkeSBydW5uaW5nXCIpO1xuICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLndpZHRoID09IG51bGwgfHwgdGhpcy5vcHRpb25zLmhlaWdodCA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICAgIFwiV2lkdGggYW5kIGhlaWdodCBtdXN0IGJlIHNldCBwcmlvciB0byByZW5kZXJpbmdcIlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAoKHRoaXMucnVubmluZyA9ICEwKSxcbiAgICAgICAgICAgICAgICAodGhpcy5uZXh0RnJhbWUgPSAwKSxcbiAgICAgICAgICAgICAgICAodGhpcy5maW5pc2hlZEZyYW1lcyA9IDApLFxuICAgICAgICAgICAgICAgICh0aGlzLmltYWdlUGFydHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIGxldCBlOyBsZXQgaTsgbGV0IG47XG4gICAgICAgICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgICAgICBuID0gW10sIHQgPSBlID0gMCwgaSA9IHRoaXMuZnJhbWVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgaSA+PSAwID8gZSA8IGkgOiBlID4gaTtcbiAgICAgICAgICAgICAgICAgICAgdCA9IGkgPj0gMCA/ICsrZSA6IC0tZVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICBuLnB1c2gobnVsbCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgICAgICAgICB9LmNhbGwodGhpcykpLFxuICAgICAgICAgICAgICAgIChpID0gdGhpcy5zcGF3bldvcmtlcnMoKSksXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmdsb2JhbFBhbGV0dGUgPT09ICEwKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJOZXh0RnJhbWUoKTtcbiAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgICB0ID0gZSA9IDAsIG4gPSBpO1xuICAgICAgICAgICAgICAgICAgbiA+PSAwID8gZSA8IG4gOiBlID4gbjtcbiAgICAgICAgICAgICAgICAgIHQgPSBuID49IDAgPyArK2UgOiAtLWVcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlck5leHRGcmFtZSgpO1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbWl0KFwic3RhcnRcIiksIHRoaXMuZW1pdChcInByb2dyZXNzXCIsIDApO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAoZS5wcm90b3R5cGUuYWJvcnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgdDsgOyApIHtcbiAgICAgICAgICAgICAgICBpZiAoKCh0ID0gdGhpcy5hY3RpdmVXb3JrZXJzLnNoaWZ0KCkpLCB0ID09IG51bGwpKSBicmVhaztcbiAgICAgICAgICAgICAgICB0aGlzLmxvZyhcImtpbGxpbmcgYWN0aXZlIHdvcmtlclwiKSwgdC50ZXJtaW5hdGUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gKHRoaXMucnVubmluZyA9ICExKSwgdGhpcy5lbWl0KFwiYWJvcnRcIik7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIChlLnByb3RvdHlwZS5zcGF3bldvcmtlcnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgbGV0IHQ7IGxldCBlOyBsZXQgaTtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAodCA9IE1hdGgubWluKHRoaXMub3B0aW9ucy53b3JrZXJzLCB0aGlzLmZyYW1lcy5sZW5ndGgpKSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIGkgPSBbXTtcbiAgICAgICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgICAgIGxldCBuID0gKGUgPSB0aGlzLmZyZWVXb3JrZXJzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIGUgPD0gdCA/IG4gPCB0IDogbiA+IHQ7XG4gICAgICAgICAgICAgICAgICAgIGUgPD0gdCA/IG4rKyA6IG4tLVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICBpLnB1c2gobik7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAuYXBwbHkodGhpcylcbiAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKFxuICAgICAgICAgICAgICAgICAgICAoZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHQubG9nKGBzcGF3bmluZyB3b3JrZXIgJHsgIGV9YCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIChpID0gbmV3IFdvcmtlcih0Lm9wdGlvbnMud29ya2VyU2NyaXB0KSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIChpLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5hY3RpdmVXb3JrZXJzLnNwbGljZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5hY3RpdmVXb3JrZXJzLmluZGV4T2YoaSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LmZyZWVXb3JrZXJzLnB1c2goaSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LmZyYW1lRmluaXNoZWQoZS5kYXRhLCAhMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdC5mcmVlV29ya2Vycy5wdXNoKGkpXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0pKHRoaXMpXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHRcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKGUucHJvdG90eXBlLmZyYW1lRmluaXNoZWQgPSBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgICAgICAgIGxldCBpOyBsZXQgbjsgbGV0IHI7IGxldCBzOyBsZXQgbztcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICh0aGlzLmZpbmlzaGVkRnJhbWVzKyssXG4gICAgICAgICAgICAgICAgZVxuICAgICAgICAgICAgICAgICAgPyAoKG4gPSB0aGlzLmZyYW1lcy5pbmRleE9mKHQpKSxcbiAgICAgICAgICAgICAgICAgICAgKHIgPSB0aGlzLmdyb3Vwcy5nZXQodC5kYXRhKVswXSksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nKFxuICAgICAgICAgICAgICAgICAgICAgIGBmcmFtZSAkeyBcbiAgICAgICAgICAgICAgICAgICAgICAgIG4gKyAxIFxuICAgICAgICAgICAgICAgICAgICAgICAgfSBpcyBkdXBsaWNhdGUgb2YgJHsgXG4gICAgICAgICAgICAgICAgICAgICAgICByIFxuICAgICAgICAgICAgICAgICAgICAgICAgfSAtICR7IFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVXb3JrZXJzLmxlbmd0aCBcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gYWN0aXZlYFxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAodGhpcy5pbWFnZVBhcnRzW25dID0geyBpbmRleE9mRmlyc3RJbkdyb3VwOiByIH0pKVxuICAgICAgICAgICAgICAgICAgOiAodGhpcy5sb2coXG4gICAgICAgICAgICAgICAgICAgICAgYGZyYW1lICR7IFxuICAgICAgICAgICAgICAgICAgICAgICAgdC5pbmRleCArIDEgXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmlzaGVkIC0gJHsgXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZVdvcmtlcnMubGVuZ3RoIFxuICAgICAgICAgICAgICAgICAgICAgICAgfSBhY3RpdmVgXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcbiAgICAgICAgICAgICAgICAgICAgICBcInByb2dyZXNzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5maW5pc2hlZEZyYW1lcyAvIHRoaXMuZnJhbWVzLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAodGhpcy5pbWFnZVBhcnRzW3QuaW5kZXhdID0gdCkpLFxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5nbG9iYWxQYWxldHRlID09PSAhMCAmJlxuICAgICAgICAgICAgICAgICAgIWUgJiZcbiAgICAgICAgICAgICAgICAgICgodGhpcy5vcHRpb25zLmdsb2JhbFBhbGV0dGUgPSB0Lmdsb2JhbFBhbGV0dGUpLFxuICAgICAgICAgICAgICAgICAgdGhpcy5sb2coXCJnbG9iYWwgcGFsZXR0ZSBhbmFseXplZFwiKSxcbiAgICAgICAgICAgICAgICAgIHRoaXMuZnJhbWVzLmxlbmd0aCA+IDIpKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICAgIGkgPSBzID0gMSwgbyA9IHRoaXMuZnJlZVdvcmtlcnMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgbyA+PSAxID8gcyA8IG8gOiBzID4gbztcbiAgICAgICAgICAgICAgICAgIGkgPSBvID49IDEgPyArK3MgOiAtLXNcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlck5leHRGcmFtZSgpO1xuICAgICAgICAgICAgICByZXR1cm4gaC5jYWxsKHRoaXMuaW1hZ2VQYXJ0cywgbnVsbCkgPj0gMFxuICAgICAgICAgICAgICAgID8gdGhpcy5yZW5kZXJOZXh0RnJhbWUoKVxuICAgICAgICAgICAgICAgIDogdGhpcy5maW5pc2hSZW5kZXJpbmcoKTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKGUucHJvdG90eXBlLmZpbmlzaFJlbmRlcmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBsZXQgdDsgbGV0IGU7IGxldCBpOyBsZXQgbjsgbGV0IHI7IGxldCBzOyBsZXQgbzsgbGV0IGE7IGxldCBoOyBsZXQgbDsgbGV0IGY7IGxldCBwOyBsZXQgdTsgbGV0IGQ7IGxldCBjOyBsZXQgZzsgbGV0IHY7IGxldCBtOyBsZXQgeTsgbGV0IF87XG4gICAgICAgICAgICAgIGZvciAodiA9IHRoaXMuaW1hZ2VQYXJ0cywgciA9IHMgPSAwLCBsID0gdi5sZW5ndGg7IHMgPCBsOyByID0gKytzKVxuICAgICAgICAgICAgICAgIChlID0gdltyXSksXG4gICAgICAgICAgICAgICAgICBlLmluZGV4T2ZGaXJzdEluR3JvdXAgJiZcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMuaW1hZ2VQYXJ0c1tyXSA9IHRoaXMuaW1hZ2VQYXJ0c1tcbiAgICAgICAgICAgICAgICAgICAgICBlLmluZGV4T2ZGaXJzdEluR3JvdXBcbiAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgIGZvciAoaCA9IDAsIG0gPSB0aGlzLmltYWdlUGFydHMsIG8gPSAwLCBmID0gbS5sZW5ndGg7IG8gPCBmOyBvKyspXG4gICAgICAgICAgICAgICAgKGUgPSBtW29dKSwgKGggKz0gKGUuZGF0YS5sZW5ndGggLSAxKSAqIGUucGFnZVNpemUgKyBlLmN1cnNvcik7XG4gICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgaCArPSBlLnBhZ2VTaXplIC0gZS5jdXJzb3IsXG4gICAgICAgICAgICAgICAgICB0aGlzLmxvZyhcbiAgICAgICAgICAgICAgICAgICAgYHJlbmRlcmluZyBmaW5pc2hlZCAtIGZpbGVzaXplICR7IFxuICAgICAgICAgICAgICAgICAgICAgIE1hdGgucm91bmQoaCAvIDFlMykgXG4gICAgICAgICAgICAgICAgICAgICAgfWtiYFxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIHQgPSBuZXcgVWludDhBcnJheShoKSxcbiAgICAgICAgICAgICAgICAgIGMgPSAwLFxuICAgICAgICAgICAgICAgICAgeSA9IHRoaXMuaW1hZ2VQYXJ0cyxcbiAgICAgICAgICAgICAgICAgIGEgPSAwLFxuICAgICAgICAgICAgICAgICAgcCA9IHkubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGEgPCBwO1xuICAgICAgICAgICAgICAgIGErK1xuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICAgIGUgPSB5W2FdLCBfID0gZS5kYXRhLCBpID0gZCA9IDAsIHUgPSBfLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgIGQgPCB1O1xuICAgICAgICAgICAgICAgICAgaSA9ICsrZFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIChnID0gX1tpXSksXG4gICAgICAgICAgICAgICAgICAgIHQuc2V0KGcsIGMpLFxuICAgICAgICAgICAgICAgICAgICAoYyArPSBpID09PSBlLmRhdGEubGVuZ3RoIC0gMSA/IGUuY3Vyc29yIDogZS5wYWdlU2l6ZSk7XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgKG4gPSBuZXcgQmxvYihbdF0sIHsgdHlwZTogXCJpbWFnZS9naWZcIiB9KSksXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwiZmluaXNoZWRcIiwgbiwgdClcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKGUucHJvdG90eXBlLnJlbmRlck5leHRGcmFtZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBsZXQgdDsgbGV0IGU7IGxldCBpOyBsZXQgbjtcbiAgICAgICAgICAgICAgaWYgKHRoaXMuZnJlZVdvcmtlcnMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGZyZWUgd29ya2Vyc1wiKTtcbiAgICAgICAgICAgICAgaWYgKCEodGhpcy5uZXh0RnJhbWUgPj0gdGhpcy5mcmFtZXMubGVuZ3RoKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgKHQgPSB0aGlzLmZyYW1lc1t0aGlzLm5leHRGcmFtZSsrXSksXG4gICAgICAgICAgICAgICAgICAoZSA9IHRoaXMuZnJhbWVzLmluZGV4T2YodCkpLFxuICAgICAgICAgICAgICAgICAgZSA+IDAgJiZcbiAgICAgICAgICAgICAgICAgIHRoaXMuZ3JvdXBzLmhhcyh0LmRhdGEpICYmXG4gICAgICAgICAgICAgICAgICB0aGlzLmdyb3Vwcy5nZXQodC5kYXRhKVswXSAhPT0gZVxuICAgICAgICAgICAgICAgICAgICA/IHZvaWQgc2V0VGltZW91dChcbiAgICAgICAgICAgICAgICAgICAgICAgIChmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZS5mcmFtZUZpbmlzaGVkKHQsICEwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgOiAoKG4gPSB0aGlzLmZyZWVXb3JrZXJzLnNoaWZ0KCkpLFxuICAgICAgICAgICAgICAgICAgICAgIChpID0gdGhpcy5nZXRUYXNrKHQpKSxcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZyhcbiAgICAgICAgICAgICAgICAgICAgICAgIGBzdGFydGluZyBmcmFtZSAkeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaS5pbmRleCArIDEgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gb2YgJHsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJhbWVzLmxlbmd0aH1gXG4gICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZVdvcmtlcnMucHVzaChuKSxcbiAgICAgICAgICAgICAgICAgICAgICBuLnBvc3RNZXNzYWdlKGkpKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIChlLnByb3RvdHlwZS5nZXRDb250ZXh0RGF0YSA9IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHQuZ2V0SW1hZ2VEYXRhKFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMud2lkdGgsXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmhlaWdodFxuICAgICAgICAgICAgICApLmRhdGE7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIChlLnByb3RvdHlwZS5nZXRJbWFnZURhdGEgPSBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgIGxldCBlO1xuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIHRoaXMuX2NhbnZhcyA9PSBudWxsICYmXG4gICAgICAgICAgICAgICAgICAoKHRoaXMuX2NhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikpLFxuICAgICAgICAgICAgICAgICAgKHRoaXMuX2NhbnZhcy53aWR0aCA9IHRoaXMub3B0aW9ucy53aWR0aCksXG4gICAgICAgICAgICAgICAgICAodGhpcy5fY2FudmFzLmhlaWdodCA9IHRoaXMub3B0aW9ucy5oZWlnaHQpKSxcbiAgICAgICAgICAgICAgICAoZSA9IHRoaXMuX2NhbnZhcy5nZXRDb250ZXh0KFwiMmRcIikpLFxuICAgICAgICAgICAgICAgIChlLnNldEZpbGwgPSB0aGlzLm9wdGlvbnMuYmFja2dyb3VuZCksXG4gICAgICAgICAgICAgICAgZS5maWxsUmVjdCgwLCAwLCB0aGlzLm9wdGlvbnMud2lkdGgsIHRoaXMub3B0aW9ucy5oZWlnaHQpLFxuICAgICAgICAgICAgICAgIGUuZHJhd0ltYWdlKHQsIDAsIDApLFxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q29udGV4dERhdGEoZSlcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKGUucHJvdG90eXBlLmdldFRhc2sgPSBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgIGxldCBlOyBsZXQgaTtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICgoZSA9IHRoaXMuZnJhbWVzLmluZGV4T2YodCkpLFxuICAgICAgICAgICAgICAgIChpID0ge1xuICAgICAgICAgICAgICAgICAgaW5kZXg6IGUsXG4gICAgICAgICAgICAgICAgICBsYXN0OiBlID09PSB0aGlzLmZyYW1lcy5sZW5ndGggLSAxLFxuICAgICAgICAgICAgICAgICAgZGVsYXk6IHQuZGVsYXksXG4gICAgICAgICAgICAgICAgICB0cmFuc3BhcmVudDogdC50cmFuc3BhcmVudCxcbiAgICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLm9wdGlvbnMud2lkdGgsXG4gICAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMub3B0aW9ucy5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICBxdWFsaXR5OiB0aGlzLm9wdGlvbnMucXVhbGl0eSxcbiAgICAgICAgICAgICAgICAgIGRpdGhlcjogdGhpcy5vcHRpb25zLmRpdGhlcixcbiAgICAgICAgICAgICAgICAgIGdsb2JhbFBhbGV0dGU6IHRoaXMub3B0aW9ucy5nbG9iYWxQYWxldHRlLFxuICAgICAgICAgICAgICAgICAgcmVwZWF0OiB0aGlzLm9wdGlvbnMucmVwZWF0LFxuICAgICAgICAgICAgICAgICAgY2FuVHJhbnNmZXI6ICEwXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgdC5kYXRhICE9IG51bGwpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBpLmRhdGEgPSB0LmRhdGE7XG4gICAgICAgICAgICAgIGVsc2UgaWYgKHQuY29udGV4dCAhPSBudWxsKVxuICAgICAgICAgICAgICAgIGkuZGF0YSA9IHRoaXMuZ2V0Q29udGV4dERhdGEodC5jb250ZXh0KTtcbiAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHQuaW1hZ2UgPT0gbnVsbCkgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBmcmFtZVwiKTtcbiAgICAgICAgICAgICAgICBpLmRhdGEgPSB0aGlzLmdldEltYWdlRGF0YSh0LmltYWdlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKGUucHJvdG90eXBlLmxvZyA9IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5kZWJ1ZykgcmV0dXJuIGNvbnNvbGUubG9nKHQpO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBlXG4gICAgICAgICAgKTtcbiAgICAgICAgfSkobikpLFxuICAgICAgICAodC5leHBvcnRzID0gcik7XG4gICAgfSxcbiAgICBmdW5jdGlvbih0LCBlKSB7XG4gICAgICBmdW5jdGlvbiBpKCkge1xuICAgICAgICAodGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9KSxcbiAgICAgICAgICAodGhpcy5fbWF4TGlzdGVuZXJzID0gdGhpcy5fbWF4TGlzdGVuZXJzIHx8IHZvaWQgMCk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBuKHQpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB0ID09PSBcImZ1bmN0aW9uXCI7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiByKHQpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB0ID09PSBcIm51bWJlclwiO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gcyh0KSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdCA9PT0gXCJvYmplY3RcIiAmJiB0ICE9PSBudWxsO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gbyh0KSB7XG4gICAgICAgIHJldHVybiB2b2lkIDAgPT09IHQ7XG4gICAgICB9XG4gICAgICAodC5leHBvcnRzID0gaSksXG4gICAgICAgIChpLkV2ZW50RW1pdHRlciA9IGkpLFxuICAgICAgICAoaS5wcm90b3R5cGUuX2V2ZW50cyA9IHZvaWQgMCksXG4gICAgICAgIChpLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzID0gdm9pZCAwKSxcbiAgICAgICAgKGkuZGVmYXVsdE1heExpc3RlbmVycyA9IDEwKSxcbiAgICAgICAgKGkucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICBpZiAoIXIodCkgfHwgdCA8IDAgfHwgaXNOYU4odCkpXG4gICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCJuIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXJcIik7XG4gICAgICAgICAgcmV0dXJuICh0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0KSwgdGhpcztcbiAgICAgICAgfSksXG4gICAgICAgIChpLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24odCkge1xuICAgICAgICAgIGxldCBlOyBsZXQgaTsgbGV0IHI7IGxldCBhOyBsZXQgaDsgbGV0IGw7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgKHRoaXMuX2V2ZW50cyB8fCAodGhpcy5fZXZlbnRzID0ge30pLFxuICAgICAgICAgICAgdCA9PT0gXCJlcnJvclwiICYmXG4gICAgICAgICAgICAgICghdGhpcy5fZXZlbnRzLmVycm9yIHx8XG4gICAgICAgICAgICAgICAgKHModGhpcy5fZXZlbnRzLmVycm9yKSAmJiAhdGhpcy5fZXZlbnRzLmVycm9yLmxlbmd0aCkpKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgaWYgKCgoZSA9IGFyZ3VtZW50c1sxXSksIGUgaW5zdGFuY2VvZiBFcnJvcikpIHRocm93IGU7XG4gICAgICAgICAgICBjb25zdCBmID0gbmV3IEVycm9yKFxuICAgICAgICAgICAgICBgVW5jYXVnaHQsIHVuc3BlY2lmaWVkIFwiZXJyb3JcIiBldmVudC4gKCR7ICBlICB9KWBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aHJvdyAoKGYuY29udGV4dCA9IGUpLCBmKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCgoaSA9IHRoaXMuX2V2ZW50c1t0XSksIG8oaSkpKSByZXR1cm4gITE7XG4gICAgICAgICAgaWYgKG4oaSkpXG4gICAgICAgICAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGkuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGkuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgaS5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAoYSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpLFxuICAgICAgICAgICAgICAgICAgaS5hcHBseSh0aGlzLCBhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChzKGkpKVxuICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgYSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSksXG4gICAgICAgICAgICAgICAgbCA9IGkuc2xpY2UoKSxcbiAgICAgICAgICAgICAgICByID0gbC5sZW5ndGgsXG4gICAgICAgICAgICAgICAgaCA9IDA7XG4gICAgICAgICAgICAgIGggPCByO1xuICAgICAgICAgICAgICBoKytcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgbFtoXS5hcHBseSh0aGlzLCBhKTtcbiAgICAgICAgICByZXR1cm4gITA7XG4gICAgICAgIH0pLFxuICAgICAgICAoaS5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgICAgbGV0IHI7XG4gICAgICAgICAgaWYgKCFuKGUpKSB0aHJvdyBUeXBlRXJyb3IoXCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb25cIik7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50cyB8fCAodGhpcy5fZXZlbnRzID0ge30pLFxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyICYmXG4gICAgICAgICAgICAgIHRoaXMuZW1pdChcIm5ld0xpc3RlbmVyXCIsIHQsIG4oZS5saXN0ZW5lcikgPyBlLmxpc3RlbmVyIDogZSksXG4gICAgICAgICAgICB0aGlzLl9ldmVudHNbdF1cbiAgICAgICAgICAgICAgPyBzKHRoaXMuX2V2ZW50c1t0XSlcbiAgICAgICAgICAgICAgICA/IHRoaXMuX2V2ZW50c1t0XS5wdXNoKGUpXG4gICAgICAgICAgICAgICAgOiAodGhpcy5fZXZlbnRzW3RdID0gW3RoaXMuX2V2ZW50c1t0XSwgZV0pXG4gICAgICAgICAgICAgIDogKHRoaXMuX2V2ZW50c1t0XSA9IGUpLFxuICAgICAgICAgICAgcyh0aGlzLl9ldmVudHNbdF0pICYmXG4gICAgICAgICAgICAgICF0aGlzLl9ldmVudHNbdF0ud2FybmVkICYmXG4gICAgICAgICAgICAgICgociA9IG8odGhpcy5fbWF4TGlzdGVuZXJzKVxuICAgICAgICAgICAgICAgID8gaS5kZWZhdWx0TWF4TGlzdGVuZXJzXG4gICAgICAgICAgICAgICAgOiB0aGlzLl9tYXhMaXN0ZW5lcnMpLFxuICAgICAgICAgICAgICByICYmXG4gICAgICAgICAgICAgICAgciA+IDAgJiZcbiAgICAgICAgICAgICAgICB0aGlzLl9ldmVudHNbdF0ubGVuZ3RoID4gciAmJlxuICAgICAgICAgICAgICAgICgodGhpcy5fZXZlbnRzW3RdLndhcm5lZCA9ICEwKSxcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgXCIobm9kZSkgd2FybmluZzogcG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiAlZCBsaXN0ZW5lcnMgYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0LlwiLFxuICAgICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzW3RdLmxlbmd0aFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgdHlwZW9mIGNvbnNvbGUudHJhY2UgPT09IFwiZnVuY3Rpb25cIiAmJiBjb25zb2xlLnRyYWNlKCkpKSxcbiAgICAgICAgICAgIHRoaXNcbiAgICAgICAgICApO1xuICAgICAgICB9KSxcbiAgICAgICAgKGkucHJvdG90eXBlLm9uID0gaS5wcm90b3R5cGUuYWRkTGlzdGVuZXIpLFxuICAgICAgICAoaS5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uKHQsIGUpIHtcbiAgICAgICAgICBmdW5jdGlvbiBpKCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0LCBpKSxcbiAgICAgICAgICAgICAgciB8fCAoKHIgPSAhMCksIGUuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghbihlKSkgdGhyb3cgVHlwZUVycm9yKFwibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICAgIHZhciByID0gITE7XG4gICAgICAgICAgcmV0dXJuIChpLmxpc3RlbmVyID0gZSksIHRoaXMub24odCwgaSksIHRoaXM7XG4gICAgICAgIH0pLFxuICAgICAgICAoaS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgICAgbGV0IGk7IGxldCByOyBsZXQgbzsgbGV0IGE7XG4gICAgICAgICAgaWYgKCFuKGUpKSB0aHJvdyBUeXBlRXJyb3IoXCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb25cIik7XG4gICAgICAgICAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0XSkgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgKChpID0gdGhpcy5fZXZlbnRzW3RdKSxcbiAgICAgICAgICAgIChvID0gaS5sZW5ndGgpLFxuICAgICAgICAgICAgKHIgPSAtMSksXG4gICAgICAgICAgICBpID09PSBlIHx8IChuKGkubGlzdGVuZXIpICYmIGkubGlzdGVuZXIgPT09IGUpKVxuICAgICAgICAgIClcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdF0sXG4gICAgICAgICAgICAgIHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lciAmJiB0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLCB0LCBlKTtcbiAgICAgICAgICBlbHNlIGlmIChzKGkpKSB7XG4gICAgICAgICAgICBmb3IgKGEgPSBvOyBhLS0gPiAwOyApXG4gICAgICAgICAgICAgIGlmIChpW2FdID09PSBlIHx8IChpW2FdLmxpc3RlbmVyICYmIGlbYV0ubGlzdGVuZXIgPT09IGUpKSB7XG4gICAgICAgICAgICAgICAgciA9IGE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyIDwgMCkgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICBpLmxlbmd0aCA9PT0gMVxuICAgICAgICAgICAgICA/ICgoaS5sZW5ndGggPSAwKSwgZGVsZXRlIHRoaXMuX2V2ZW50c1t0XSlcbiAgICAgICAgICAgICAgOiBpLnNwbGljZShyLCAxKSxcbiAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyICYmIHRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsIHQsIGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSksXG4gICAgICAgIChpLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgbGV0IGU7IGxldCBpO1xuICAgICAgICAgIGlmICghdGhpcy5fZXZlbnRzKSByZXR1cm4gdGhpcztcbiAgICAgICAgICBpZiAoIXRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIGFyZ3VtZW50cy5sZW5ndGggPT09IDBcbiAgICAgICAgICAgICAgICA/ICh0aGlzLl9ldmVudHMgPSB7fSlcbiAgICAgICAgICAgICAgICA6IHRoaXMuX2V2ZW50c1t0XSAmJiBkZWxldGUgdGhpcy5fZXZlbnRzW3RdLFxuICAgICAgICAgICAgICB0aGlzXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBmb3IgKGUgaW4gdGhpcy5fZXZlbnRzKVxuICAgICAgICAgICAgICBlICE9PSBcInJlbW92ZUxpc3RlbmVyXCIgJiYgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoZSk7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhcInJlbW92ZUxpc3RlbmVyXCIpLFxuICAgICAgICAgICAgICAodGhpcy5fZXZlbnRzID0ge30pLFxuICAgICAgICAgICAgICB0aGlzXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoKChpID0gdGhpcy5fZXZlbnRzW3RdKSwgbihpKSkpIHRoaXMucmVtb3ZlTGlzdGVuZXIodCwgaSk7XG4gICAgICAgICAgZWxzZSBpZiAoaSlcbiAgICAgICAgICAgIGZvciAoOyBpLmxlbmd0aDsgKSB0aGlzLnJlbW92ZUxpc3RlbmVyKHQsIGlbaS5sZW5ndGggLSAxXSk7XG4gICAgICAgICAgcmV0dXJuIGRlbGV0ZSB0aGlzLl9ldmVudHNbdF0sIHRoaXM7XG4gICAgICAgIH0pLFxuICAgICAgICAoaS5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24odCkge1xuICAgICAgICAgIGxldCBlO1xuICAgICAgICAgIHJldHVybiAoZSA9XG4gICAgICAgICAgICB0aGlzLl9ldmVudHMgJiYgdGhpcy5fZXZlbnRzW3RdXG4gICAgICAgICAgICAgID8gbih0aGlzLl9ldmVudHNbdF0pXG4gICAgICAgICAgICAgICAgPyBbdGhpcy5fZXZlbnRzW3RdXVxuICAgICAgICAgICAgICAgIDogdGhpcy5fZXZlbnRzW3RdLnNsaWNlKClcbiAgICAgICAgICAgICAgOiBbXSk7XG4gICAgICAgIH0pLFxuICAgICAgICAoaS5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICBpZiAodGhpcy5fZXZlbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gdGhpcy5fZXZlbnRzW3RdO1xuICAgICAgICAgICAgaWYgKG4oZSkpIHJldHVybiAxO1xuICAgICAgICAgICAgaWYgKGUpIHJldHVybiBlLmxlbmd0aDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH0pLFxuICAgICAgICAoaS5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICAgIHJldHVybiB0Lmxpc3RlbmVyQ291bnQoZSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgZnVuY3Rpb24odCwgZSkge1xuICAgICAgbGV0IGk7IGxldCBuOyBsZXQgcjsgbGV0IHM7IGxldCBvO1xuICAgICAgKG8gPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpLFxuICAgICAgICAocyA9IG5hdmlnYXRvci5wbGF0Zm9ybS50b0xvd2VyQ2FzZSgpKSxcbiAgICAgICAgKGkgPSBvLm1hdGNoKFxuICAgICAgICAgIC8ob3BlcmF8aWV8ZmlyZWZveHxjaHJvbWV8dmVyc2lvbilbXFxzXFwvOl0oW1xcd1xcZFxcLl0rKT8uKj8oc2FmYXJpfHZlcnNpb25bXFxzXFwvOl0oW1xcd1xcZFxcLl0rKXwkKS9cbiAgICAgICAgKSB8fCBbbnVsbCwgXCJ1bmtub3duXCIsIDBdKSxcbiAgICAgICAgKHIgPSBpWzFdID09PSBcImllXCIgJiYgZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSxcbiAgICAgICAgKG4gPSB7XG4gICAgICAgICAgbmFtZTogaVsxXSA9PT0gXCJ2ZXJzaW9uXCIgPyBpWzNdIDogaVsxXSxcbiAgICAgICAgICB2ZXJzaW9uOiByIHx8IHBhcnNlRmxvYXQoaVsxXSA9PT0gXCJvcGVyYVwiICYmIGlbNF0gPyBpWzRdIDogaVsyXSksXG4gICAgICAgICAgcGxhdGZvcm06IHtcbiAgICAgICAgICAgIG5hbWU6IG8ubWF0Y2goL2lwKD86YWR8b2R8aG9uZSkvKVxuICAgICAgICAgICAgICA/IFwiaW9zXCJcbiAgICAgICAgICAgICAgOiAoby5tYXRjaCgvKD86d2Vib3N8YW5kcm9pZCkvKSB8fFxuICAgICAgICAgICAgICAgICAgcy5tYXRjaCgvbWFjfHdpbnxsaW51eC8pIHx8IFtcIm90aGVyXCJdKVswXVxuICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIChuW24ubmFtZV0gPSAhMCksXG4gICAgICAgIChuW24ubmFtZSArIHBhcnNlSW50KG4udmVyc2lvbiwgMTApXSA9ICEwKSxcbiAgICAgICAgKG4ucGxhdGZvcm1bbi5wbGF0Zm9ybS5uYW1lXSA9ICEwKSxcbiAgICAgICAgKHQuZXhwb3J0cyA9IG4pO1xuICAgIH1cbiAgXSk7XG59KTtcbi8vICMgc291cmNlTWFwcGluZ1VSTD1naWYuanMubWFwXG4iXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQU9BO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBREE7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFUQTtBQWFBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFFQTtBQUNBO0FBR0E7QUFBQTtBQUFBO0FBb0JBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUtBO0FBQ0E7QUFLQTtBQUxBO0FBT0E7QUFXQTtBQUxBO0FBT0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUtBO0FBTEE7QUFPQTtBQUlBO0FBQ0E7QUFDQTtBQUlBO0FBUUE7QUFHQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBc0NBO0FBTEE7QUFTQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBT0E7QUFEQTtBQWlCQTtBQUtBO0FBTEE7QUFmQTtBQTJCQTtBQUVBO0FBQ0E7QUFFQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBY0E7QUFFQTtBQU1BO0FBRUE7QUFDQTtBQVdBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFYQTtBQW1CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFNQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUF1QkE7QUFSQTtBQVVBO0FBRUE7QUFDQTtBQUNBO0FBeUJBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBREE7QUFPQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQU1BO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUhBO0FBY0E7QUFFQTtBQUNBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/optionalPanel/OptionalPanelFuncs/gif.js\n");

/***/ }),

/***/ "./src/components/optionalPanel/OptionalPanelFuncs/inputWidthAndHeightFunc.js":
/*!************************************************************************************!*\
  !*** ./src/components/optionalPanel/OptionalPanelFuncs/inputWidthAndHeightFunc.js ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction inputWidthAndHeightFunc(state) {\n  return function (e) {\n    state.canvasSettings.rows = +e.target.value;\n    state.canvasSettings.columns = +e.target.value;\n    if (e.target.getAttribute(\"id\") === \"inputWidth\") {\n      document.querySelector(\"#inputHeight\").value = e.target.value;\n    } else {\n      document.querySelector(\"#inputWidth\").value = e.target.value;\n    }\n  };\n}\nexports.default = inputWidthAndHeightFunc;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9vcHRpb25hbFBhbmVsL09wdGlvbmFsUGFuZWxGdW5jcy9pbnB1dFdpZHRoQW5kSGVpZ2h0RnVuYy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvY29tcG9uZW50cy9vcHRpb25hbFBhbmVsL09wdGlvbmFsUGFuZWxGdW5jcy9pbnB1dFdpZHRoQW5kSGVpZ2h0RnVuYy5qcz9iYzMyIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGlucHV0V2lkdGhBbmRIZWlnaHRGdW5jKHN0YXRlKSB7XG4gIHJldHVybiBmdW5jdGlvbihlKSB7XG4gICAgc3RhdGUuY2FudmFzU2V0dGluZ3Mucm93cyA9ICtlLnRhcmdldC52YWx1ZTtcbiAgICBzdGF0ZS5jYW52YXNTZXR0aW5ncy5jb2x1bW5zID0gK2UudGFyZ2V0LnZhbHVlO1xuICAgIGlmIChlLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJpZFwiKSA9PT0gXCJpbnB1dFdpZHRoXCIpIHtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW5wdXRIZWlnaHRcIikudmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbnB1dFdpZHRoXCIpLnZhbHVlID0gZS50YXJnZXQudmFsdWU7XG4gICAgfVxuICB9O1xufVxuZXhwb3J0IGRlZmF1bHQgaW5wdXRXaWR0aEFuZEhlaWdodEZ1bmM7XG4iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/optionalPanel/OptionalPanelFuncs/inputWidthAndHeightFunc.js\n");

/***/ }),

/***/ "./src/components/optionalPanel/OptionalPanelFuncs/resizeButtonFunc.js":
/*!*****************************************************************************!*\
  !*** ./src/components/optionalPanel/OptionalPanelFuncs/resizeButtonFunc.js ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction resizeButtonFunc(state, setState, that) {\n  return function () {\n    var y = state.canvasSettings.columns;\n    var x = state.canvasSettings.rows;\n\n    for (var i = 0; i < state.frames.length; i += 1) {\n      for (var z = 0; z < state.frames[i].matrix.length; z += 1) {\n        for (var p = state.frames[i].matrix[z].length; p < x; p += 1) {\n          state.frames[i].matrix[z][p] = \"transparent\";\n        }\n      }\n      for (var q = state.frames[i].matrix.length; q < y; q += 1) {\n        state.frames[i].matrix[q] = [];\n        for (var j = 0; j < x; j += 1) {\n          state.frames[i].matrix[q][j] = \"transparent\";\n        }\n      }\n    }\n\n    that.setState(state);\n  };\n}\nexports.default = resizeButtonFunc;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9vcHRpb25hbFBhbmVsL09wdGlvbmFsUGFuZWxGdW5jcy9yZXNpemVCdXR0b25GdW5jLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL29wdGlvbmFsUGFuZWwvT3B0aW9uYWxQYW5lbEZ1bmNzL3Jlc2l6ZUJ1dHRvbkZ1bmMuanM/YTk4NCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiByZXNpemVCdXR0b25GdW5jKHN0YXRlLCBzZXRTdGF0ZSwgdGhhdCkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgeSA9IHN0YXRlLmNhbnZhc1NldHRpbmdzLmNvbHVtbnM7XG4gICAgY29uc3QgeCA9IHN0YXRlLmNhbnZhc1NldHRpbmdzLnJvd3M7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0YXRlLmZyYW1lcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgZm9yIChsZXQgeiA9IDA7IHogPCBzdGF0ZS5mcmFtZXNbaV0ubWF0cml4Lmxlbmd0aDsgeiArPSAxKSB7XG4gICAgICAgIGZvciAobGV0IHAgPSBzdGF0ZS5mcmFtZXNbaV0ubWF0cml4W3pdLmxlbmd0aDsgcCA8IHg7IHAgKz0gMSkge1xuICAgICAgICAgIHN0YXRlLmZyYW1lc1tpXS5tYXRyaXhbel1bcF0gPSBcInRyYW5zcGFyZW50XCI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAobGV0IHEgPSBzdGF0ZS5mcmFtZXNbaV0ubWF0cml4Lmxlbmd0aDsgcSA8IHk7IHEgKz0gMSkge1xuICAgICAgICBzdGF0ZS5mcmFtZXNbaV0ubWF0cml4W3FdID0gW107XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgeDsgaiArPSAxKSB7XG4gICAgICAgICAgc3RhdGUuZnJhbWVzW2ldLm1hdHJpeFtxXVtqXSA9IFwidHJhbnNwYXJlbnRcIjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoYXQuc2V0U3RhdGUoc3RhdGUpO1xuICB9O1xufVxuZXhwb3J0IGRlZmF1bHQgcmVzaXplQnV0dG9uRnVuYztcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/optionalPanel/OptionalPanelFuncs/resizeButtonFunc.js\n");

/***/ }),

/***/ "./src/components/optionalPanel/OptionalPanelFuncs/toogleEventfunc.js":
/*!****************************************************************************!*\
  !*** ./src/components/optionalPanel/OptionalPanelFuncs/toogleEventfunc.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction menuOpenFunc() {\n  return function (e) {\n    function createDisableBlock() {\n      var board = document.createElement(\"div\");\n      board.setAttribute(\"class\", \"disableBoard\");\n      board.style.cssText = \"position:absolute; z-index:1; width: 100%; height: 100%; top:0; left:0;background-color: #0000006b;\";\n      board.onclick = function () {\n        document.querySelectorAll(\".toogle\").forEach(function (btn) {\n          return btn.classList.remove(\"toogle_active\");\n        });\n        document.querySelector(\".optional_panel\").classList.toggle(\"optional_panel_active\");\n        document.querySelectorAll(\".disableBoard\").forEach(function (board) {\n          return board.remove();\n        });\n      };\n      document.querySelector(\".main\").insertBefore(board, document.querySelector(\".optional_panel\"));\n\n      var boardTwo = document.createElement(\"div\");\n      boardTwo.setAttribute(\"class\", \"disableBoard\");\n      boardTwo.style.cssText = \"position:absolute; z-index:1; width: 100%; height: 100%; top:0; left:0;\";\n      boardTwo.onclick = function () {\n        document.querySelectorAll(\".toogle\").forEach(function (btn) {\n          return btn.classList.remove(\"toogle_active\");\n        });\n        document.querySelector(\".optional_panel\").classList.toggle(\"optional_panel_active\");\n        document.querySelectorAll(\".disableBoard\").forEach(function (boardTwo) {\n          return boardTwo.remove();\n        });\n      };\n\n      document.querySelector(\".menus\").insertBefore(boardTwo, document.querySelector(\".menusCentered\"));\n\n      var boardThree = document.createElement(\"div\");\n      boardThree.setAttribute(\"class\", \"disableBoard\");\n      boardThree.style.cssText = \"position:absolute; z-index:1; width: 100%; height: 100%; top:0; left:0;\";\n      boardThree.onclick = function () {\n        document.querySelectorAll(\".toogle\").forEach(function (btn) {\n          return btn.classList.remove(\"toogle_active\");\n        });\n        document.querySelector(\".optional_panel\").classList.toggle(\"optional_panel_active\");\n        document.querySelectorAll(\".disableBoard\").forEach(function (boardThree) {\n          return boardThree.remove();\n        });\n      };\n\n      document.querySelector(\".divToogle\").insertBefore(boardThree, document.querySelector(\".divToogleCentered\"));\n    }\n    if (document.querySelector(\".optional_panel\").classList.contains(\"optional_panel_active\")) {\n      if (e.target.classList.contains(\"toogle_active\")) {\n        document.querySelectorAll(\".disableBoard\").forEach(function (board) {\n          return board.remove();\n        });\n        document.querySelectorAll(\".toogle\").forEach(function (btn) {\n          return btn.classList.remove(\"toogle_active\");\n        });\n        document.querySelector(\".optional_panel\").classList.toggle(\"optional_panel_active\");\n      } else {\n        document.querySelectorAll(\".menusCentered > div\").forEach(function (menu) {\n          return menu.classList.remove(\"menu_active\");\n        });\n        document.querySelectorAll(\".toogle\").forEach(function (btn) {\n          return btn.classList.remove(\"toogle_active\");\n        });\n        Array.from(document.querySelectorAll(\".menusCentered > div\")).filter(function (menu) {\n          return menu.className === \"menu\" + e.target.getAttribute(\"data-description\");\n        })[0].classList.toggle(\"menu_active\");\n        e.target.classList.toggle(\"toogle_active\");\n      }\n    } else {\n      createDisableBlock(e.target);\n      document.querySelectorAll(\".menusCentered > div\").forEach(function (menu) {\n        return menu.classList.remove(\"menu_active\");\n      });\n      Array.from(document.querySelectorAll(\".menusCentered > div\")).filter(function (menu) {\n        return menu.className === \"menu\" + e.target.getAttribute(\"data-description\");\n      })[0].classList.toggle(\"menu_active\");\n      document.querySelector(\".optional_panel\").classList.toggle(\"optional_panel_active\");\n      e.target.classList.toggle(\"toogle_active\");\n    }\n  };\n}\n\nexports.default = menuOpenFunc;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9vcHRpb25hbFBhbmVsL09wdGlvbmFsUGFuZWxGdW5jcy90b29nbGVFdmVudGZ1bmMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvb3B0aW9uYWxQYW5lbC9PcHRpb25hbFBhbmVsRnVuY3MvdG9vZ2xlRXZlbnRmdW5jLmpzPzJjYzgiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gbWVudU9wZW5GdW5jKCkge1xuICByZXR1cm4gZnVuY3Rpb24oZSkge1xuICAgIGZ1bmN0aW9uIGNyZWF0ZURpc2FibGVCbG9jaygpIHtcbiAgICAgIGNvbnN0IGJvYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGJvYXJkLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiZGlzYWJsZUJvYXJkXCIpO1xuICAgICAgYm9hcmQuc3R5bGUuY3NzVGV4dCA9XG4gICAgICAgIFwicG9zaXRpb246YWJzb2x1dGU7IHotaW5kZXg6MTsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgdG9wOjA7IGxlZnQ6MDtiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwMDAwNmI7XCI7XG4gICAgICBib2FyZC5vbmNsaWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGRvY3VtZW50XG4gICAgICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoXCIudG9vZ2xlXCIpXG4gICAgICAgICAgLmZvckVhY2goYnRuID0+IGJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwidG9vZ2xlX2FjdGl2ZVwiKSk7XG4gICAgICAgIGRvY3VtZW50XG4gICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIub3B0aW9uYWxfcGFuZWxcIilcbiAgICAgICAgICAuY2xhc3NMaXN0LnRvZ2dsZShcIm9wdGlvbmFsX3BhbmVsX2FjdGl2ZVwiKTtcbiAgICAgICAgZG9jdW1lbnRcbiAgICAgICAgICAucXVlcnlTZWxlY3RvckFsbChcIi5kaXNhYmxlQm9hcmRcIilcbiAgICAgICAgICAuZm9yRWFjaChib2FyZCA9PiBib2FyZC5yZW1vdmUoKSk7XG4gICAgICB9O1xuICAgICAgZG9jdW1lbnRcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIubWFpblwiKVxuICAgICAgICAuaW5zZXJ0QmVmb3JlKGJvYXJkLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm9wdGlvbmFsX3BhbmVsXCIpKTtcblxuICAgICAgY29uc3QgYm9hcmRUd28gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgYm9hcmRUd28uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJkaXNhYmxlQm9hcmRcIik7XG4gICAgICBib2FyZFR3by5zdHlsZS5jc3NUZXh0ID1cbiAgICAgICAgXCJwb3NpdGlvbjphYnNvbHV0ZTsgei1pbmRleDoxOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyB0b3A6MDsgbGVmdDowO1wiO1xuICAgICAgYm9hcmRUd28ub25jbGljayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBkb2N1bWVudFxuICAgICAgICAgIC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRvb2dsZVwiKVxuICAgICAgICAgIC5mb3JFYWNoKGJ0biA9PiBidG4uY2xhc3NMaXN0LnJlbW92ZShcInRvb2dsZV9hY3RpdmVcIikpO1xuICAgICAgICBkb2N1bWVudFxuICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLm9wdGlvbmFsX3BhbmVsXCIpXG4gICAgICAgICAgLmNsYXNzTGlzdC50b2dnbGUoXCJvcHRpb25hbF9wYW5lbF9hY3RpdmVcIik7XG4gICAgICAgIGRvY3VtZW50XG4gICAgICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZGlzYWJsZUJvYXJkXCIpXG4gICAgICAgICAgLmZvckVhY2goYm9hcmRUd28gPT4gYm9hcmRUd28ucmVtb3ZlKCkpO1xuICAgICAgfTtcblxuICAgICAgZG9jdW1lbnRcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIubWVudXNcIilcbiAgICAgICAgLmluc2VydEJlZm9yZShib2FyZFR3bywgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51c0NlbnRlcmVkXCIpKTtcblxuICAgICAgY29uc3QgYm9hcmRUaHJlZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBib2FyZFRocmVlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiZGlzYWJsZUJvYXJkXCIpO1xuICAgICAgYm9hcmRUaHJlZS5zdHlsZS5jc3NUZXh0ID1cbiAgICAgICAgXCJwb3NpdGlvbjphYnNvbHV0ZTsgei1pbmRleDoxOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyB0b3A6MDsgbGVmdDowO1wiO1xuICAgICAgYm9hcmRUaHJlZS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGRvY3VtZW50XG4gICAgICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoXCIudG9vZ2xlXCIpXG4gICAgICAgICAgLmZvckVhY2goYnRuID0+IGJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwidG9vZ2xlX2FjdGl2ZVwiKSk7XG4gICAgICAgIGRvY3VtZW50XG4gICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIub3B0aW9uYWxfcGFuZWxcIilcbiAgICAgICAgICAuY2xhc3NMaXN0LnRvZ2dsZShcIm9wdGlvbmFsX3BhbmVsX2FjdGl2ZVwiKTtcbiAgICAgICAgZG9jdW1lbnRcbiAgICAgICAgICAucXVlcnlTZWxlY3RvckFsbChcIi5kaXNhYmxlQm9hcmRcIilcbiAgICAgICAgICAuZm9yRWFjaChib2FyZFRocmVlID0+IGJvYXJkVGhyZWUucmVtb3ZlKCkpO1xuICAgICAgfTtcblxuICAgICAgZG9jdW1lbnRcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZGl2VG9vZ2xlXCIpXG4gICAgICAgIC5pbnNlcnRCZWZvcmUoYm9hcmRUaHJlZSwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kaXZUb29nbGVDZW50ZXJlZFwiKSk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIGRvY3VtZW50XG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLm9wdGlvbmFsX3BhbmVsXCIpXG4gICAgICAgIC5jbGFzc0xpc3QuY29udGFpbnMoXCJvcHRpb25hbF9wYW5lbF9hY3RpdmVcIilcbiAgICApIHtcbiAgICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJ0b29nbGVfYWN0aXZlXCIpKSB7XG4gICAgICAgIGRvY3VtZW50XG4gICAgICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZGlzYWJsZUJvYXJkXCIpXG4gICAgICAgICAgLmZvckVhY2goYm9hcmQgPT4gYm9hcmQucmVtb3ZlKCkpO1xuICAgICAgICBkb2N1bWVudFxuICAgICAgICAgIC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRvb2dsZVwiKVxuICAgICAgICAgIC5mb3JFYWNoKGJ0biA9PiBidG4uY2xhc3NMaXN0LnJlbW92ZShcInRvb2dsZV9hY3RpdmVcIikpO1xuICAgICAgICBkb2N1bWVudFxuICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLm9wdGlvbmFsX3BhbmVsXCIpXG4gICAgICAgICAgLmNsYXNzTGlzdC50b2dnbGUoXCJvcHRpb25hbF9wYW5lbF9hY3RpdmVcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudFxuICAgICAgICAgIC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1lbnVzQ2VudGVyZWQgPiBkaXZcIilcbiAgICAgICAgICAuZm9yRWFjaChtZW51ID0+IG1lbnUuY2xhc3NMaXN0LnJlbW92ZShcIm1lbnVfYWN0aXZlXCIpKTtcbiAgICAgICAgZG9jdW1lbnRcbiAgICAgICAgICAucXVlcnlTZWxlY3RvckFsbChcIi50b29nbGVcIilcbiAgICAgICAgICAuZm9yRWFjaChidG4gPT4gYnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJ0b29nbGVfYWN0aXZlXCIpKTtcbiAgICAgICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1lbnVzQ2VudGVyZWQgPiBkaXZcIikpXG4gICAgICAgICAgLmZpbHRlcihcbiAgICAgICAgICAgIG1lbnUgPT5cbiAgICAgICAgICAgICAgbWVudS5jbGFzc05hbWUgPT09XG4gICAgICAgICAgICAgIGBtZW51JHtlLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWRlc2NyaXB0aW9uXCIpfWBcbiAgICAgICAgICApWzBdXG4gICAgICAgICAgLmNsYXNzTGlzdC50b2dnbGUoXCJtZW51X2FjdGl2ZVwiKTtcbiAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZShcInRvb2dsZV9hY3RpdmVcIik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNyZWF0ZURpc2FibGVCbG9jayhlLnRhcmdldCk7XG4gICAgICBkb2N1bWVudFxuICAgICAgICAucXVlcnlTZWxlY3RvckFsbChcIi5tZW51c0NlbnRlcmVkID4gZGl2XCIpXG4gICAgICAgIC5mb3JFYWNoKG1lbnUgPT4gbWVudS5jbGFzc0xpc3QucmVtb3ZlKFwibWVudV9hY3RpdmVcIikpO1xuICAgICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1lbnVzQ2VudGVyZWQgPiBkaXZcIikpXG4gICAgICAgIC5maWx0ZXIoXG4gICAgICAgICAgbWVudSA9PlxuICAgICAgICAgICAgbWVudS5jbGFzc05hbWUgPT09XG4gICAgICAgICAgICBgbWVudSR7ZS50YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1kZXNjcmlwdGlvblwiKX1gXG4gICAgICAgIClbMF1cbiAgICAgICAgLmNsYXNzTGlzdC50b2dnbGUoXCJtZW51X2FjdGl2ZVwiKTtcbiAgICAgIGRvY3VtZW50XG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLm9wdGlvbmFsX3BhbmVsXCIpXG4gICAgICAgIC5jbGFzc0xpc3QudG9nZ2xlKFwib3B0aW9uYWxfcGFuZWxfYWN0aXZlXCIpO1xuICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZShcInRvb2dsZV9hY3RpdmVcIik7XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBtZW51T3BlbkZ1bmM7XG4iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUdBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFHQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFHQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBS0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFLQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/optionalPanel/OptionalPanelFuncs/toogleEventfunc.js\n");

/***/ }),

/***/ "./src/components/optionalPanel/index.js":
/*!***********************************************!*\
  !*** ./src/components/optionalPanel/index.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _index = __webpack_require__(/*! ./index.scss */ \"./src/components/optionalPanel/index.scss\");\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _resizeButtonFunc = __webpack_require__(/*! ./OptionalPanelFuncs/resizeButtonFunc */ \"./src/components/optionalPanel/OptionalPanelFuncs/resizeButtonFunc.js\");\n\nvar _resizeButtonFunc2 = _interopRequireDefault(_resizeButtonFunc);\n\nvar _toogleEventfunc = __webpack_require__(/*! ./OptionalPanelFuncs/toogleEventfunc */ \"./src/components/optionalPanel/OptionalPanelFuncs/toogleEventfunc.js\");\n\nvar _toogleEventfunc2 = _interopRequireDefault(_toogleEventfunc);\n\nvar _inputWidthAndHeightFunc = __webpack_require__(/*! ./OptionalPanelFuncs/inputWidthAndHeightFunc */ \"./src/components/optionalPanel/OptionalPanelFuncs/inputWidthAndHeightFunc.js\");\n\nvar _inputWidthAndHeightFunc2 = _interopRequireDefault(_inputWidthAndHeightFunc);\n\nvar _exportButtonFunc = __webpack_require__(/*! ./OptionalPanelFuncs/exportButtonFunc */ \"./src/components/optionalPanel/OptionalPanelFuncs/exportButtonFunc.js\");\n\nvar _exportButtonFunc2 = _interopRequireDefault(_exportButtonFunc);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar optionalPanel = function () {\n  function optionalPanel(state, setState, that) {\n    _classCallCheck(this, optionalPanel);\n\n    this.state = state;\n    this.setState = setState;\n    this.that = that;\n  }\n\n  _createClass(optionalPanel, [{\n    key: \"render\",\n    value: function render() {\n      var arrSettings = [\"Preferences\", \"Resize\", \"Save\", \"Export\", \"Import\"];\n\n      var mainDiv = document.createElement(\"div\");\n      mainDiv.setAttribute(\"class\", \"optional_panel\");\n\n      var divToogle = document.createElement(\"div\");\n      divToogle.setAttribute(\"class\", \"divToogle\");\n      mainDiv.appendChild(divToogle);\n\n      var divToogleCentered = document.createElement(\"div\");\n      divToogleCentered.setAttribute(\"class\", \"divToogleCentered\");\n      divToogle.appendChild(divToogleCentered);\n\n      for (var i = 0; i < arrSettings.length; i += 1) {\n        var toogle = document.createElement(\"div\");\n        toogle.setAttribute(\"class\", \"toogle\");\n        toogle.dataset.description = arrSettings[i];\n        toogle.onclick = (0, _toogleEventfunc2.default)(this.state, arrSettings[i]);\n        divToogleCentered.appendChild(toogle);\n      }\n\n      var menus = document.createElement(\"div\");\n      menus.setAttribute(\"class\", \"menus\");\n      mainDiv.appendChild(menus);\n\n      var menusCentered = document.createElement(\"div\");\n      menusCentered.setAttribute(\"class\", \"menusCentered\");\n      menus.appendChild(menusCentered);\n\n      var menuPreferences = document.createElement(\"div\");\n      menuPreferences.setAttribute(\"class\", \"menu\" + arrSettings[0]);\n      menusCentered.appendChild(menuPreferences);\n\n      // /RESIZE\n      var menuResize = document.createElement(\"div\");\n      menuResize.setAttribute(\"class\", \"menu\" + arrSettings[1]);\n      menusCentered.appendChild(menuResize);\n\n      var h3Resize = document.createElement(\"h3\");\n      h3Resize.setAttribute(\"class\", \"menusTitles h3Resize\");\n      h3Resize.textContent = \"RESIZE\";\n      menuResize.appendChild(h3Resize);\n\n      var inputWidthBlock = document.createElement(\"div\");\n      inputWidthBlock.setAttribute(\"class\", \"inputWidthBlock\");\n      menuResize.appendChild(inputWidthBlock);\n\n      var widthSpan = document.createElement(\"span\");\n      widthSpan.setAttribute(\"class\", \"widthSpan\");\n      widthSpan.textContent = \"Width\";\n      inputWidthBlock.appendChild(widthSpan);\n\n      var inputWidth = document.createElement(\"input\");\n      inputWidth.setAttribute(\"id\", \"inputWidth\");\n      inputWidth.setAttribute(\"type\", \"number\");\n      inputWidth.setAttribute(\"min\", \"0\");\n      inputWidth.setAttribute(\"max\", \"500\");\n      inputWidth.setAttribute(\"placeholder\", this.state.canvasSettings.rows);\n      inputWidth.onchange = (0, _inputWidthAndHeightFunc2.default)(this.state);\n      inputWidthBlock.appendChild(inputWidth);\n\n      var pxSpanWidth = document.createElement(\"span\");\n      pxSpanWidth.setAttribute(\"class\", \"pxSpanWidth\");\n      pxSpanWidth.textContent = \"px\";\n      inputWidthBlock.appendChild(pxSpanWidth);\n      // /Height\n      var inputHeightBlock = document.createElement(\"div\");\n      inputHeightBlock.setAttribute(\"class\", \"inputHeightBlock\");\n      menuResize.appendChild(inputHeightBlock);\n\n      var heightSpan = document.createElement(\"span\");\n      heightSpan.setAttribute(\"class\", \"heightSpan\");\n      heightSpan.textContent = \"Height\";\n      inputHeightBlock.appendChild(heightSpan);\n\n      var inputHeight = document.createElement(\"input\");\n      inputHeight.setAttribute(\"id\", \"inputHeight\");\n      inputHeight.setAttribute(\"type\", \"number\");\n      inputHeight.setAttribute(\"min\", \"0\");\n      inputHeight.setAttribute(\"max\", \"500\");\n      inputHeight.setAttribute(\"placeholder\", this.state.canvasSettings.columns);\n      inputHeight.onchange = (0, _inputWidthAndHeightFunc2.default)(this.state, this.setState, this.that);\n      inputHeightBlock.appendChild(inputHeight);\n\n      var pxSpanHeight = document.createElement(\"span\");\n      pxSpanHeight.setAttribute(\"class\", \"pxSpanHeight\");\n      pxSpanHeight.textContent = \"px\";\n      inputHeightBlock.appendChild(pxSpanHeight);\n\n      var buttonBlock = document.createElement(\"div\");\n      buttonBlock.setAttribute(\"class\", \"buttonBlock\");\n      menuResize.appendChild(buttonBlock);\n\n      var buttonResize = document.createElement(\"button\");\n      buttonResize.setAttribute(\"class\", \"buttonResize\");\n      buttonResize.textContent = \"Resize\";\n      buttonResize.onclick = (0, _resizeButtonFunc2.default)(this.state, this.setState, this.that);\n      buttonBlock.appendChild(buttonResize);\n\n      // /SAVE\n      var menuSave = document.createElement(\"div\");\n      menuSave.setAttribute(\"class\", \"menu\" + arrSettings[2]);\n      menusCentered.appendChild(menuSave);\n      // /EXPORT\n      var menuExport = document.createElement(\"div\");\n      menuExport.setAttribute(\"class\", \"menu\" + arrSettings[3]);\n      menusCentered.appendChild(menuExport);\n\n      var h3Export = document.createElement(\"h3\");\n      h3Export.setAttribute(\"class\", \"menusTitles h3Export\");\n      h3Export.textContent = \"EXPORT\";\n      menuExport.appendChild(h3Export);\n\n      var buttonExport = document.createElement(\"button\");\n      buttonExport.setAttribute(\"class\", \"exportButton\");\n      buttonExport.textContent = \"Export\";\n      buttonExport.onclick = (0, _exportButtonFunc2.default)(this.state, this.setState, this.that);\n      menuExport.appendChild(buttonExport);\n\n      // /IMPORT\n      var menuImport = document.createElement(\"div\");\n      menuImport.setAttribute(\"class\", \"menu\" + arrSettings[4]);\n      menusCentered.appendChild(menuImport);\n\n      return mainDiv;\n    }\n  }]);\n\n  return optionalPanel;\n}();\n\nexports.default = optionalPanel;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9vcHRpb25hbFBhbmVsL2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL29wdGlvbmFsUGFuZWwvaW5kZXguanM/YTQzNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc3R5bGUgZnJvbSBcIi4vaW5kZXguc2Nzc1wiO1xuaW1wb3J0IHJlc2l6ZUJ1dHRvbkZ1bmMgZnJvbSBcIi4vT3B0aW9uYWxQYW5lbEZ1bmNzL3Jlc2l6ZUJ1dHRvbkZ1bmNcIjtcbmltcG9ydCBtZW51T3BlbkZ1bmMgZnJvbSBcIi4vT3B0aW9uYWxQYW5lbEZ1bmNzL3Rvb2dsZUV2ZW50ZnVuY1wiO1xuaW1wb3J0IGlucHV0V2lkdGhBbmRIZWlnaHRGdW5jIGZyb20gXCIuL09wdGlvbmFsUGFuZWxGdW5jcy9pbnB1dFdpZHRoQW5kSGVpZ2h0RnVuY1wiO1xuaW1wb3J0IGV4cG9ydEJ1dHRvbkZ1bmMgZnJvbSBcIi4vT3B0aW9uYWxQYW5lbEZ1bmNzL2V4cG9ydEJ1dHRvbkZ1bmNcIjtcblxuY2xhc3Mgb3B0aW9uYWxQYW5lbCB7XG4gIGNvbnN0cnVjdG9yKHN0YXRlLCBzZXRTdGF0ZSwgdGhhdCkge1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB0aGlzLnNldFN0YXRlID0gc2V0U3RhdGU7XG4gICAgdGhpcy50aGF0ID0gdGhhdDtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBhcnJTZXR0aW5ncyA9IFtcIlByZWZlcmVuY2VzXCIsIFwiUmVzaXplXCIsIFwiU2F2ZVwiLCBcIkV4cG9ydFwiLCBcIkltcG9ydFwiXTtcblxuICAgIGNvbnN0IG1haW5EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG1haW5EaXYuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJvcHRpb25hbF9wYW5lbFwiKTtcblxuICAgIGNvbnN0IGRpdlRvb2dsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZGl2VG9vZ2xlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiZGl2VG9vZ2xlXCIpO1xuICAgIG1haW5EaXYuYXBwZW5kQ2hpbGQoZGl2VG9vZ2xlKTtcblxuICAgIGNvbnN0IGRpdlRvb2dsZUNlbnRlcmVkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBkaXZUb29nbGVDZW50ZXJlZC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImRpdlRvb2dsZUNlbnRlcmVkXCIpO1xuICAgIGRpdlRvb2dsZS5hcHBlbmRDaGlsZChkaXZUb29nbGVDZW50ZXJlZCk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyclNldHRpbmdzLmxlbmd0aDsgaSs9MSkge1xuICAgICAgY29uc3QgdG9vZ2xlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIHRvb2dsZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInRvb2dsZVwiKTtcbiAgICAgIHRvb2dsZS5kYXRhc2V0LmRlc2NyaXB0aW9uID0gYXJyU2V0dGluZ3NbaV07XG4gICAgICB0b29nbGUub25jbGljayA9IG1lbnVPcGVuRnVuYyh0aGlzLnN0YXRlLCBhcnJTZXR0aW5nc1tpXSk7XG4gICAgICBkaXZUb29nbGVDZW50ZXJlZC5hcHBlbmRDaGlsZCh0b29nbGUpO1xuICAgIH1cblxuICAgIGNvbnN0IG1lbnVzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBtZW51cy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm1lbnVzXCIpO1xuICAgIG1haW5EaXYuYXBwZW5kQ2hpbGQobWVudXMpO1xuXG4gICAgY29uc3QgbWVudXNDZW50ZXJlZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbWVudXNDZW50ZXJlZC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm1lbnVzQ2VudGVyZWRcIik7XG4gICAgbWVudXMuYXBwZW5kQ2hpbGQobWVudXNDZW50ZXJlZCk7XG5cbiAgICBjb25zdCBtZW51UHJlZmVyZW5jZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG1lbnVQcmVmZXJlbmNlcy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBgbWVudSR7YXJyU2V0dGluZ3NbMF19YCk7XG4gICAgbWVudXNDZW50ZXJlZC5hcHBlbmRDaGlsZChtZW51UHJlZmVyZW5jZXMpO1xuXG4gICAgLy8gL1JFU0laRVxuICAgIGNvbnN0IG1lbnVSZXNpemUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG1lbnVSZXNpemUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgYG1lbnUke2FyclNldHRpbmdzWzFdfWApO1xuICAgIG1lbnVzQ2VudGVyZWQuYXBwZW5kQ2hpbGQobWVudVJlc2l6ZSk7XG5cbiAgICBjb25zdCBoM1Jlc2l6ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKTtcbiAgICBoM1Jlc2l6ZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm1lbnVzVGl0bGVzIGgzUmVzaXplXCIpO1xuICAgIGgzUmVzaXplLnRleHRDb250ZW50ID0gXCJSRVNJWkVcIjtcbiAgICBtZW51UmVzaXplLmFwcGVuZENoaWxkKGgzUmVzaXplKTtcblxuICAgIGNvbnN0IGlucHV0V2lkdGhCbG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgaW5wdXRXaWR0aEJsb2NrLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiaW5wdXRXaWR0aEJsb2NrXCIpO1xuICAgIG1lbnVSZXNpemUuYXBwZW5kQ2hpbGQoaW5wdXRXaWR0aEJsb2NrKTtcblxuICAgIGNvbnN0IHdpZHRoU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIHdpZHRoU3Bhbi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIndpZHRoU3BhblwiKTtcbiAgICB3aWR0aFNwYW4udGV4dENvbnRlbnQgPSBcIldpZHRoXCI7XG4gICAgaW5wdXRXaWR0aEJsb2NrLmFwcGVuZENoaWxkKHdpZHRoU3Bhbik7XG5cbiAgICBjb25zdCBpbnB1dFdpZHRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIGlucHV0V2lkdGguc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJpbnB1dFdpZHRoXCIpO1xuICAgIGlucHV0V2lkdGguc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcIm51bWJlclwiKTtcbiAgICBpbnB1dFdpZHRoLnNldEF0dHJpYnV0ZShcIm1pblwiLCBcIjBcIik7XG4gICAgaW5wdXRXaWR0aC5zZXRBdHRyaWJ1dGUoXCJtYXhcIiwgXCI1MDBcIik7XG4gICAgaW5wdXRXaWR0aC5zZXRBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiLCB0aGlzLnN0YXRlLmNhbnZhc1NldHRpbmdzLnJvd3MpO1xuICAgIGlucHV0V2lkdGgub25jaGFuZ2UgPSBpbnB1dFdpZHRoQW5kSGVpZ2h0RnVuYyh0aGlzLnN0YXRlKTtcbiAgICBpbnB1dFdpZHRoQmxvY2suYXBwZW5kQ2hpbGQoaW5wdXRXaWR0aCk7XG5cbiAgICBjb25zdCBweFNwYW5XaWR0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIHB4U3BhbldpZHRoLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwicHhTcGFuV2lkdGhcIik7XG4gICAgcHhTcGFuV2lkdGgudGV4dENvbnRlbnQgPSBcInB4XCI7XG4gICAgaW5wdXRXaWR0aEJsb2NrLmFwcGVuZENoaWxkKHB4U3BhbldpZHRoKTtcbiAgICAvLyAvSGVpZ2h0XG4gICAgY29uc3QgaW5wdXRIZWlnaHRCbG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgaW5wdXRIZWlnaHRCbG9jay5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImlucHV0SGVpZ2h0QmxvY2tcIik7XG4gICAgbWVudVJlc2l6ZS5hcHBlbmRDaGlsZChpbnB1dEhlaWdodEJsb2NrKTtcblxuICAgIGNvbnN0IGhlaWdodFNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICBoZWlnaHRTcGFuLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiaGVpZ2h0U3BhblwiKTtcbiAgICBoZWlnaHRTcGFuLnRleHRDb250ZW50ID0gXCJIZWlnaHRcIjtcbiAgICBpbnB1dEhlaWdodEJsb2NrLmFwcGVuZENoaWxkKGhlaWdodFNwYW4pO1xuXG4gICAgY29uc3QgaW5wdXRIZWlnaHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgaW5wdXRIZWlnaHQuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJpbnB1dEhlaWdodFwiKTtcbiAgICBpbnB1dEhlaWdodC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwibnVtYmVyXCIpO1xuICAgIGlucHV0SGVpZ2h0LnNldEF0dHJpYnV0ZShcIm1pblwiLCBcIjBcIik7XG4gICAgaW5wdXRIZWlnaHQuc2V0QXR0cmlidXRlKFwibWF4XCIsIFwiNTAwXCIpO1xuICAgIGlucHV0SGVpZ2h0LnNldEF0dHJpYnV0ZShcInBsYWNlaG9sZGVyXCIsIHRoaXMuc3RhdGUuY2FudmFzU2V0dGluZ3MuY29sdW1ucyk7XG4gICAgaW5wdXRIZWlnaHQub25jaGFuZ2UgPSBpbnB1dFdpZHRoQW5kSGVpZ2h0RnVuYyhcbiAgICAgIHRoaXMuc3RhdGUsXG4gICAgICB0aGlzLnNldFN0YXRlLFxuICAgICAgdGhpcy50aGF0XG4gICAgKTtcbiAgICBpbnB1dEhlaWdodEJsb2NrLmFwcGVuZENoaWxkKGlucHV0SGVpZ2h0KTtcblxuICAgIGNvbnN0IHB4U3BhbkhlaWdodCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIHB4U3BhbkhlaWdodC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInB4U3BhbkhlaWdodFwiKTtcbiAgICBweFNwYW5IZWlnaHQudGV4dENvbnRlbnQgPSBcInB4XCI7XG4gICAgaW5wdXRIZWlnaHRCbG9jay5hcHBlbmRDaGlsZChweFNwYW5IZWlnaHQpO1xuXG4gICAgY29uc3QgYnV0dG9uQmxvY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGJ1dHRvbkJsb2NrLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiYnV0dG9uQmxvY2tcIik7XG4gICAgbWVudVJlc2l6ZS5hcHBlbmRDaGlsZChidXR0b25CbG9jayk7XG5cbiAgICBjb25zdCBidXR0b25SZXNpemUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGJ1dHRvblJlc2l6ZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImJ1dHRvblJlc2l6ZVwiKTtcbiAgICBidXR0b25SZXNpemUudGV4dENvbnRlbnQgPSBcIlJlc2l6ZVwiO1xuICAgIGJ1dHRvblJlc2l6ZS5vbmNsaWNrID0gcmVzaXplQnV0dG9uRnVuYyhcbiAgICAgIHRoaXMuc3RhdGUsXG4gICAgICB0aGlzLnNldFN0YXRlLFxuICAgICAgdGhpcy50aGF0XG4gICAgKTtcbiAgICBidXR0b25CbG9jay5hcHBlbmRDaGlsZChidXR0b25SZXNpemUpO1xuXG4gICAgLy8gL1NBVkVcbiAgICBjb25zdCBtZW51U2F2ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbWVudVNhdmUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgYG1lbnUke2FyclNldHRpbmdzWzJdfWApO1xuICAgIG1lbnVzQ2VudGVyZWQuYXBwZW5kQ2hpbGQobWVudVNhdmUpO1xuICAgIC8vIC9FWFBPUlRcbiAgICBjb25zdCBtZW51RXhwb3J0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBtZW51RXhwb3J0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGBtZW51JHthcnJTZXR0aW5nc1szXX1gKTtcbiAgICBtZW51c0NlbnRlcmVkLmFwcGVuZENoaWxkKG1lbnVFeHBvcnQpO1xuXG4gICAgY29uc3QgaDNFeHBvcnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDNcIik7XG4gICAgaDNFeHBvcnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJtZW51c1RpdGxlcyBoM0V4cG9ydFwiKTtcbiAgICBoM0V4cG9ydC50ZXh0Q29udGVudCA9IFwiRVhQT1JUXCI7XG4gICAgbWVudUV4cG9ydC5hcHBlbmRDaGlsZChoM0V4cG9ydCk7XG5cbiAgICBjb25zdCBidXR0b25FeHBvcnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGJ1dHRvbkV4cG9ydC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImV4cG9ydEJ1dHRvblwiKTtcbiAgICBidXR0b25FeHBvcnQudGV4dENvbnRlbnQgPSBcIkV4cG9ydFwiO1xuICAgIGJ1dHRvbkV4cG9ydC5vbmNsaWNrID0gZXhwb3J0QnV0dG9uRnVuYyhcbiAgICAgIHRoaXMuc3RhdGUsXG4gICAgICB0aGlzLnNldFN0YXRlLFxuICAgICAgdGhpcy50aGF0XG4gICAgKTtcbiAgICBtZW51RXhwb3J0LmFwcGVuZENoaWxkKGJ1dHRvbkV4cG9ydCk7XG5cbiAgICAvLyAvSU1QT1JUXG4gICAgY29uc3QgbWVudUltcG9ydCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbWVudUltcG9ydC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBgbWVudSR7YXJyU2V0dGluZ3NbNF19YCk7XG4gICAgbWVudXNDZW50ZXJlZC5hcHBlbmRDaGlsZChtZW51SW1wb3J0KTtcblxuICAgIHJldHVybiBtYWluRGl2O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG9wdGlvbmFsUGFuZWw7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7OztBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQUdBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/optionalPanel/index.js\n");

/***/ }),

/***/ "./src/components/optionalPanel/index.scss":
/*!*************************************************!*\
  !*** ./src/components/optionalPanel/index.scss ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var content = __webpack_require__(/*! !../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??ref--7-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!./index.scss */ \"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./src/components/optionalPanel/index.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.i, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = __webpack_require__(/*! ../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9vcHRpb25hbFBhbmVsL2luZGV4LnNjc3MuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9vcHRpb25hbFBhbmVsL2luZGV4LnNjc3M/YTUzZCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS03LTIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTctMyEuL2luZGV4LnNjc3NcIik7XG5cbmlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xufVxuXG52YXIgb3B0aW9ucyA9IHt9XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmIChjb250ZW50LmxvY2Fscykge1xuICBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/optionalPanel/index.scss\n");

/***/ }),

/***/ "./src/components/tools/ToolsFuncs/bucketToolFunc.js":
/*!***********************************************************!*\
  !*** ./src/components/tools/ToolsFuncs/bucketToolFunc.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nfunction bucketToolFunc(state, setState, that) {\n    function bucketTool(e) {\n        var canvas = document.getElementById(\"canvas\");\n        var fillcolor = state.colors.current;\n        function floodfill(x, y, A, B) {\n            function getColor(x, y) {\n                return state.frames[state.currFrame].matrix[x][y];\n            }\n            if (x < 0 || x > state.canvasSettings.rows - 1 || y < 0 || y > state.canvasSettings.columns - 1) return;\n            if (getColor(x, y) !== A) return;\n            if (A === B) return;\n            state.frames[state.currFrame].matrix[x][y] = B;\n            floodfill(x - 1, y - 1, A, B);\n            floodfill(x - 1, y, A, B);\n            floodfill(x - 1, y + 1, A, B);\n            floodfill(x, y - 1, A, B);\n            floodfill(x, y + 1, A, B);\n            floodfill(x + 1, y - 1, A, B);\n            floodfill(x + 1, y, A, B);\n            floodfill(x + 1, y + 1, A, B);\n        }\n\n        function msUp() {\n            window.removeEventListener(\"mouseup\", msUp);\n            that.setState(state);\n        }\n\n        window.addEventListener(\"mouseup\", msUp);\n\n        var xX = Math.floor(e.offsetX / (canvas.scrollWidth / state.canvasSettings.rows));\n        var yY = Math.floor(e.offsetY / (canvas.scrollWidth / state.canvasSettings.columns));\n        var enterColor = state.frames[state.currFrame].matrix[xX][yY];\n\n        floodfill(xX, yY, enterColor, fillcolor);\n    }\n    return function () {\n        state.canvasEventFunc = bucketTool;\n        that.setState(state);\n    };\n}\nexports.default = bucketToolFunc;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90b29scy9Ub29sc0Z1bmNzL2J1Y2tldFRvb2xGdW5jLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL3Rvb2xzL1Rvb2xzRnVuY3MvYnVja2V0VG9vbEZ1bmMuanM/NWRhNiJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBidWNrZXRUb29sRnVuYyhzdGF0ZSwgc2V0U3RhdGUsIHRoYXQpIHtcbiAgICBmdW5jdGlvbiBidWNrZXRUb29sKGUpIHtcbiAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIik7XG4gICAgICAgIGNvbnN0IGZpbGxjb2xvciA9IHN0YXRlLmNvbG9ycy5jdXJyZW50O1xuICAgICAgICBmdW5jdGlvbiBmbG9vZGZpbGwoeCwgeSwgQSwgQikge1xuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0Q29sb3IoeCwgeSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZS5mcmFtZXNbc3RhdGUuY3VyckZyYW1lXS5tYXRyaXhbeF1beV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgeCA8IDAgfHxcbiAgICAgICAgICAgICAgICB4ID4gc3RhdGUuY2FudmFzU2V0dGluZ3Mucm93cyAtIDEgfHxcbiAgICAgICAgICAgICAgICB5IDwgMCB8fFxuICAgICAgICAgICAgICAgIHkgPiBzdGF0ZS5jYW52YXNTZXR0aW5ncy5jb2x1bW5zIC0gMVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGlmIChnZXRDb2xvcih4LCB5KSAhPT0gQSkgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKEEgPT09IEIpIHJldHVybjtcbiAgICAgICAgICAgIHN0YXRlLmZyYW1lc1tzdGF0ZS5jdXJyRnJhbWVdLm1hdHJpeFt4XVt5XSA9IEI7XG4gICAgICAgICAgICBmbG9vZGZpbGwoeCAtIDEsIHkgLSAxLCBBLCBCKTtcbiAgICAgICAgICAgIGZsb29kZmlsbCh4IC0gMSwgeSwgQSwgQik7XG4gICAgICAgICAgICBmbG9vZGZpbGwoeCAtIDEsIHkgKyAxLCBBLCBCKTtcbiAgICAgICAgICAgIGZsb29kZmlsbCh4LCB5IC0gMSwgQSwgQik7XG4gICAgICAgICAgICBmbG9vZGZpbGwoeCwgeSArIDEsIEEsIEIpO1xuICAgICAgICAgICAgZmxvb2RmaWxsKHggKyAxLCB5IC0gMSwgQSwgQik7XG4gICAgICAgICAgICBmbG9vZGZpbGwoeCArIDEsIHksIEEsIEIpO1xuICAgICAgICAgICAgZmxvb2RmaWxsKHggKyAxLCB5ICsgMSwgQSwgQik7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBtc1VwKCkge1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIG1zVXApO1xuICAgICAgICAgICAgdGhhdC5zZXRTdGF0ZShzdGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgbXNVcCk7XG5cbiAgICAgICAgY29uc3QgeFggPSBNYXRoLmZsb29yKFxuICAgICAgICAgICAgZS5vZmZzZXRYIC8gKGNhbnZhcy5zY3JvbGxXaWR0aCAvIHN0YXRlLmNhbnZhc1NldHRpbmdzLnJvd3MpXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHlZID0gTWF0aC5mbG9vcihcbiAgICAgICAgICAgIGUub2Zmc2V0WSAvIChjYW52YXMuc2Nyb2xsV2lkdGggLyBzdGF0ZS5jYW52YXNTZXR0aW5ncy5jb2x1bW5zKVxuICAgICAgICApO1xuICAgICAgICBjb25zdCBlbnRlckNvbG9yID0gc3RhdGUuZnJhbWVzW3N0YXRlLmN1cnJGcmFtZV0ubWF0cml4W3hYXVt5WV07XG5cbiAgICAgICAgZmxvb2RmaWxsKHhYLCB5WSwgZW50ZXJDb2xvciwgZmlsbGNvbG9yKTtcblxuICAgICAgICBcbiAgICB9XG4gICAgcmV0dXJuICgpID0+e1xuICAgICAgICBzdGF0ZS5jYW52YXNFdmVudEZ1bmMgPSBidWNrZXRUb29sO1xuICAgICAgICB0aGF0LnNldFN0YXRlKHN0YXRlKTtcbiAgICB9O1xufVxuZXhwb3J0IGRlZmF1bHQgYnVja2V0VG9vbEZ1bmM7XG4iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/tools/ToolsFuncs/bucketToolFunc.js\n");

/***/ }),

/***/ "./src/components/tools/ToolsFuncs/changeCurrColor.js":
/*!************************************************************!*\
  !*** ./src/components/tools/ToolsFuncs/changeCurrColor.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nfunction changeCurrColor(state, setState, that) {\n    return function (e) {\n        state.colors.current = \"#\" + e.target.value;\n        e.target.parentNode.style.backgroundColor = state.colors.current;\n        that.setStateSilent(state);\n    };\n}\nexports.default = changeCurrColor;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90b29scy9Ub29sc0Z1bmNzL2NoYW5nZUN1cnJDb2xvci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvY29tcG9uZW50cy90b29scy9Ub29sc0Z1bmNzL2NoYW5nZUN1cnJDb2xvci5qcz9iZTlmIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGNoYW5nZUN1cnJDb2xvcihzdGF0ZSwgc2V0U3RhdGUsIHRoYXQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZSkge1xuICAgICAgICBzdGF0ZS5jb2xvcnMuY3VycmVudCA9IGAjJHtlLnRhcmdldC52YWx1ZX1gO1xuICAgICAgICBlLnRhcmdldC5wYXJlbnROb2RlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHN0YXRlLmNvbG9ycy5jdXJyZW50O1xuICAgICAgICB0aGF0LnNldFN0YXRlU2lsZW50KHN0YXRlKTtcbiAgICB9O1xufVxuZXhwb3J0IGRlZmF1bHQgY2hhbmdlQ3VyckNvbG9yO1xuIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/tools/ToolsFuncs/changeCurrColor.js\n");

/***/ }),

/***/ "./src/components/tools/ToolsFuncs/changePrevColor.js":
/*!************************************************************!*\
  !*** ./src/components/tools/ToolsFuncs/changePrevColor.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nfunction changePrevColor(state, setState, that) {\n    return function (e) {\n        state.colors.previous = \"#\" + e.target.value;\n        e.target.parentNode.style.backgroundColor = state.colors.previous;\n        that.setStateSilent(state);\n    };\n}\nexports.default = changePrevColor;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90b29scy9Ub29sc0Z1bmNzL2NoYW5nZVByZXZDb2xvci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvY29tcG9uZW50cy90b29scy9Ub29sc0Z1bmNzL2NoYW5nZVByZXZDb2xvci5qcz8zN2M5Il0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGNoYW5nZVByZXZDb2xvcihzdGF0ZSwgc2V0U3RhdGUsIHRoYXQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZSkge1xuICAgICAgICBzdGF0ZS5jb2xvcnMucHJldmlvdXMgPSBgIyR7ZS50YXJnZXQudmFsdWV9YDtcbiAgICAgICAgZS50YXJnZXQucGFyZW50Tm9kZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBzdGF0ZS5jb2xvcnMucHJldmlvdXM7XG4gICAgICAgIHRoYXQuc2V0U3RhdGVTaWxlbnQoc3RhdGUpO1xuICAgIH07XG59XG5leHBvcnQgZGVmYXVsdCBjaGFuZ2VQcmV2Q29sb3I7XG4iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/tools/ToolsFuncs/changePrevColor.js\n");

/***/ }),

/***/ "./src/components/tools/ToolsFuncs/chooseColorCurrent.js":
/*!***************************************************************!*\
  !*** ./src/components/tools/ToolsFuncs/chooseColorCurrent.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n/**\n * jscolor - JavaScript Color Picker\n *\n * @link    http://jscolor.com\n * @license For open source use: GPLv3\n *          For commercial use: JSColor Commercial License\n * @author  Jan Odvarko\n * @version 2.0.5\n *\n * See usage examples at http://jscolor.com/examples/\n */\n\nfunction chooseColor() {\n\n\tvar jsc = {\n\n\t\tregister: function register() {\n\t\t\tjsc.attachDOMReadyEvent(jsc.init);\n\t\t\tjsc.attachEvent(document, 'mousedown', jsc.onDocumentMouseDown);\n\t\t\tjsc.attachEvent(document, 'touchstart', jsc.onDocumentTouchStart);\n\t\t\tjsc.attachEvent(window, 'resize', jsc.onWindowResize);\n\t\t},\n\n\t\tinit: function init() {\n\t\t\tif (jsc.jscolor.lookupClass) {\n\t\t\t\tjsc.jscolor.installByClassName(jsc.jscolor.lookupClass);\n\t\t\t}\n\t\t},\n\n\t\ttryInstallOnElements: function tryInstallOnElements(elms, className) {\n\t\t\tvar matchClass = new RegExp('(^|\\\\s)(' + className + ')(\\\\s*(\\\\{[^}]*\\\\})|\\\\s|$)', 'i');\n\n\t\t\tfor (var i = 0; i < elms.length; i += 1) {\n\t\t\t\tif (elms[i].type !== undefined && elms[i].type.toLowerCase() == 'color') {\n\t\t\t\t\tif (jsc.isColorAttrSupported) {\n\t\t\t\t\t\t// skip inputs of type 'color' if supported by the browser\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar m;\n\t\t\t\tif (!elms[i].jscolor && elms[i].className && (m = elms[i].className.match(matchClass))) {\n\t\t\t\t\tvar targetElm = elms[i];\n\t\t\t\t\tvar optsStr = null;\n\n\t\t\t\t\tvar dataOptions = jsc.getDataAttr(targetElm, 'jscolor');\n\t\t\t\t\tif (dataOptions !== null) {\n\t\t\t\t\t\toptsStr = dataOptions;\n\t\t\t\t\t} else if (m[4]) {\n\t\t\t\t\t\toptsStr = m[4];\n\t\t\t\t\t}\n\n\t\t\t\t\tvar opts = {};\n\t\t\t\t\tif (optsStr) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\topts = new Function('return (' + optsStr + ')')();\n\t\t\t\t\t\t} catch (eParseError) {\n\t\t\t\t\t\t\tjsc.warn('Error parsing jscolor options: ' + eParseError + ':\\n' + optsStr);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\ttargetElm.jscolor = new jsc.jscolor(targetElm, opts);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tisColorAttrSupported: function () {\n\t\t\tvar elm = document.createElement('input');\n\t\t\tif (elm.setAttribute) {\n\t\t\t\telm.setAttribute('type', 'color');\n\t\t\t\tif (elm.type.toLowerCase() == 'color') {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}(),\n\n\t\tisCanvasSupported: function () {\n\t\t\tvar elm = document.createElement('canvas');\n\t\t\treturn !!(elm.getContext && elm.getContext('2d'));\n\t\t}(),\n\n\t\tfetchElement: function fetchElement(mixed) {\n\t\t\treturn typeof mixed === 'string' ? document.getElementById(mixed) : mixed;\n\t\t},\n\n\t\tisElementType: function isElementType(elm, type) {\n\t\t\treturn elm.nodeName.toLowerCase() === type.toLowerCase();\n\t\t},\n\n\t\tgetDataAttr: function getDataAttr(el, name) {\n\t\t\tvar attrName = 'data-' + name;\n\t\t\tvar attrValue = el.getAttribute(attrName);\n\t\t\tif (attrValue !== null) {\n\t\t\t\treturn attrValue;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\n\t\tattachEvent: function attachEvent(el, evnt, func) {\n\t\t\tif (el.addEventListener) {\n\t\t\t\tel.addEventListener(evnt, func, false);\n\t\t\t} else if (el.attachEvent) {\n\t\t\t\tel.attachEvent('on' + evnt, func);\n\t\t\t}\n\t\t},\n\n\t\tdetachEvent: function detachEvent(el, evnt, func) {\n\t\t\tif (el.removeEventListener) {\n\t\t\t\tel.removeEventListener(evnt, func, false);\n\t\t\t} else if (el.detachEvent) {\n\t\t\t\tel.detachEvent('on' + evnt, func);\n\t\t\t}\n\t\t},\n\n\t\t_attachedGroupEvents: {},\n\n\t\tattachGroupEvent: function attachGroupEvent(groupName, el, evnt, func) {\n\t\t\tif (!jsc._attachedGroupEvents.hasOwnProperty(groupName)) {\n\t\t\t\tjsc._attachedGroupEvents[groupName] = [];\n\t\t\t}\n\t\t\tjsc._attachedGroupEvents[groupName].push([el, evnt, func]);\n\t\t\tjsc.attachEvent(el, evnt, func);\n\t\t},\n\n\t\tdetachGroupEvents: function detachGroupEvents(groupName) {\n\t\t\tif (jsc._attachedGroupEvents.hasOwnProperty(groupName)) {\n\t\t\t\tfor (var i = 0; i < jsc._attachedGroupEvents[groupName].length; i += 1) {\n\t\t\t\t\tvar evt = jsc._attachedGroupEvents[groupName][i];\n\t\t\t\t\tjsc.detachEvent(evt[0], evt[1], evt[2]);\n\t\t\t\t}\n\t\t\t\tdelete jsc._attachedGroupEvents[groupName];\n\t\t\t}\n\t\t},\n\n\t\tattachDOMReadyEvent: function attachDOMReadyEvent(func) {\n\t\t\tvar fired = false;\n\t\t\tvar fireOnce = function fireOnce() {\n\t\t\t\tif (!fired) {\n\t\t\t\t\tfired = true;\n\t\t\t\t\tfunc();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif (document.readyState === 'complete') {\n\t\t\t\tsetTimeout(fireOnce, 1); // async\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (document.addEventListener) {\n\t\t\t\tdocument.addEventListener('DOMContentLoaded', fireOnce, false);\n\n\t\t\t\t// Fallback\n\t\t\t\twindow.addEventListener('load', fireOnce, false);\n\t\t\t} else if (document.attachEvent) {\n\t\t\t\t// IE\n\t\t\t\tdocument.attachEvent('onreadystatechange', function () {\n\t\t\t\t\tif (document.readyState === 'complete') {\n\t\t\t\t\t\tdocument.detachEvent('onreadystatechange', arguments.callee);\n\t\t\t\t\t\tfireOnce();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Fallback\n\t\t\t\twindow.attachEvent('onload', fireOnce);\n\n\t\t\t\t// IE7/8\n\t\t\t\tif (document.documentElement.doScroll && window == window.top) {\n\t\t\t\t\tvar tryScroll = function tryScroll() {\n\t\t\t\t\t\tif (!document.body) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tdocument.documentElement.doScroll('left');\n\t\t\t\t\t\t\tfireOnce();\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tsetTimeout(tryScroll, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\ttryScroll();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\twarn: function warn(msg) {\n\t\t\tif (window.console && window.console.warn) {\n\t\t\t\twindow.console.warn(msg);\n\t\t\t}\n\t\t},\n\n\t\tpreventDefault: function preventDefault(e) {\n\t\t\tif (e.preventDefault) {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\te.returnValue = false;\n\t\t},\n\n\t\tcaptureTarget: function captureTarget(target) {\n\t\t\t// IE\n\t\t\tif (target.setCapture) {\n\t\t\t\tjsc._capturedTarget = target;\n\t\t\t\tjsc._capturedTarget.setCapture();\n\t\t\t}\n\t\t},\n\n\t\treleaseTarget: function releaseTarget() {\n\t\t\t// IE\n\t\t\tif (jsc._capturedTarget) {\n\t\t\t\tjsc._capturedTarget.releaseCapture();\n\t\t\t\tjsc._capturedTarget = null;\n\t\t\t}\n\t\t},\n\n\t\tfireEvent: function fireEvent(el, evnt) {\n\t\t\tif (!el) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (document.createEvent) {\n\t\t\t\tvar ev = document.createEvent('HTMLEvents');\n\t\t\t\tev.initEvent(evnt, true, true);\n\t\t\t\tel.dispatchEvent(ev);\n\t\t\t} else if (document.createEventObject) {\n\t\t\t\tvar ev = document.createEventObject();\n\t\t\t\tel.fireEvent('on' + evnt, ev);\n\t\t\t} else if (el['on' + evnt]) {\n\t\t\t\t// alternatively use the traditional event model\n\t\t\t\tel['on' + evnt]();\n\t\t\t}\n\t\t},\n\n\t\tclassNameToList: function classNameToList(className) {\n\t\t\treturn className.replace(/^\\s+|\\s+$/g, '').split(/\\s+/);\n\t\t},\n\n\t\t// The className parameter (str) can only contain a single class name\n\t\thasClass: function hasClass(elm, className) {\n\t\t\tif (!className) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn -1 != (' ' + elm.className.replace(/\\s+/g, ' ') + ' ').indexOf(' ' + className + ' ');\n\t\t},\n\n\t\t// The className parameter (str) can contain multiple class names separated by whitespace\n\t\tsetClass: function setClass(elm, className) {\n\t\t\tvar classList = jsc.classNameToList(className);\n\t\t\tfor (var i = 0; i < classList.length; i += 1) {\n\t\t\t\tif (!jsc.hasClass(elm, classList[i])) {\n\t\t\t\t\telm.className += (elm.className ? ' ' : '') + classList[i];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// The className parameter (str) can contain multiple class names separated by whitespace\n\t\tunsetClass: function unsetClass(elm, className) {\n\t\t\tvar classList = jsc.classNameToList(className);\n\t\t\tfor (var i = 0; i < classList.length; i += 1) {\n\t\t\t\tvar repl = new RegExp('^\\\\s*' + classList[i] + '\\\\s*|' + '\\\\s*' + classList[i] + '\\\\s*$|' + '\\\\s+' + classList[i] + '(\\\\s+)', 'g');\n\t\t\t\telm.className = elm.className.replace(repl, '$1');\n\t\t\t}\n\t\t},\n\n\t\tgetStyle: function getStyle(elm) {\n\t\t\treturn window.getComputedStyle ? window.getComputedStyle(elm) : elm.currentStyle;\n\t\t},\n\n\t\tsetStyle: function () {\n\t\t\tvar helper = document.createElement('div');\n\t\t\tvar getSupportedProp = function getSupportedProp(names) {\n\t\t\t\tfor (var i = 0; i < names.length; i += 1) {\n\t\t\t\t\tif (names[i] in helper.style) {\n\t\t\t\t\t\treturn names[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar props = {\n\t\t\t\tborderRadius: getSupportedProp(['borderRadius', 'MozBorderRadius', 'webkitBorderRadius']),\n\t\t\t\tboxShadow: getSupportedProp(['boxShadow', 'MozBoxShadow', 'webkitBoxShadow'])\n\t\t\t};\n\t\t\treturn function (elm, prop, value) {\n\t\t\t\tswitch (prop.toLowerCase()) {\n\t\t\t\t\tcase 'opacity':\n\t\t\t\t\t\tvar alphaOpacity = Math.round(parseFloat(value) * 100);\n\t\t\t\t\t\telm.style.opacity = value;\n\t\t\t\t\t\telm.style.filter = 'alpha(opacity=' + alphaOpacity + ')';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\telm.style[props[prop]] = value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t};\n\t\t}(),\n\n\t\tsetBorderRadius: function setBorderRadius(elm, value) {\n\t\t\tjsc.setStyle(elm, 'borderRadius', value || '0');\n\t\t},\n\n\t\tsetBoxShadow: function setBoxShadow(elm, value) {\n\t\t\tjsc.setStyle(elm, 'boxShadow', value || 'none');\n\t\t},\n\n\t\tgetElementPos: function getElementPos(e, relativeToViewport) {\n\t\t\tvar x = 0,\n\t\t\t    y = 0;\n\t\t\tvar rect = e.getBoundingClientRect();\n\t\t\tx = rect.left;\n\t\t\ty = rect.top;\n\t\t\tif (!relativeToViewport) {\n\t\t\t\tvar viewPos = jsc.getViewPos();\n\t\t\t\tx += viewPos[0];\n\t\t\t\ty += viewPos[1];\n\t\t\t}\n\t\t\treturn [x, y];\n\t\t},\n\n\t\tgetElementSize: function getElementSize(e) {\n\t\t\treturn [e.offsetWidth, e.offsetHeight];\n\t\t},\n\n\t\t// get pointer's X/Y coordinates relative to viewport\n\t\tgetAbsPointerPos: function getAbsPointerPos(e) {\n\t\t\tif (!e) {\n\t\t\t\te = window.event;\n\t\t\t}\n\t\t\tvar x = 0,\n\t\t\t    y = 0;\n\t\t\tif (typeof e.changedTouches !== 'undefined' && e.changedTouches.length) {\n\t\t\t\t// touch devices\n\t\t\t\tx = e.changedTouches[0].clientX;\n\t\t\t\ty = e.changedTouches[0].clientY;\n\t\t\t} else if (typeof e.clientX === 'number') {\n\t\t\t\tx = e.clientX;\n\t\t\t\ty = e.clientY;\n\t\t\t}\n\t\t\treturn { x: x, y: y };\n\t\t},\n\n\t\t// get pointer's X/Y coordinates relative to target element\n\t\tgetRelPointerPos: function getRelPointerPos(e) {\n\t\t\tif (!e) {\n\t\t\t\te = window.event;\n\t\t\t}\n\t\t\tvar target = e.target || e.srcElement;\n\t\t\tvar targetRect = target.getBoundingClientRect();\n\n\t\t\tvar x = 0,\n\t\t\t    y = 0;\n\n\t\t\tvar clientX = 0,\n\t\t\t    clientY = 0;\n\t\t\tif (typeof e.changedTouches !== 'undefined' && e.changedTouches.length) {\n\t\t\t\t// touch devices\n\t\t\t\tclientX = e.changedTouches[0].clientX;\n\t\t\t\tclientY = e.changedTouches[0].clientY;\n\t\t\t} else if (typeof e.clientX === 'number') {\n\t\t\t\tclientX = e.clientX;\n\t\t\t\tclientY = e.clientY;\n\t\t\t}\n\n\t\t\tx = clientX - targetRect.left;\n\t\t\ty = clientY - targetRect.top;\n\t\t\treturn { x: x, y: y };\n\t\t},\n\n\t\tgetViewPos: function getViewPos() {\n\t\t\tvar doc = document.documentElement;\n\t\t\treturn [(window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0), (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0)];\n\t\t},\n\n\t\tgetViewSize: function getViewSize() {\n\t\t\tvar doc = document.documentElement;\n\t\t\treturn [window.innerWidth || doc.clientWidth, window.innerHeight || doc.clientHeight];\n\t\t},\n\n\t\tredrawPosition: function redrawPosition() {\n\n\t\t\tif (jsc.picker && jsc.picker.owner) {\n\t\t\t\tvar thisObj = jsc.picker.owner;\n\n\t\t\t\tvar tp, vp;\n\n\t\t\t\tif (thisObj.fixed) {\n\t\t\t\t\t// Fixed elements are positioned relative to viewport,\n\t\t\t\t\t// therefore we can ignore the scroll offset\n\t\t\t\t\ttp = jsc.getElementPos(thisObj.targetElement, true); // target pos\n\t\t\t\t\tvp = [0, 0]; // view pos\n\t\t\t\t} else {\n\t\t\t\t\ttp = jsc.getElementPos(thisObj.targetElement); // target pos\n\t\t\t\t\tvp = jsc.getViewPos(); // view pos\n\t\t\t\t}\n\n\t\t\t\tvar ts = jsc.getElementSize(thisObj.targetElement); // target size\n\t\t\t\tvar vs = jsc.getViewSize(); // view size\n\t\t\t\tvar ps = jsc.getPickerOuterDims(thisObj); // picker size\n\t\t\t\tvar a, b, c;\n\t\t\t\tswitch (thisObj.position.toLowerCase()) {\n\t\t\t\t\tcase 'left':\n\t\t\t\t\t\ta = 1;b = 0;c = -1;break;\n\t\t\t\t\tcase 'right':\n\t\t\t\t\t\ta = 1;b = 0;c = 1;break;\n\t\t\t\t\tcase 'top':\n\t\t\t\t\t\ta = 0;b = 1;c = -1;break;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\ta = 0;b = 1;c = 1;break;\n\t\t\t\t}\n\t\t\t\tvar l = (ts[b] + ps[b]) / 2;\n\n\t\t\t\t// compute picker position\n\t\t\t\tif (!thisObj.smartPosition) {\n\t\t\t\t\tvar pp = [tp[a], tp[b] + ts[b] - l + l * c];\n\t\t\t\t} else {\n\t\t\t\t\tvar pp = [-vp[a] + tp[a] + ps[a] > vs[a] ? -vp[a] + tp[a] + ts[a] / 2 > vs[a] / 2 && tp[a] + ts[a] - ps[a] >= 0 ? tp[a] + ts[a] - ps[a] : tp[a] : tp[a], -vp[b] + tp[b] + ts[b] + ps[b] - l + l * c > vs[b] ? -vp[b] + tp[b] + ts[b] / 2 > vs[b] / 2 && tp[b] + ts[b] - l - l * c >= 0 ? tp[b] + ts[b] - l - l * c : tp[b] + ts[b] - l + l * c : tp[b] + ts[b] - l + l * c >= 0 ? tp[b] + ts[b] - l + l * c : tp[b] + ts[b] - l - l * c];\n\t\t\t\t}\n\n\t\t\t\tvar x = pp[a];\n\t\t\t\tvar y = pp[b];\n\t\t\t\tvar positionValue = thisObj.fixed ? 'fixed' : 'absolute';\n\t\t\t\tvar contractShadow = (pp[0] + ps[0] > tp[0] || pp[0] < tp[0] + ts[0]) && pp[1] + ps[1] < tp[1] + ts[1];\n\n\t\t\t\tjsc._drawPosition(thisObj, x, y, positionValue, contractShadow);\n\t\t\t}\n\t\t},\n\n\t\t_drawPosition: function _drawPosition(thisObj, x, y, positionValue, contractShadow) {\n\t\t\tvar vShadow = contractShadow ? 0 : thisObj.shadowBlur; // px\n\n\t\t\tjsc.picker.wrap.style.position = positionValue;\n\t\t\tjsc.picker.wrap.style.left = x + 'px';\n\t\t\tjsc.picker.wrap.style.top = y + 'px';\n\n\t\t\tjsc.setBoxShadow(jsc.picker.boxS, thisObj.shadow ? new jsc.BoxShadow(0, vShadow, thisObj.shadowBlur, 0, thisObj.shadowColor) : null);\n\t\t},\n\n\t\tgetPickerDims: function getPickerDims(thisObj) {\n\t\t\tvar displaySlider = !!jsc.getSliderComponent(thisObj);\n\t\t\tvar dims = [2 * thisObj.insetWidth + 2 * thisObj.padding + thisObj.width + (displaySlider ? 2 * thisObj.insetWidth + jsc.getPadToSliderPadding(thisObj) + thisObj.sliderSize : 0), 2 * thisObj.insetWidth + 2 * thisObj.padding + thisObj.height + (thisObj.closable ? 2 * thisObj.insetWidth + thisObj.padding + thisObj.buttonHeight : 0)];\n\t\t\treturn dims;\n\t\t},\n\n\t\tgetPickerOuterDims: function getPickerOuterDims(thisObj) {\n\t\t\tvar dims = jsc.getPickerDims(thisObj);\n\t\t\treturn [dims[0] + 2 * thisObj.borderWidth, dims[1] + 2 * thisObj.borderWidth];\n\t\t},\n\n\t\tgetPadToSliderPadding: function getPadToSliderPadding(thisObj) {\n\t\t\treturn Math.max(thisObj.padding, 1.5 * (2 * thisObj.pointerBorderWidth + thisObj.pointerThickness));\n\t\t},\n\n\t\tgetPadYComponent: function getPadYComponent(thisObj) {\n\t\t\tswitch (thisObj.mode.charAt(1).toLowerCase()) {\n\t\t\t\tcase 'v':\n\t\t\t\t\treturn 'v';break;\n\t\t\t}\n\t\t\treturn 's';\n\t\t},\n\n\t\tgetSliderComponent: function getSliderComponent(thisObj) {\n\t\t\tif (thisObj.mode.length > 2) {\n\t\t\t\tswitch (thisObj.mode.charAt(2).toLowerCase()) {\n\t\t\t\t\tcase 's':\n\t\t\t\t\t\treturn 's';break;\n\t\t\t\t\tcase 'v':\n\t\t\t\t\t\treturn 'v';break;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\n\t\tonDocumentMouseDown: function onDocumentMouseDown(e) {\n\t\t\tif (!e) {\n\t\t\t\te = window.event;\n\t\t\t}\n\t\t\tvar target = e.target || e.srcElement;\n\n\t\t\tif (target._jscLinkedInstance) {\n\t\t\t\tif (target._jscLinkedInstance.showOnClick) {\n\t\t\t\t\ttarget._jscLinkedInstance.show();\n\t\t\t\t}\n\t\t\t} else if (target._jscControlName) {\n\t\t\t\tjsc.onControlPointerStart(e, target, target._jscControlName, 'mouse');\n\t\t\t} else {\n\t\t\t\t// Mouse is outside the picker controls -> hide the color picker!\n\t\t\t\tif (jsc.picker && jsc.picker.owner) {\n\t\t\t\t\tjsc.picker.owner.hide();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tonDocumentTouchStart: function onDocumentTouchStart(e) {\n\t\t\tif (!e) {\n\t\t\t\te = window.event;\n\t\t\t}\n\t\t\tvar target = e.target || e.srcElement;\n\n\t\t\tif (target._jscLinkedInstance) {\n\t\t\t\tif (target._jscLinkedInstance.showOnClick) {\n\t\t\t\t\ttarget._jscLinkedInstance.show();\n\t\t\t\t}\n\t\t\t} else if (target._jscControlName) {\n\t\t\t\tjsc.onControlPointerStart(e, target, target._jscControlName, 'touch');\n\t\t\t} else {\n\t\t\t\tif (jsc.picker && jsc.picker.owner) {\n\t\t\t\t\tjsc.picker.owner.hide();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tonWindowResize: function onWindowResize(e) {\n\t\t\tjsc.redrawPosition();\n\t\t},\n\n\t\tonParentScroll: function onParentScroll(e) {\n\t\t\t// hide the picker when one of the parent elements is scrolled\n\t\t\tif (jsc.picker && jsc.picker.owner) {\n\t\t\t\tjsc.picker.owner.hide();\n\t\t\t}\n\t\t},\n\n\t\t_pointerMoveEvent: {\n\t\t\tmouse: 'mousemove',\n\t\t\ttouch: 'touchmove'\n\t\t},\n\t\t_pointerEndEvent: {\n\t\t\tmouse: 'mouseup',\n\t\t\ttouch: 'touchend'\n\t\t},\n\n\t\t_pointerOrigin: null,\n\t\t_capturedTarget: null,\n\n\t\tonControlPointerStart: function onControlPointerStart(e, target, controlName, pointerType) {\n\t\t\tvar thisObj = target._jscInstance;\n\n\t\t\tjsc.preventDefault(e);\n\t\t\tjsc.captureTarget(target);\n\n\t\t\tvar registerDragEvents = function registerDragEvents(doc, offset) {\n\t\t\t\tjsc.attachGroupEvent('drag', doc, jsc._pointerMoveEvent[pointerType], jsc.onDocumentPointerMove(e, target, controlName, pointerType, offset));\n\t\t\t\tjsc.attachGroupEvent('drag', doc, jsc._pointerEndEvent[pointerType], jsc.onDocumentPointerEnd(e, target, controlName, pointerType));\n\t\t\t};\n\n\t\t\tregisterDragEvents(document, [0, 0]);\n\n\t\t\tif (window.parent && window.frameElement) {\n\t\t\t\tvar rect = window.frameElement.getBoundingClientRect();\n\t\t\t\tvar ofs = [-rect.left, -rect.top];\n\t\t\t\tregisterDragEvents(window.parent.window.document, ofs);\n\t\t\t}\n\n\t\t\tvar abs = jsc.getAbsPointerPos(e);\n\t\t\tvar rel = jsc.getRelPointerPos(e);\n\t\t\tjsc._pointerOrigin = {\n\t\t\t\tx: abs.x - rel.x,\n\t\t\t\ty: abs.y - rel.y\n\t\t\t};\n\n\t\t\tswitch (controlName) {\n\t\t\t\tcase 'pad':\n\t\t\t\t\t// if the slider is at the bottom, move it up\n\t\t\t\t\tswitch (jsc.getSliderComponent(thisObj)) {\n\t\t\t\t\t\tcase 's':\n\t\t\t\t\t\t\tif (thisObj.hsv[1] === 0) {\n\t\t\t\t\t\t\t\tthisObj.fromHSV(null, 100, null);\n\t\t\t\t\t\t\t}break;\n\t\t\t\t\t\tcase 'v':\n\t\t\t\t\t\t\tif (thisObj.hsv[2] === 0) {\n\t\t\t\t\t\t\t\tthisObj.fromHSV(null, null, 100);\n\t\t\t\t\t\t\t}break;\n\t\t\t\t\t}\n\t\t\t\t\tjsc.setPad(thisObj, e, 0, 0);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'sld':\n\t\t\t\t\tjsc.setSld(thisObj, e, 0);\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tjsc.dispatchFineChange(thisObj);\n\t\t},\n\n\t\tonDocumentPointerMove: function onDocumentPointerMove(e, target, controlName, pointerType, offset) {\n\t\t\treturn function (e) {\n\t\t\t\tvar thisObj = target._jscInstance;\n\t\t\t\tswitch (controlName) {\n\t\t\t\t\tcase 'pad':\n\t\t\t\t\t\tif (!e) {\n\t\t\t\t\t\t\te = window.event;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tjsc.setPad(thisObj, e, offset[0], offset[1]);\n\t\t\t\t\t\tjsc.dispatchFineChange(thisObj);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'sld':\n\t\t\t\t\t\tif (!e) {\n\t\t\t\t\t\t\te = window.event;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tjsc.setSld(thisObj, e, offset[1]);\n\t\t\t\t\t\tjsc.dispatchFineChange(thisObj);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\n\t\tonDocumentPointerEnd: function onDocumentPointerEnd(e, target, controlName, pointerType) {\n\t\t\treturn function (e) {\n\t\t\t\tvar thisObj = target._jscInstance;\n\t\t\t\tjsc.detachGroupEvents('drag');\n\t\t\t\tjsc.releaseTarget();\n\t\t\t\t// Always dispatch changes after detaching outstanding mouse handlers,\n\t\t\t\t// in case some user interaction will occur in user's onchange callback\n\t\t\t\t// that would intrude with current mouse events\n\t\t\t\tjsc.dispatchChange(thisObj);\n\t\t\t};\n\t\t},\n\n\t\tdispatchChange: function dispatchChange(thisObj) {\n\t\t\tif (thisObj.valueElement) {\n\t\t\t\tif (jsc.isElementType(thisObj.valueElement, 'input')) {\n\t\t\t\t\tjsc.fireEvent(thisObj.valueElement, 'change');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tdispatchFineChange: function dispatchFineChange(thisObj) {\n\t\t\tif (thisObj.onFineChange) {\n\t\t\t\tvar callback;\n\t\t\t\tif (typeof thisObj.onFineChange === 'string') {\n\t\t\t\t\tcallback = new Function(thisObj.onFineChange);\n\t\t\t\t} else {\n\t\t\t\t\tcallback = thisObj.onFineChange;\n\t\t\t\t}\n\t\t\t\tcallback.call(thisObj);\n\t\t\t}\n\t\t},\n\n\t\tsetPad: function setPad(thisObj, e, ofsX, ofsY) {\n\t\t\tvar pointerAbs = jsc.getAbsPointerPos(e);\n\t\t\tvar x = ofsX + pointerAbs.x - jsc._pointerOrigin.x - thisObj.padding - thisObj.insetWidth;\n\t\t\tvar y = ofsY + pointerAbs.y - jsc._pointerOrigin.y - thisObj.padding - thisObj.insetWidth;\n\n\t\t\tvar xVal = x * (360 / (thisObj.width - 1));\n\t\t\tvar yVal = 100 - y * (100 / (thisObj.height - 1));\n\n\t\t\tswitch (jsc.getPadYComponent(thisObj)) {\n\t\t\t\tcase 's':\n\t\t\t\t\tthisObj.fromHSV(xVal, yVal, null, jsc.leaveSld);break;\n\t\t\t\tcase 'v':\n\t\t\t\t\tthisObj.fromHSV(xVal, null, yVal, jsc.leaveSld);break;\n\t\t\t}\n\t\t},\n\n\t\tsetSld: function setSld(thisObj, e, ofsY) {\n\t\t\tvar pointerAbs = jsc.getAbsPointerPos(e);\n\t\t\tvar y = ofsY + pointerAbs.y - jsc._pointerOrigin.y - thisObj.padding - thisObj.insetWidth;\n\n\t\t\tvar yVal = 100 - y * (100 / (thisObj.height - 1));\n\n\t\t\tswitch (jsc.getSliderComponent(thisObj)) {\n\t\t\t\tcase 's':\n\t\t\t\t\tthisObj.fromHSV(null, yVal, null, jsc.leavePad);break;\n\t\t\t\tcase 'v':\n\t\t\t\t\tthisObj.fromHSV(null, null, yVal, jsc.leavePad);break;\n\t\t\t}\n\t\t},\n\n\t\t_vmlNS: 'jsc_vml_',\n\t\t_vmlCSS: 'jsc_vml_css_',\n\t\t_vmlReady: false,\n\n\t\tinitVML: function initVML() {\n\t\t\tif (!jsc._vmlReady) {\n\t\t\t\t// init VML namespace\n\t\t\t\tvar doc = document;\n\t\t\t\tif (!doc.namespaces[jsc._vmlNS]) {\n\t\t\t\t\tdoc.namespaces.add(jsc._vmlNS, 'urn:schemas-microsoft-com:vml');\n\t\t\t\t}\n\t\t\t\tif (!doc.styleSheets[jsc._vmlCSS]) {\n\t\t\t\t\tvar tags = ['shape', 'shapetype', 'group', 'background', 'path', 'formulas', 'handles', 'fill', 'stroke', 'shadow', 'textbox', 'textpath', 'imagedata', 'line', 'polyline', 'curve', 'rect', 'roundrect', 'oval', 'arc', 'image'];\n\t\t\t\t\tvar ss = doc.createStyleSheet();\n\t\t\t\t\tss.owningElement.id = jsc._vmlCSS;\n\t\t\t\t\tfor (var i = 0; i < tags.length; i += 1) {\n\t\t\t\t\t\tss.addRule(jsc._vmlNS + '\\\\:' + tags[i], 'behavior:url(#default#VML);');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tjsc._vmlReady = true;\n\t\t\t}\n\t\t},\n\n\t\tcreatePalette: function createPalette() {\n\n\t\t\tvar paletteObj = {\n\t\t\t\telm: null,\n\t\t\t\tdraw: null\n\t\t\t};\n\n\t\t\tif (jsc.isCanvasSupported) {\n\t\t\t\t// Canvas implementation for modern browsers\n\n\t\t\t\tvar canvas = document.createElement('canvas');\n\t\t\t\tvar ctx = canvas.getContext('2d');\n\n\t\t\t\tvar drawFunc = function drawFunc(width, height, type) {\n\t\t\t\t\tcanvas.width = width;\n\t\t\t\t\tcanvas.height = height;\n\n\t\t\t\t\tctx.clearRect(0, 0, canvas.width, canvas.height);\n\n\t\t\t\t\tvar hGrad = ctx.createLinearGradient(0, 0, canvas.width, 0);\n\t\t\t\t\thGrad.addColorStop(0 / 6, '#F00');\n\t\t\t\t\thGrad.addColorStop(1 / 6, '#FF0');\n\t\t\t\t\thGrad.addColorStop(2 / 6, '#0F0');\n\t\t\t\t\thGrad.addColorStop(3 / 6, '#0FF');\n\t\t\t\t\thGrad.addColorStop(4 / 6, '#00F');\n\t\t\t\t\thGrad.addColorStop(5 / 6, '#F0F');\n\t\t\t\t\thGrad.addColorStop(6 / 6, '#F00');\n\n\t\t\t\t\tctx.fillStyle = hGrad;\n\t\t\t\t\tctx.fillRect(0, 0, canvas.width, canvas.height);\n\n\t\t\t\t\tvar vGrad = ctx.createLinearGradient(0, 0, 0, canvas.height);\n\t\t\t\t\tswitch (type.toLowerCase()) {\n\t\t\t\t\t\tcase 's':\n\t\t\t\t\t\t\tvGrad.addColorStop(0, 'rgba(255,255,255,0)');\n\t\t\t\t\t\t\tvGrad.addColorStop(1, 'rgba(255,255,255,1)');\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'v':\n\t\t\t\t\t\t\tvGrad.addColorStop(0, 'rgba(0,0,0,0)');\n\t\t\t\t\t\t\tvGrad.addColorStop(1, 'rgba(0,0,0,1)');\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tctx.fillStyle = vGrad;\n\t\t\t\t\tctx.fillRect(0, 0, canvas.width, canvas.height);\n\t\t\t\t};\n\n\t\t\t\tpaletteObj.elm = canvas;\n\t\t\t\tpaletteObj.draw = drawFunc;\n\t\t\t} else {\n\t\t\t\t// VML fallback for IE 7 and 8\n\n\t\t\t\tjsc.initVML();\n\n\t\t\t\tvar vmlContainer = document.createElement('div');\n\t\t\t\tvmlContainer.style.position = 'relative';\n\t\t\t\tvmlContainer.style.overflow = 'hidden';\n\n\t\t\t\tvar hGrad = document.createElement(jsc._vmlNS + ':fill');\n\t\t\t\thGrad.type = 'gradient';\n\t\t\t\thGrad.method = 'linear';\n\t\t\t\thGrad.angle = '90';\n\t\t\t\thGrad.colors = '16.67% #F0F, 33.33% #00F, 50% #0FF, 66.67% #0F0, 83.33% #FF0';\n\n\t\t\t\tvar hRect = document.createElement(jsc._vmlNS + ':rect');\n\t\t\t\thRect.style.position = 'absolute';\n\t\t\t\thRect.style.left = -1 + 'px';\n\t\t\t\thRect.style.top = -1 + 'px';\n\t\t\t\thRect.stroked = false;\n\t\t\t\thRect.appendChild(hGrad);\n\t\t\t\tvmlContainer.appendChild(hRect);\n\n\t\t\t\tvar vGrad = document.createElement(jsc._vmlNS + ':fill');\n\t\t\t\tvGrad.type = 'gradient';\n\t\t\t\tvGrad.method = 'linear';\n\t\t\t\tvGrad.angle = '180';\n\t\t\t\tvGrad.opacity = '0';\n\n\t\t\t\tvar vRect = document.createElement(jsc._vmlNS + ':rect');\n\t\t\t\tvRect.style.position = 'absolute';\n\t\t\t\tvRect.style.left = -1 + 'px';\n\t\t\t\tvRect.style.top = -1 + 'px';\n\t\t\t\tvRect.stroked = false;\n\t\t\t\tvRect.appendChild(vGrad);\n\t\t\t\tvmlContainer.appendChild(vRect);\n\n\t\t\t\tvar drawFunc = function drawFunc(width, height, type) {\n\t\t\t\t\tvmlContainer.style.width = width + 'px';\n\t\t\t\t\tvmlContainer.style.height = height + 'px';\n\n\t\t\t\t\thRect.style.width = vRect.style.width = width + 1 + 'px';\n\t\t\t\t\thRect.style.height = vRect.style.height = height + 1 + 'px';\n\n\t\t\t\t\t// Colors must be specified during every redraw, otherwise IE won't display\n\t\t\t\t\t// a full gradient during a subsequential redraw\n\t\t\t\t\thGrad.color = '#F00';\n\t\t\t\t\thGrad.color2 = '#F00';\n\n\t\t\t\t\tswitch (type.toLowerCase()) {\n\t\t\t\t\t\tcase 's':\n\t\t\t\t\t\t\tvGrad.color = vGrad.color2 = '#FFF';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'v':\n\t\t\t\t\t\t\tvGrad.color = vGrad.color2 = '#000';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tpaletteObj.elm = vmlContainer;\n\t\t\t\tpaletteObj.draw = drawFunc;\n\t\t\t}\n\n\t\t\treturn paletteObj;\n\t\t},\n\n\t\tcreateSliderGradient: function createSliderGradient() {\n\n\t\t\tvar sliderObj = {\n\t\t\t\telm: null,\n\t\t\t\tdraw: null\n\t\t\t};\n\n\t\t\tif (jsc.isCanvasSupported) {\n\t\t\t\t// Canvas implementation for modern browsers\n\n\t\t\t\tvar canvas = document.createElement('canvas');\n\t\t\t\tvar ctx = canvas.getContext('2d');\n\n\t\t\t\tvar drawFunc = function drawFunc(width, height, color1, color2) {\n\t\t\t\t\tcanvas.width = width;\n\t\t\t\t\tcanvas.height = height;\n\n\t\t\t\t\tctx.clearRect(0, 0, canvas.width, canvas.height);\n\n\t\t\t\t\tvar grad = ctx.createLinearGradient(0, 0, 0, canvas.height);\n\t\t\t\t\tgrad.addColorStop(0, color1);\n\t\t\t\t\tgrad.addColorStop(1, color2);\n\n\t\t\t\t\tctx.fillStyle = grad;\n\t\t\t\t\tctx.fillRect(0, 0, canvas.width, canvas.height);\n\t\t\t\t};\n\n\t\t\t\tsliderObj.elm = canvas;\n\t\t\t\tsliderObj.draw = drawFunc;\n\t\t\t} else {\n\t\t\t\t// VML fallback for IE 7 and 8\n\n\t\t\t\tjsc.initVML();\n\n\t\t\t\tvar vmlContainer = document.createElement('div');\n\t\t\t\tvmlContainer.style.position = 'relative';\n\t\t\t\tvmlContainer.style.overflow = 'hidden';\n\n\t\t\t\tvar grad = document.createElement(jsc._vmlNS + ':fill');\n\t\t\t\tgrad.type = 'gradient';\n\t\t\t\tgrad.method = 'linear';\n\t\t\t\tgrad.angle = '180';\n\n\t\t\t\tvar rect = document.createElement(jsc._vmlNS + ':rect');\n\t\t\t\trect.style.position = 'absolute';\n\t\t\t\trect.style.left = -1 + 'px';\n\t\t\t\trect.style.top = -1 + 'px';\n\t\t\t\trect.stroked = false;\n\t\t\t\trect.appendChild(grad);\n\t\t\t\tvmlContainer.appendChild(rect);\n\n\t\t\t\tvar drawFunc = function drawFunc(width, height, color1, color2) {\n\t\t\t\t\tvmlContainer.style.width = width + 'px';\n\t\t\t\t\tvmlContainer.style.height = height + 'px';\n\n\t\t\t\t\trect.style.width = width + 1 + 'px';\n\t\t\t\t\trect.style.height = height + 1 + 'px';\n\n\t\t\t\t\tgrad.color = color1;\n\t\t\t\t\tgrad.color2 = color2;\n\t\t\t\t};\n\n\t\t\t\tsliderObj.elm = vmlContainer;\n\t\t\t\tsliderObj.draw = drawFunc;\n\t\t\t}\n\n\t\t\treturn sliderObj;\n\t\t},\n\n\t\tleaveValue: 1 << 0,\n\t\tleaveStyle: 1 << 1,\n\t\tleavePad: 1 << 2,\n\t\tleaveSld: 1 << 3,\n\n\t\tBoxShadow: function () {\n\t\t\tvar BoxShadow = function BoxShadow(hShadow, vShadow, blur, spread, color, inset) {\n\t\t\t\tthis.hShadow = hShadow;\n\t\t\t\tthis.vShadow = vShadow;\n\t\t\t\tthis.blur = blur;\n\t\t\t\tthis.spread = spread;\n\t\t\t\tthis.color = color;\n\t\t\t\tthis.inset = !!inset;\n\t\t\t};\n\n\t\t\tBoxShadow.prototype.toString = function () {\n\t\t\t\tvar vals = [Math.round(this.hShadow) + 'px', Math.round(this.vShadow) + 'px', Math.round(this.blur) + 'px', Math.round(this.spread) + 'px', this.color];\n\t\t\t\tif (this.inset) {\n\t\t\t\t\tvals.push('inset');\n\t\t\t\t}\n\t\t\t\treturn vals.join(' ');\n\t\t\t};\n\n\t\t\treturn BoxShadow;\n\t\t}(),\n\n\t\t//\n\t\t// Usage:\n\t\t// var myColor = new jscolor(<targetElement> [, <options>])\n\t\t//\n\n\t\tjscolor: function jscolor(targetElement, options) {\n\n\t\t\t// General options\n\t\t\t//\n\t\t\tthis.value = null; // initial HEX color. To change it later, use methods fromString(), fromHSV() and fromRGB()\n\t\t\tthis.valueElement = targetElement; // element that will be used to display and input the color code\n\t\t\tthis.styleElement = targetElement; // element that will preview the picked color using CSS backgroundColor\n\t\t\tthis.required = true; // whether the associated text <input> can be left empty\n\t\t\tthis.refine = true; // whether to refine the entered color code (e.g. uppercase it and remove whitespace)\n\t\t\tthis.hash = false; // whether to prefix the HEX color code with # symbol\n\t\t\tthis.uppercase = true; // whether to show the color code in upper case\n\t\t\tthis.onFineChange = null; // called instantly every time the color changes (value can be either a function or a string with javascript code)\n\t\t\tthis.activeClass = 'jscolor-active'; // class to be set to the target element when a picker window is open on it\n\t\t\tthis.overwriteImportant = false; // whether to overwrite colors of styleElement using !important\n\t\t\tthis.minS = 0; // min allowed saturation (0 - 100)\n\t\t\tthis.maxS = 100; // max allowed saturation (0 - 100)\n\t\t\tthis.minV = 0; // min allowed value (brightness) (0 - 100)\n\t\t\tthis.maxV = 100; // max allowed value (brightness) (0 - 100)\n\n\t\t\t// Accessing the picked color\n\t\t\t//\n\t\t\tthis.hsv = [0, 0, 100]; // read-only  [0-360, 0-100, 0-100]\n\t\t\tthis.rgb = [255, 255, 255]; // read-only  [0-255, 0-255, 0-255]\n\n\t\t\t// Color Picker options\n\t\t\t//\n\t\t\tthis.width = 181; // width of color palette (in px)\n\t\t\tthis.height = 101; // height of color palette (in px)\n\t\t\tthis.showOnClick = true; // whether to display the color picker when user clicks on its target element\n\t\t\tthis.mode = 'HSV'; // HSV | HVS | HS | HV - layout of the color picker controls\n\t\t\tthis.position = 'bottom'; // left | right | top | bottom - position relative to the target element\n\t\t\tthis.smartPosition = true; // automatically change picker position when there is not enough space for it\n\t\t\tthis.sliderSize = 16; // px\n\t\t\tthis.crossSize = 8; // px\n\t\t\tthis.closable = false; // whether to display the Close button\n\t\t\tthis.closeText = 'Close';\n\t\t\tthis.buttonColor = '#000000'; // CSS color\n\t\t\tthis.buttonHeight = 18; // px\n\t\t\tthis.padding = 12; // px\n\t\t\tthis.backgroundColor = '#1A1A1A'; // CSS color\n\t\t\tthis.borderWidth = 1; // px\n\t\t\tthis.borderColor = '#444444'; // CSS color\n\t\t\tthis.borderRadius = 8; // px\n\t\t\tthis.insetWidth = 1; // px\n\t\t\tthis.insetColor = '#BBBBBB'; // CSS color\n\t\t\tthis.shadow = true; // whether to display shadow\n\t\t\tthis.shadowBlur = 15; // px\n\t\t\tthis.shadowColor = 'rgba(0,0,0,0.2)'; // CSS color\n\t\t\tthis.pointerColor = '#4C4C4C'; // px\n\t\t\tthis.pointerBorderColor = '#FFFFFF'; // px\n\t\t\tthis.pointerBorderWidth = 1; // px\n\t\t\tthis.pointerThickness = 2; // px\n\t\t\tthis.zIndex = 1000;\n\t\t\tthis.container = null; // where to append the color picker (BODY element by default)\n\n\n\t\t\tfor (var opt in options) {\n\t\t\t\tif (options.hasOwnProperty(opt)) {\n\t\t\t\t\tthis[opt] = options[opt];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.hide = function () {\n\t\t\t\tif (isPickerOwner()) {\n\t\t\t\t\tdetachPicker();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.show = function () {\n\t\t\t\tdrawPicker();\n\t\t\t};\n\n\t\t\tthis.redraw = function () {\n\t\t\t\tif (isPickerOwner()) {\n\t\t\t\t\tdrawPicker();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.importColor = function () {\n\t\t\t\tif (!this.valueElement) {\n\t\t\t\t\tthis.exportColor();\n\t\t\t\t} else {\n\t\t\t\t\tif (jsc.isElementType(this.valueElement, 'input')) {\n\t\t\t\t\t\tif (!this.refine) {\n\t\t\t\t\t\t\tif (!this.fromString(this.valueElement.value, jsc.leaveValue)) {\n\t\t\t\t\t\t\t\tif (this.styleElement) {\n\t\t\t\t\t\t\t\t\tthis.styleElement.style.backgroundImage = this.styleElement._jscOrigStyle.backgroundImage;\n\t\t\t\t\t\t\t\t\tthis.styleElement.style.backgroundColor = this.styleElement._jscOrigStyle.backgroundColor;\n\t\t\t\t\t\t\t\t\tthis.styleElement.style.color = this.styleElement._jscOrigStyle.color;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.exportColor(jsc.leaveValue | jsc.leaveStyle);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (!this.required && /^\\s*$/.test(this.valueElement.value)) {\n\t\t\t\t\t\t\tthis.valueElement.value = '';\n\t\t\t\t\t\t\tif (this.styleElement) {\n\t\t\t\t\t\t\t\tthis.styleElement.style.backgroundImage = this.styleElement._jscOrigStyle.backgroundImage;\n\t\t\t\t\t\t\t\tthis.styleElement.style.backgroundColor = this.styleElement._jscOrigStyle.backgroundColor;\n\t\t\t\t\t\t\t\tthis.styleElement.style.color = this.styleElement._jscOrigStyle.color;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.exportColor(jsc.leaveValue | jsc.leaveStyle);\n\t\t\t\t\t\t} else if (this.fromString(this.valueElement.value)) {\n\t\t\t\t\t\t\t// managed to import color successfully from the value -> OK, don't do anything\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.exportColor();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// not an input element -> doesn't have any value\n\t\t\t\t\t\tthis.exportColor();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.exportColor = function (flags) {\n\t\t\t\tif (!(flags & jsc.leaveValue) && this.valueElement) {\n\t\t\t\t\tvar value = this.toString();\n\t\t\t\t\tif (this.uppercase) {\n\t\t\t\t\t\tvalue = value.toUpperCase();\n\t\t\t\t\t}\n\t\t\t\t\tif (this.hash) {\n\t\t\t\t\t\tvalue = '#' + value;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (jsc.isElementType(this.valueElement, 'input')) {\n\t\t\t\t\t\tthis.valueElement.value = value;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.valueElement.innerHTML = value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!(flags & jsc.leaveStyle)) {\n\t\t\t\t\tif (this.styleElement) {\n\t\t\t\t\t\tvar bgColor = '#' + this.toString();\n\t\t\t\t\t\tvar fgColor = this.isLight() ? '#000' : '#FFF';\n\n\t\t\t\t\t\tthis.styleElement.style.backgroundImage = 'none';\n\t\t\t\t\t\tthis.styleElement.style.backgroundColor = bgColor;\n\t\t\t\t\t\tthis.styleElement.style.color = fgColor;\n\n\t\t\t\t\t\tif (this.overwriteImportant) {\n\t\t\t\t\t\t\tthis.styleElement.setAttribute('style', 'background: ' + bgColor + ' !important; ' + 'color: ' + fgColor + ' !important;');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!(flags & jsc.leavePad) && isPickerOwner()) {\n\t\t\t\t\tredrawPad();\n\t\t\t\t}\n\t\t\t\tif (!(flags & jsc.leaveSld) && isPickerOwner()) {\n\t\t\t\t\tredrawSld();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// h: 0-360\n\t\t\t// s: 0-100\n\t\t\t// v: 0-100\n\t\t\t//\n\t\t\tthis.fromHSV = function (h, s, v, flags) {\n\t\t\t\t// null = don't change\n\t\t\t\tif (h !== null) {\n\t\t\t\t\tif (isNaN(h)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\th = Math.max(0, Math.min(360, h));\n\t\t\t\t}\n\t\t\t\tif (s !== null) {\n\t\t\t\t\tif (isNaN(s)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\ts = Math.max(0, Math.min(100, this.maxS, s), this.minS);\n\t\t\t\t}\n\t\t\t\tif (v !== null) {\n\t\t\t\t\tif (isNaN(v)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tv = Math.max(0, Math.min(100, this.maxV, v), this.minV);\n\t\t\t\t}\n\n\t\t\t\tthis.rgb = HSV_RGB(h === null ? this.hsv[0] : this.hsv[0] = h, s === null ? this.hsv[1] : this.hsv[1] = s, v === null ? this.hsv[2] : this.hsv[2] = v);\n\n\t\t\t\tthis.exportColor(flags);\n\t\t\t};\n\n\t\t\t// r: 0-255\n\t\t\t// g: 0-255\n\t\t\t// b: 0-255\n\t\t\t//\n\t\t\tthis.fromRGB = function (r, g, b, flags) {\n\t\t\t\t// null = don't change\n\t\t\t\tif (r !== null) {\n\t\t\t\t\tif (isNaN(r)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tr = Math.max(0, Math.min(255, r));\n\t\t\t\t}\n\t\t\t\tif (g !== null) {\n\t\t\t\t\tif (isNaN(g)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tg = Math.max(0, Math.min(255, g));\n\t\t\t\t}\n\t\t\t\tif (b !== null) {\n\t\t\t\t\tif (isNaN(b)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tb = Math.max(0, Math.min(255, b));\n\t\t\t\t}\n\n\t\t\t\tvar hsv = RGB_HSV(r === null ? this.rgb[0] : r, g === null ? this.rgb[1] : g, b === null ? this.rgb[2] : b);\n\t\t\t\tif (hsv[0] !== null) {\n\t\t\t\t\tthis.hsv[0] = Math.max(0, Math.min(360, hsv[0]));\n\t\t\t\t}\n\t\t\t\tif (hsv[2] !== 0) {\n\t\t\t\t\tthis.hsv[1] = hsv[1] === null ? null : Math.max(0, this.minS, Math.min(100, this.maxS, hsv[1]));\n\t\t\t\t}\n\t\t\t\tthis.hsv[2] = hsv[2] === null ? null : Math.max(0, this.minV, Math.min(100, this.maxV, hsv[2]));\n\n\t\t\t\t// update RGB according to final HSV, as some values might be trimmed\n\t\t\t\tvar rgb = HSV_RGB(this.hsv[0], this.hsv[1], this.hsv[2]);\n\t\t\t\tthis.rgb[0] = rgb[0];\n\t\t\t\tthis.rgb[1] = rgb[1];\n\t\t\t\tthis.rgb[2] = rgb[2];\n\n\t\t\t\tthis.exportColor(flags);\n\t\t\t};\n\n\t\t\tthis.fromString = function (str, flags) {\n\t\t\t\tvar m;\n\t\t\t\tif (m = str.match(/^\\W*([0-9A-F]{3}([0-9A-F]{3})?)\\W*$/i)) {\n\t\t\t\t\t// HEX notation\n\t\t\t\t\t//\n\n\t\t\t\t\tif (m[1].length === 6) {\n\t\t\t\t\t\t// 6-char notation\n\t\t\t\t\t\tthis.fromRGB(parseInt(m[1].substr(0, 2), 16), parseInt(m[1].substr(2, 2), 16), parseInt(m[1].substr(4, 2), 16), flags);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// 3-char notation\n\t\t\t\t\t\tthis.fromRGB(parseInt(m[1].charAt(0) + m[1].charAt(0), 16), parseInt(m[1].charAt(1) + m[1].charAt(1), 16), parseInt(m[1].charAt(2) + m[1].charAt(2), 16), flags);\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t} else if (m = str.match(/^\\W*rgba?\\(([^)]*)\\)\\W*$/i)) {\n\t\t\t\t\tvar params = m[1].split(',');\n\t\t\t\t\tvar re = /^\\s*(\\d*)(\\.\\d+)?\\s*$/;\n\t\t\t\t\tvar mR, mG, mB;\n\t\t\t\t\tif (params.length >= 3 && (mR = params[0].match(re)) && (mG = params[1].match(re)) && (mB = params[2].match(re))) {\n\t\t\t\t\t\tvar r = parseFloat((mR[1] || '0') + (mR[2] || ''));\n\t\t\t\t\t\tvar g = parseFloat((mG[1] || '0') + (mG[2] || ''));\n\t\t\t\t\t\tvar b = parseFloat((mB[1] || '0') + (mB[2] || ''));\n\t\t\t\t\t\tthis.fromRGB(r, g, b, flags);\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t};\n\n\t\t\tthis.toString = function () {\n\t\t\t\treturn (0x100 | Math.round(this.rgb[0])).toString(16).substr(1) + (0x100 | Math.round(this.rgb[1])).toString(16).substr(1) + (0x100 | Math.round(this.rgb[2])).toString(16).substr(1);\n\t\t\t};\n\n\t\t\tthis.toHEXString = function () {\n\t\t\t\treturn '#' + this.toString().toUpperCase();\n\t\t\t};\n\n\t\t\tthis.toRGBString = function () {\n\t\t\t\treturn 'rgb(' + Math.round(this.rgb[0]) + ',' + Math.round(this.rgb[1]) + ',' + Math.round(this.rgb[2]) + ')';\n\t\t\t};\n\n\t\t\tthis.isLight = function () {\n\t\t\t\treturn 0.213 * this.rgb[0] + 0.715 * this.rgb[1] + 0.072 * this.rgb[2] > 255 / 2;\n\t\t\t};\n\n\t\t\tthis._processParentElementsInDOM = function () {\n\t\t\t\tif (this._linkedElementsProcessed) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis._linkedElementsProcessed = true;\n\n\t\t\t\tvar elm = this.targetElement;\n\t\t\t\tdo {\n\t\t\t\t\t// If the target element or one of its parent nodes has fixed position,\n\t\t\t\t\t// then use fixed positioning instead\n\t\t\t\t\t//\n\t\t\t\t\t// Note: In Firefox, getComputedStyle returns null in a hidden iframe,\n\t\t\t\t\t// that's why we need to check if the returned style object is non-empty\n\t\t\t\t\tvar currStyle = jsc.getStyle(elm);\n\t\t\t\t\tif (currStyle && currStyle.position.toLowerCase() === 'fixed') {\n\t\t\t\t\t\tthis.fixed = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (elm !== this.targetElement) {\n\t\t\t\t\t\t// Ensure to attach onParentScroll only once to each parent element\n\t\t\t\t\t\t// (multiple targetElements can share the same parent nodes)\n\t\t\t\t\t\t//\n\t\t\t\t\t\t// Note: It's not just offsetParents that can be scrollable,\n\t\t\t\t\t\t// that's why we loop through all parent nodes\n\t\t\t\t\t\tif (!elm._jscEventsAttached) {\n\t\t\t\t\t\t\tjsc.attachEvent(elm, 'scroll', jsc.onParentScroll);\n\t\t\t\t\t\t\telm._jscEventsAttached = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} while ((elm = elm.parentNode) && !jsc.isElementType(elm, 'body'));\n\t\t\t};\n\n\t\t\t// r: 0-255\n\t\t\t// g: 0-255\n\t\t\t// b: 0-255\n\t\t\t//\n\t\t\t// returns: [ 0-360, 0-100, 0-100 ]\n\t\t\t//\n\t\t\tfunction RGB_HSV(r, g, b) {\n\t\t\t\tr /= 255;\n\t\t\t\tg /= 255;\n\t\t\t\tb /= 255;\n\t\t\t\tvar n = Math.min(Math.min(r, g), b);\n\t\t\t\tvar v = Math.max(Math.max(r, g), b);\n\t\t\t\tvar m = v - n;\n\t\t\t\tif (m === 0) {\n\t\t\t\t\treturn [null, 0, 100 * v];\n\t\t\t\t}\n\t\t\t\tvar h = r === n ? 3 + (b - g) / m : g === n ? 5 + (r - b) / m : 1 + (g - r) / m;\n\t\t\t\treturn [60 * (h === 6 ? 0 : h), 100 * (m / v), 100 * v];\n\t\t\t}\n\n\t\t\t// h: 0-360\n\t\t\t// s: 0-100\n\t\t\t// v: 0-100\n\t\t\t//\n\t\t\t// returns: [ 0-255, 0-255, 0-255 ]\n\t\t\t//\n\t\t\tfunction HSV_RGB(h, s, v) {\n\t\t\t\tvar u = 255 * (v / 100);\n\n\t\t\t\tif (h === null) {\n\t\t\t\t\treturn [u, u, u];\n\t\t\t\t}\n\n\t\t\t\th /= 60;\n\t\t\t\ts /= 100;\n\n\t\t\t\tvar i = Math.floor(h);\n\t\t\t\tvar f = i % 2 ? h - i : 1 - (h - i);\n\t\t\t\tvar m = u * (1 - s);\n\t\t\t\tvar n = u * (1 - s * f);\n\t\t\t\tswitch (i) {\n\t\t\t\t\tcase 6:\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\treturn [u, n, m];\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\treturn [n, u, m];\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\treturn [m, u, n];\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\treturn [m, n, u];\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\treturn [n, m, u];\n\t\t\t\t\tcase 5:\n\t\t\t\t\t\treturn [u, m, n];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction detachPicker() {\n\t\t\t\tjsc.unsetClass(THIS.targetElement, THIS.activeClass);\n\t\t\t\tjsc.picker.wrap.parentNode.removeChild(jsc.picker.wrap);\n\t\t\t\tdelete jsc.picker.owner;\n\t\t\t}\n\n\t\t\tfunction drawPicker() {\n\n\t\t\t\t// At this point, when drawing the picker, we know what the parent elements are\n\t\t\t\t// and we can do all related DOM operations, such as registering events on them\n\t\t\t\t// or checking their positioning\n\t\t\t\tTHIS._processParentElementsInDOM();\n\n\t\t\t\tif (!jsc.picker) {\n\t\t\t\t\tjsc.picker = {\n\t\t\t\t\t\towner: null,\n\t\t\t\t\t\twrap: document.createElement('div'),\n\t\t\t\t\t\tbox: document.createElement('div'),\n\t\t\t\t\t\tboxS: document.createElement('div'), // shadow area\n\t\t\t\t\t\tboxB: document.createElement('div'), // border\n\t\t\t\t\t\tpad: document.createElement('div'),\n\t\t\t\t\t\tpadB: document.createElement('div'), // border\n\t\t\t\t\t\tpadM: document.createElement('div'), // mouse/touch area\n\t\t\t\t\t\tpadPal: jsc.createPalette(),\n\t\t\t\t\t\tcross: document.createElement('div'),\n\t\t\t\t\t\tcrossBY: document.createElement('div'), // border Y\n\t\t\t\t\t\tcrossBX: document.createElement('div'), // border X\n\t\t\t\t\t\tcrossLY: document.createElement('div'), // line Y\n\t\t\t\t\t\tcrossLX: document.createElement('div'), // line X\n\t\t\t\t\t\tsld: document.createElement('div'),\n\t\t\t\t\t\tsldB: document.createElement('div'), // border\n\t\t\t\t\t\tsldM: document.createElement('div'), // mouse/touch area\n\t\t\t\t\t\tsldGrad: jsc.createSliderGradient(),\n\t\t\t\t\t\tsldPtrS: document.createElement('div'), // slider pointer spacer\n\t\t\t\t\t\tsldPtrIB: document.createElement('div'), // slider pointer inner border\n\t\t\t\t\t\tsldPtrMB: document.createElement('div'), // slider pointer middle border\n\t\t\t\t\t\tsldPtrOB: document.createElement('div'), // slider pointer outer border\n\t\t\t\t\t\tbtn: document.createElement('div'),\n\t\t\t\t\t\tbtnT: document.createElement('span') // text\n\t\t\t\t\t};\n\n\t\t\t\t\tjsc.picker.pad.appendChild(jsc.picker.padPal.elm);\n\t\t\t\t\tjsc.picker.padB.appendChild(jsc.picker.pad);\n\t\t\t\t\tjsc.picker.cross.appendChild(jsc.picker.crossBY);\n\t\t\t\t\tjsc.picker.cross.appendChild(jsc.picker.crossBX);\n\t\t\t\t\tjsc.picker.cross.appendChild(jsc.picker.crossLY);\n\t\t\t\t\tjsc.picker.cross.appendChild(jsc.picker.crossLX);\n\t\t\t\t\tjsc.picker.padB.appendChild(jsc.picker.cross);\n\t\t\t\t\tjsc.picker.box.appendChild(jsc.picker.padB);\n\t\t\t\t\tjsc.picker.box.appendChild(jsc.picker.padM);\n\n\t\t\t\t\tjsc.picker.sld.appendChild(jsc.picker.sldGrad.elm);\n\t\t\t\t\tjsc.picker.sldB.appendChild(jsc.picker.sld);\n\t\t\t\t\tjsc.picker.sldB.appendChild(jsc.picker.sldPtrOB);\n\t\t\t\t\tjsc.picker.sldPtrOB.appendChild(jsc.picker.sldPtrMB);\n\t\t\t\t\tjsc.picker.sldPtrMB.appendChild(jsc.picker.sldPtrIB);\n\t\t\t\t\tjsc.picker.sldPtrIB.appendChild(jsc.picker.sldPtrS);\n\t\t\t\t\tjsc.picker.box.appendChild(jsc.picker.sldB);\n\t\t\t\t\tjsc.picker.box.appendChild(jsc.picker.sldM);\n\n\t\t\t\t\tjsc.picker.btn.appendChild(jsc.picker.btnT);\n\t\t\t\t\tjsc.picker.box.appendChild(jsc.picker.btn);\n\n\t\t\t\t\tjsc.picker.boxB.appendChild(jsc.picker.box);\n\t\t\t\t\tjsc.picker.wrap.appendChild(jsc.picker.boxS);\n\t\t\t\t\tjsc.picker.wrap.appendChild(jsc.picker.boxB);\n\t\t\t\t}\n\n\t\t\t\tvar p = jsc.picker;\n\n\t\t\t\tvar displaySlider = !!jsc.getSliderComponent(THIS);\n\t\t\t\tvar dims = jsc.getPickerDims(THIS);\n\t\t\t\tvar crossOuterSize = 2 * THIS.pointerBorderWidth + THIS.pointerThickness + 2 * THIS.crossSize;\n\t\t\t\tvar padToSliderPadding = jsc.getPadToSliderPadding(THIS);\n\t\t\t\tvar borderRadius = Math.min(THIS.borderRadius, Math.round(THIS.padding * Math.PI)); // px\n\t\t\t\tvar padCursor = 'crosshair';\n\n\t\t\t\t// wrap\n\t\t\t\tp.wrap.style.clear = 'both';\n\t\t\t\tp.wrap.style.width = dims[0] + 2 * THIS.borderWidth + 'px';\n\t\t\t\tp.wrap.style.height = dims[1] + 2 * THIS.borderWidth + 'px';\n\t\t\t\tp.wrap.style.zIndex = THIS.zIndex;\n\n\t\t\t\t// picker\n\t\t\t\tp.box.style.width = dims[0] + 'px';\n\t\t\t\tp.box.style.height = dims[1] + 'px';\n\n\t\t\t\tp.boxS.style.position = 'absolute';\n\t\t\t\tp.boxS.style.left = '0';\n\t\t\t\tp.boxS.style.top = '0';\n\t\t\t\tp.boxS.style.width = '100%';\n\t\t\t\tp.boxS.style.height = '100%';\n\t\t\t\tjsc.setBorderRadius(p.boxS, borderRadius + 'px');\n\n\t\t\t\t// picker border\n\t\t\t\tp.boxB.style.position = 'relative';\n\t\t\t\tp.boxB.style.border = THIS.borderWidth + 'px solid';\n\t\t\t\tp.boxB.style.borderColor = THIS.borderColor;\n\t\t\t\tp.boxB.style.background = THIS.backgroundColor;\n\t\t\t\tjsc.setBorderRadius(p.boxB, borderRadius + 'px');\n\n\t\t\t\t// IE hack:\n\t\t\t\t// If the element is transparent, IE will trigger the event on the elements under it,\n\t\t\t\t// e.g. on Canvas or on elements with border\n\t\t\t\tp.padM.style.background = p.sldM.style.background = '#FFF';\n\t\t\t\tjsc.setStyle(p.padM, 'opacity', '0');\n\t\t\t\tjsc.setStyle(p.sldM, 'opacity', '0');\n\n\t\t\t\t// pad\n\t\t\t\tp.pad.style.position = 'relative';\n\t\t\t\tp.pad.style.width = THIS.width + 'px';\n\t\t\t\tp.pad.style.height = THIS.height + 'px';\n\n\t\t\t\t// pad palettes (HSV and HVS)\n\t\t\t\tp.padPal.draw(THIS.width, THIS.height, jsc.getPadYComponent(THIS));\n\n\t\t\t\t// pad border\n\t\t\t\tp.padB.style.position = 'absolute';\n\t\t\t\tp.padB.style.left = THIS.padding + 'px';\n\t\t\t\tp.padB.style.top = THIS.padding + 'px';\n\t\t\t\tp.padB.style.border = THIS.insetWidth + 'px solid';\n\t\t\t\tp.padB.style.borderColor = THIS.insetColor;\n\n\t\t\t\t// pad mouse area\n\t\t\t\tp.padM._jscInstance = THIS;\n\t\t\t\tp.padM._jscControlName = 'pad';\n\t\t\t\tp.padM.style.position = 'absolute';\n\t\t\t\tp.padM.style.left = '0';\n\t\t\t\tp.padM.style.top = '0';\n\t\t\t\tp.padM.style.width = THIS.padding + 2 * THIS.insetWidth + THIS.width + padToSliderPadding / 2 + 'px';\n\t\t\t\tp.padM.style.height = dims[1] + 'px';\n\t\t\t\tp.padM.style.cursor = padCursor;\n\n\t\t\t\t// pad cross\n\t\t\t\tp.cross.style.position = 'absolute';\n\t\t\t\tp.cross.style.left = p.cross.style.top = '0';\n\t\t\t\tp.cross.style.width = p.cross.style.height = crossOuterSize + 'px';\n\n\t\t\t\t// pad cross border Y and X\n\t\t\t\tp.crossBY.style.position = p.crossBX.style.position = 'absolute';\n\t\t\t\tp.crossBY.style.background = p.crossBX.style.background = THIS.pointerBorderColor;\n\t\t\t\tp.crossBY.style.width = p.crossBX.style.height = 2 * THIS.pointerBorderWidth + THIS.pointerThickness + 'px';\n\t\t\t\tp.crossBY.style.height = p.crossBX.style.width = crossOuterSize + 'px';\n\t\t\t\tp.crossBY.style.left = p.crossBX.style.top = Math.floor(crossOuterSize / 2) - Math.floor(THIS.pointerThickness / 2) - THIS.pointerBorderWidth + 'px';\n\t\t\t\tp.crossBY.style.top = p.crossBX.style.left = '0';\n\n\t\t\t\t// pad cross line Y and X\n\t\t\t\tp.crossLY.style.position = p.crossLX.style.position = 'absolute';\n\t\t\t\tp.crossLY.style.background = p.crossLX.style.background = THIS.pointerColor;\n\t\t\t\tp.crossLY.style.height = p.crossLX.style.width = crossOuterSize - 2 * THIS.pointerBorderWidth + 'px';\n\t\t\t\tp.crossLY.style.width = p.crossLX.style.height = THIS.pointerThickness + 'px';\n\t\t\t\tp.crossLY.style.left = p.crossLX.style.top = Math.floor(crossOuterSize / 2) - Math.floor(THIS.pointerThickness / 2) + 'px';\n\t\t\t\tp.crossLY.style.top = p.crossLX.style.left = THIS.pointerBorderWidth + 'px';\n\n\t\t\t\t// slider\n\t\t\t\tp.sld.style.overflow = 'hidden';\n\t\t\t\tp.sld.style.width = THIS.sliderSize + 'px';\n\t\t\t\tp.sld.style.height = THIS.height + 'px';\n\n\t\t\t\t// slider gradient\n\t\t\t\tp.sldGrad.draw(THIS.sliderSize, THIS.height, '#000', '#000');\n\n\t\t\t\t// slider border\n\t\t\t\tp.sldB.style.display = displaySlider ? 'block' : 'none';\n\t\t\t\tp.sldB.style.position = 'absolute';\n\t\t\t\tp.sldB.style.right = THIS.padding + 'px';\n\t\t\t\tp.sldB.style.top = THIS.padding + 'px';\n\t\t\t\tp.sldB.style.border = THIS.insetWidth + 'px solid';\n\t\t\t\tp.sldB.style.borderColor = THIS.insetColor;\n\n\t\t\t\t// slider mouse area\n\t\t\t\tp.sldM._jscInstance = THIS;\n\t\t\t\tp.sldM._jscControlName = 'sld';\n\t\t\t\tp.sldM.style.display = displaySlider ? 'block' : 'none';\n\t\t\t\tp.sldM.style.position = 'absolute';\n\t\t\t\tp.sldM.style.right = '0';\n\t\t\t\tp.sldM.style.top = '0';\n\t\t\t\tp.sldM.style.width = THIS.sliderSize + padToSliderPadding / 2 + THIS.padding + 2 * THIS.insetWidth + 'px';\n\t\t\t\tp.sldM.style.height = dims[1] + 'px';\n\t\t\t\tp.sldM.style.cursor = 'default';\n\n\t\t\t\t// slider pointer inner and outer border\n\t\t\t\tp.sldPtrIB.style.border = p.sldPtrOB.style.border = THIS.pointerBorderWidth + 'px solid ' + THIS.pointerBorderColor;\n\n\t\t\t\t// slider pointer outer border\n\t\t\t\tp.sldPtrOB.style.position = 'absolute';\n\t\t\t\tp.sldPtrOB.style.left = -(2 * THIS.pointerBorderWidth + THIS.pointerThickness) + 'px';\n\t\t\t\tp.sldPtrOB.style.top = '0';\n\n\t\t\t\t// slider pointer middle border\n\t\t\t\tp.sldPtrMB.style.border = THIS.pointerThickness + 'px solid ' + THIS.pointerColor;\n\n\t\t\t\t// slider pointer spacer\n\t\t\t\tp.sldPtrS.style.width = THIS.sliderSize + 'px';\n\t\t\t\tp.sldPtrS.style.height = sliderPtrSpace + 'px';\n\n\t\t\t\t// the Close button\n\t\t\t\tfunction setBtnBorder() {\n\t\t\t\t\tvar insetColors = THIS.insetColor.split(/\\s+/);\n\t\t\t\t\tvar outsetColor = insetColors.length < 2 ? insetColors[0] : insetColors[1] + ' ' + insetColors[0] + ' ' + insetColors[0] + ' ' + insetColors[1];\n\t\t\t\t\tp.btn.style.borderColor = outsetColor;\n\t\t\t\t}\n\t\t\t\tp.btn.style.display = THIS.closable ? 'block' : 'none';\n\t\t\t\tp.btn.style.position = 'absolute';\n\t\t\t\tp.btn.style.left = THIS.padding + 'px';\n\t\t\t\tp.btn.style.bottom = THIS.padding + 'px';\n\t\t\t\tp.btn.style.padding = '0 15px';\n\t\t\t\tp.btn.style.height = THIS.buttonHeight + 'px';\n\t\t\t\tp.btn.style.border = THIS.insetWidth + 'px solid';\n\t\t\t\tsetBtnBorder();\n\t\t\t\tp.btn.style.color = THIS.buttonColor;\n\t\t\t\tp.btn.style.font = '12px sans-serif';\n\t\t\t\tp.btn.style.textAlign = 'center';\n\t\t\t\ttry {\n\t\t\t\t\tp.btn.style.cursor = 'pointer';\n\t\t\t\t} catch (eOldIE) {\n\t\t\t\t\tp.btn.style.cursor = 'hand';\n\t\t\t\t}\n\t\t\t\tp.btn.onmousedown = function () {\n\t\t\t\t\tTHIS.hide();\n\t\t\t\t};\n\t\t\t\tp.btnT.style.lineHeight = THIS.buttonHeight + 'px';\n\t\t\t\tp.btnT.innerHTML = '';\n\t\t\t\tp.btnT.appendChild(document.createTextNode(THIS.closeText));\n\n\t\t\t\t// place pointers\n\t\t\t\tredrawPad();\n\t\t\t\tredrawSld();\n\n\t\t\t\t// If we are changing the owner without first closing the picker,\n\t\t\t\t// make sure to first deal with the old owner\n\t\t\t\tif (jsc.picker.owner && jsc.picker.owner !== THIS) {\n\t\t\t\t\tjsc.unsetClass(jsc.picker.owner.targetElement, THIS.activeClass);\n\t\t\t\t}\n\n\t\t\t\t// Set the new picker owner\n\t\t\t\tjsc.picker.owner = THIS;\n\n\t\t\t\t// The redrawPosition() method needs picker.owner to be set, that's why we call it here,\n\t\t\t\t// after setting the owner\n\t\t\t\tif (jsc.isElementType(container, 'body')) {\n\t\t\t\t\tjsc.redrawPosition();\n\t\t\t\t} else {\n\t\t\t\t\tjsc._drawPosition(THIS, 0, 0, 'relative', false);\n\t\t\t\t}\n\n\t\t\t\tif (p.wrap.parentNode != container) {\n\t\t\t\t\tcontainer.appendChild(p.wrap);\n\t\t\t\t}\n\n\t\t\t\tjsc.setClass(THIS.targetElement, THIS.activeClass);\n\t\t\t}\n\n\t\t\tfunction redrawPad() {\n\t\t\t\t// redraw the pad pointer\n\t\t\t\tswitch (jsc.getPadYComponent(THIS)) {\n\t\t\t\t\tcase 's':\n\t\t\t\t\t\tvar yComponent = 1;break;\n\t\t\t\t\tcase 'v':\n\t\t\t\t\t\tvar yComponent = 2;break;\n\t\t\t\t}\n\t\t\t\tvar x = Math.round(THIS.hsv[0] / 360 * (THIS.width - 1));\n\t\t\t\tvar y = Math.round((1 - THIS.hsv[yComponent] / 100) * (THIS.height - 1));\n\t\t\t\tvar crossOuterSize = 2 * THIS.pointerBorderWidth + THIS.pointerThickness + 2 * THIS.crossSize;\n\t\t\t\tvar ofs = -Math.floor(crossOuterSize / 2);\n\t\t\t\tjsc.picker.cross.style.left = x + ofs + 'px';\n\t\t\t\tjsc.picker.cross.style.top = y + ofs + 'px';\n\n\t\t\t\t// redraw the slider\n\t\t\t\tswitch (jsc.getSliderComponent(THIS)) {\n\t\t\t\t\tcase 's':\n\t\t\t\t\t\tvar rgb1 = HSV_RGB(THIS.hsv[0], 100, THIS.hsv[2]);\n\t\t\t\t\t\tvar rgb2 = HSV_RGB(THIS.hsv[0], 0, THIS.hsv[2]);\n\t\t\t\t\t\tvar color1 = 'rgb(' + Math.round(rgb1[0]) + ',' + Math.round(rgb1[1]) + ',' + Math.round(rgb1[2]) + ')';\n\t\t\t\t\t\tvar color2 = 'rgb(' + Math.round(rgb2[0]) + ',' + Math.round(rgb2[1]) + ',' + Math.round(rgb2[2]) + ')';\n\t\t\t\t\t\tjsc.picker.sldGrad.draw(THIS.sliderSize, THIS.height, color1, color2);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'v':\n\t\t\t\t\t\tvar rgb = HSV_RGB(THIS.hsv[0], THIS.hsv[1], 100);\n\t\t\t\t\t\tvar color1 = 'rgb(' + Math.round(rgb[0]) + ',' + Math.round(rgb[1]) + ',' + Math.round(rgb[2]) + ')';\n\t\t\t\t\t\tvar color2 = '#000';\n\t\t\t\t\t\tjsc.picker.sldGrad.draw(THIS.sliderSize, THIS.height, color1, color2);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction redrawSld() {\n\t\t\t\tvar sldComponent = jsc.getSliderComponent(THIS);\n\t\t\t\tif (sldComponent) {\n\t\t\t\t\t// redraw the slider pointer\n\t\t\t\t\tswitch (sldComponent) {\n\t\t\t\t\t\tcase 's':\n\t\t\t\t\t\t\tvar yComponent = 1;break;\n\t\t\t\t\t\tcase 'v':\n\t\t\t\t\t\t\tvar yComponent = 2;break;\n\t\t\t\t\t}\n\t\t\t\t\tvar y = Math.round((1 - THIS.hsv[yComponent] / 100) * (THIS.height - 1));\n\t\t\t\t\tjsc.picker.sldPtrOB.style.top = y - (2 * THIS.pointerBorderWidth + THIS.pointerThickness) - Math.floor(sliderPtrSpace / 2) + 'px';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction isPickerOwner() {\n\t\t\t\treturn jsc.picker && jsc.picker.owner === THIS;\n\t\t\t}\n\n\t\t\tfunction blurValue() {\n\t\t\t\tTHIS.importColor();\n\t\t\t}\n\n\t\t\t// Find the target element\n\t\t\tif (typeof targetElement === 'string') {\n\t\t\t\tvar id = targetElement;\n\t\t\t\tvar elm = document.getElementById(id);\n\t\t\t\tif (elm) {\n\t\t\t\t\tthis.targetElement = elm;\n\t\t\t\t} else {\n\t\t\t\t\tjsc.warn('Could not find target element with ID \\'' + id + '\\'');\n\t\t\t\t}\n\t\t\t} else if (targetElement) {\n\t\t\t\tthis.targetElement = targetElement;\n\t\t\t} else {\n\t\t\t\tjsc.warn('Invalid target element: \\'' + targetElement + '\\'');\n\t\t\t}\n\n\t\t\tif (this.targetElement._jscLinkedInstance) {\n\t\t\t\tjsc.warn('Cannot link jscolor twice to the same element. Skipping.');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.targetElement._jscLinkedInstance = this;\n\n\t\t\t// Find the value element\n\t\t\tthis.valueElement = jsc.fetchElement(this.valueElement);\n\t\t\t// Find the style element\n\t\t\tthis.styleElement = jsc.fetchElement(this.styleElement);\n\n\t\t\tvar THIS = this;\n\t\t\tvar container = this.container ? jsc.fetchElement(this.container) : document.getElementsByTagName('body')[0];\n\t\t\tvar sliderPtrSpace = 3; // px\n\n\t\t\t// For BUTTON elements it's important to stop them from sending the form when clicked\n\t\t\t// (e.g. in Safari)\n\t\t\tif (jsc.isElementType(this.targetElement, 'button')) {\n\t\t\t\tif (this.targetElement.onclick) {\n\t\t\t\t\tvar origCallback = this.targetElement.onclick;\n\t\t\t\t\tthis.targetElement.onclick = function (evt) {\n\t\t\t\t\t\torigCallback.call(this, evt);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tthis.targetElement.onclick = function () {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/*\n   var elm = this.targetElement;\n   do {\n   \t// If the target element or one of its offsetParents has fixed position,\n   \t// then use fixed positioning instead\n   \t//\n   \t// Note: In Firefox, getComputedStyle returns null in a hidden iframe,\n   \t// that's why we need to check if the returned style object is non-empty\n   \tvar currStyle = jsc.getStyle(elm);\n   \tif (currStyle && currStyle.position.toLowerCase() === 'fixed') {\n   \t\tthis.fixed = true;\n   \t}\n   \t\t\tif (elm !== this.targetElement) {\n   \t\t// attach onParentScroll so that we can recompute the picker position\n   \t\t// when one of the offsetParents is scrolled\n   \t\tif (!elm._jscEventsAttached) {\n   \t\t\tjsc.attachEvent(elm, 'scroll', jsc.onParentScroll);\n   \t\t\telm._jscEventsAttached = true;\n   \t\t}\n   \t}\n   } while ((elm = elm.offsetParent) && !jsc.isElementType(elm, 'body'));\n   */\n\n\t\t\t// valueElement\n\t\t\tif (this.valueElement) {\n\t\t\t\tif (jsc.isElementType(this.valueElement, 'input')) {\n\t\t\t\t\tvar updateField = function updateField() {\n\t\t\t\t\t\tTHIS.fromString(THIS.valueElement.value, jsc.leaveValue);\n\t\t\t\t\t\tjsc.dispatchFineChange(THIS);\n\t\t\t\t\t};\n\t\t\t\t\tjsc.attachEvent(this.valueElement, 'keyup', updateField);\n\t\t\t\t\tjsc.attachEvent(this.valueElement, 'input', updateField);\n\t\t\t\t\tjsc.attachEvent(this.valueElement, 'blur', blurValue);\n\t\t\t\t\tthis.valueElement.setAttribute('autocomplete', 'off');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// styleElement\n\t\t\tif (this.styleElement) {\n\t\t\t\tthis.styleElement._jscOrigStyle = {\n\t\t\t\t\tbackgroundImage: this.styleElement.style.backgroundImage,\n\t\t\t\t\tbackgroundColor: this.styleElement.style.backgroundColor,\n\t\t\t\t\tcolor: this.styleElement.style.color\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (this.value) {\n\t\t\t\t// Try to set the color from the .value option and if unsuccessful,\n\t\t\t\t// export the current color\n\t\t\t\tthis.fromString(this.value) || this.exportColor();\n\t\t\t} else {\n\t\t\t\tthis.importColor();\n\t\t\t}\n\t\t}\n\n\t};\n\n\t//================================\n\t// Public properties and methods\n\t//================================\n\n\n\t// By default, search for all elements with class=\"jscolor\" and install a color picker on them.\n\t//\n\t// You can change what class name will be looked for by setting the property jscolor.lookupClass\n\t// anywhere in your HTML document. To completely disable the automatic lookup, set it to null.\n\t//\n\tjsc.jscolor.lookupClass = 'jscolor';\n\n\tjsc.jscolor.installByClassName = function (className) {\n\t\tvar inputElms = document.getElementsByTagName('input');\n\t\tvar buttonElms = document.getElementsByTagName('button');\n\n\t\tjsc.tryInstallOnElements(inputElms, className);\n\t\tjsc.tryInstallOnElements(buttonElms, className);\n\t};\n\n\tjsc.register();\n\n\treturn jsc.jscolor;\n}\n\nexports.default = chooseColor;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90b29scy9Ub29sc0Z1bmNzL2Nob29zZUNvbG9yQ3VycmVudC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvY29tcG9uZW50cy90b29scy9Ub29sc0Z1bmNzL2Nob29zZUNvbG9yQ3VycmVudC5qcz8yMjhhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICoganNjb2xvciAtIEphdmFTY3JpcHQgQ29sb3IgUGlja2VyXG4gKlxuICogQGxpbmsgICAgaHR0cDovL2pzY29sb3IuY29tXG4gKiBAbGljZW5zZSBGb3Igb3BlbiBzb3VyY2UgdXNlOiBHUEx2M1xuICogICAgICAgICAgRm9yIGNvbW1lcmNpYWwgdXNlOiBKU0NvbG9yIENvbW1lcmNpYWwgTGljZW5zZVxuICogQGF1dGhvciAgSmFuIE9kdmFya29cbiAqIEB2ZXJzaW9uIDIuMC41XG4gKlxuICogU2VlIHVzYWdlIGV4YW1wbGVzIGF0IGh0dHA6Ly9qc2NvbG9yLmNvbS9leGFtcGxlcy9cbiAqL1xuXG5cblxuXG5mdW5jdGlvbiBjaG9vc2VDb2xvcigpIHtcblxuXG5cdHZhciBqc2MgPSB7XG5cblxuXHRcdHJlZ2lzdGVyOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRqc2MuYXR0YWNoRE9NUmVhZHlFdmVudChqc2MuaW5pdCk7XG5cdFx0XHRqc2MuYXR0YWNoRXZlbnQoZG9jdW1lbnQsICdtb3VzZWRvd24nLCBqc2Mub25Eb2N1bWVudE1vdXNlRG93bik7XG5cdFx0XHRqc2MuYXR0YWNoRXZlbnQoZG9jdW1lbnQsICd0b3VjaHN0YXJ0JywganNjLm9uRG9jdW1lbnRUb3VjaFN0YXJ0KTtcblx0XHRcdGpzYy5hdHRhY2hFdmVudCh3aW5kb3csICdyZXNpemUnLCBqc2Mub25XaW5kb3dSZXNpemUpO1xuXHRcdH0sXG5cblxuXHRcdGluaXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdGlmIChqc2MuanNjb2xvci5sb29rdXBDbGFzcykge1xuXHRcdFx0XHRqc2MuanNjb2xvci5pbnN0YWxsQnlDbGFzc05hbWUoanNjLmpzY29sb3IubG9va3VwQ2xhc3MpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblxuXHRcdHRyeUluc3RhbGxPbkVsZW1lbnRzOiBmdW5jdGlvbiAoZWxtcywgY2xhc3NOYW1lKSB7XG5cdFx0XHR2YXIgbWF0Y2hDbGFzcyA9IG5ldyBSZWdFeHAoJyhefFxcXFxzKSgnICsgY2xhc3NOYW1lICsgJykoXFxcXHMqKFxcXFx7W159XSpcXFxcfSl8XFxcXHN8JCknLCAnaScpO1xuXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGVsbXMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0aWYgKGVsbXNbaV0udHlwZSAhPT0gdW5kZWZpbmVkICYmIGVsbXNbaV0udHlwZS50b0xvd2VyQ2FzZSgpID09ICdjb2xvcicpIHtcblx0XHRcdFx0XHRpZiAoanNjLmlzQ29sb3JBdHRyU3VwcG9ydGVkKSB7XG5cdFx0XHRcdFx0XHQvLyBza2lwIGlucHV0cyBvZiB0eXBlICdjb2xvcicgaWYgc3VwcG9ydGVkIGJ5IHRoZSBicm93c2VyXG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0dmFyIG07XG5cdFx0XHRcdGlmICghZWxtc1tpXS5qc2NvbG9yICYmIGVsbXNbaV0uY2xhc3NOYW1lICYmIChtID0gZWxtc1tpXS5jbGFzc05hbWUubWF0Y2gobWF0Y2hDbGFzcykpKSB7XG5cdFx0XHRcdFx0dmFyIHRhcmdldEVsbSA9IGVsbXNbaV07XG5cdFx0XHRcdFx0dmFyIG9wdHNTdHIgPSBudWxsO1xuXG5cdFx0XHRcdFx0dmFyIGRhdGFPcHRpb25zID0ganNjLmdldERhdGFBdHRyKHRhcmdldEVsbSwgJ2pzY29sb3InKTtcblx0XHRcdFx0XHRpZiAoZGF0YU9wdGlvbnMgIT09IG51bGwpIHtcblx0XHRcdFx0XHRcdG9wdHNTdHIgPSBkYXRhT3B0aW9ucztcblx0XHRcdFx0XHR9IGVsc2UgaWYgKG1bNF0pIHtcblx0XHRcdFx0XHRcdG9wdHNTdHIgPSBtWzRdO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHZhciBvcHRzID0ge307XG5cdFx0XHRcdFx0aWYgKG9wdHNTdHIpIHtcblx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdG9wdHMgPSAobmV3IEZ1bmN0aW9uKCdyZXR1cm4gKCcgKyBvcHRzU3RyICsgJyknKSkoKTtcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVQYXJzZUVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdGpzYy53YXJuKCdFcnJvciBwYXJzaW5nIGpzY29sb3Igb3B0aW9uczogJyArIGVQYXJzZUVycm9yICsgJzpcXG4nICsgb3B0c1N0cik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHRhcmdldEVsbS5qc2NvbG9yID0gbmV3IGpzYy5qc2NvbG9yKHRhcmdldEVsbSwgb3B0cyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cblx0XHRpc0NvbG9yQXR0clN1cHBvcnRlZDogKGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBlbG0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuXHRcdFx0aWYgKGVsbS5zZXRBdHRyaWJ1dGUpIHtcblx0XHRcdFx0ZWxtLnNldEF0dHJpYnV0ZSgndHlwZScsICdjb2xvcicpO1xuXHRcdFx0XHRpZiAoZWxtLnR5cGUudG9Mb3dlckNhc2UoKSA9PSAnY29sb3InKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9KSgpLFxuXG5cblx0XHRpc0NhbnZhc1N1cHBvcnRlZDogKGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBlbG0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblx0XHRcdHJldHVybiAhIShlbG0uZ2V0Q29udGV4dCAmJiBlbG0uZ2V0Q29udGV4dCgnMmQnKSk7XG5cdFx0fSkoKSxcblxuXG5cdFx0ZmV0Y2hFbGVtZW50OiBmdW5jdGlvbiAobWl4ZWQpIHtcblx0XHRcdHJldHVybiB0eXBlb2YgbWl4ZWQgPT09ICdzdHJpbmcnID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobWl4ZWQpIDogbWl4ZWQ7XG5cdFx0fSxcblxuXG5cdFx0aXNFbGVtZW50VHlwZTogZnVuY3Rpb24gKGVsbSwgdHlwZSkge1xuXHRcdFx0cmV0dXJuIGVsbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlLnRvTG93ZXJDYXNlKCk7XG5cdFx0fSxcblxuXG5cdFx0Z2V0RGF0YUF0dHI6IGZ1bmN0aW9uIChlbCwgbmFtZSkge1xuXHRcdFx0dmFyIGF0dHJOYW1lID0gJ2RhdGEtJyArIG5hbWU7XG5cdFx0XHR2YXIgYXR0clZhbHVlID0gZWwuZ2V0QXR0cmlidXRlKGF0dHJOYW1lKTtcblx0XHRcdGlmIChhdHRyVmFsdWUgIT09IG51bGwpIHtcblx0XHRcdFx0cmV0dXJuIGF0dHJWYWx1ZTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH0sXG5cblxuXHRcdGF0dGFjaEV2ZW50OiBmdW5jdGlvbiAoZWwsIGV2bnQsIGZ1bmMpIHtcblx0XHRcdGlmIChlbC5hZGRFdmVudExpc3RlbmVyKSB7XG5cdFx0XHRcdGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZudCwgZnVuYywgZmFsc2UpO1xuXHRcdFx0fSBlbHNlIGlmIChlbC5hdHRhY2hFdmVudCkge1xuXHRcdFx0XHRlbC5hdHRhY2hFdmVudCgnb24nICsgZXZudCwgZnVuYyk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXG5cdFx0ZGV0YWNoRXZlbnQ6IGZ1bmN0aW9uIChlbCwgZXZudCwgZnVuYykge1xuXHRcdFx0aWYgKGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcblx0XHRcdFx0ZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldm50LCBmdW5jLCBmYWxzZSk7XG5cdFx0XHR9IGVsc2UgaWYgKGVsLmRldGFjaEV2ZW50KSB7XG5cdFx0XHRcdGVsLmRldGFjaEV2ZW50KCdvbicgKyBldm50LCBmdW5jKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cblx0XHRfYXR0YWNoZWRHcm91cEV2ZW50czoge30sXG5cblxuXHRcdGF0dGFjaEdyb3VwRXZlbnQ6IGZ1bmN0aW9uIChncm91cE5hbWUsIGVsLCBldm50LCBmdW5jKSB7XG5cdFx0XHRpZiAoIWpzYy5fYXR0YWNoZWRHcm91cEV2ZW50cy5oYXNPd25Qcm9wZXJ0eShncm91cE5hbWUpKSB7XG5cdFx0XHRcdGpzYy5fYXR0YWNoZWRHcm91cEV2ZW50c1tncm91cE5hbWVdID0gW107XG5cdFx0XHR9XG5cdFx0XHRqc2MuX2F0dGFjaGVkR3JvdXBFdmVudHNbZ3JvdXBOYW1lXS5wdXNoKFtlbCwgZXZudCwgZnVuY10pO1xuXHRcdFx0anNjLmF0dGFjaEV2ZW50KGVsLCBldm50LCBmdW5jKTtcblx0XHR9LFxuXG5cblx0XHRkZXRhY2hHcm91cEV2ZW50czogZnVuY3Rpb24gKGdyb3VwTmFtZSkge1xuXHRcdFx0aWYgKGpzYy5fYXR0YWNoZWRHcm91cEV2ZW50cy5oYXNPd25Qcm9wZXJ0eShncm91cE5hbWUpKSB7XG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwganNjLl9hdHRhY2hlZEdyb3VwRXZlbnRzW2dyb3VwTmFtZV0ubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0XHR2YXIgZXZ0ID0ganNjLl9hdHRhY2hlZEdyb3VwRXZlbnRzW2dyb3VwTmFtZV1baV07XG5cdFx0XHRcdFx0anNjLmRldGFjaEV2ZW50KGV2dFswXSwgZXZ0WzFdLCBldnRbMl0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGRlbGV0ZSBqc2MuX2F0dGFjaGVkR3JvdXBFdmVudHNbZ3JvdXBOYW1lXTtcblx0XHRcdH1cblx0XHR9LFxuXG5cblx0XHRhdHRhY2hET01SZWFkeUV2ZW50OiBmdW5jdGlvbiAoZnVuYykge1xuXHRcdFx0dmFyIGZpcmVkID0gZmFsc2U7XG5cdFx0XHR2YXIgZmlyZU9uY2UgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdGlmICghZmlyZWQpIHtcblx0XHRcdFx0XHRmaXJlZCA9IHRydWU7XG5cdFx0XHRcdFx0ZnVuYygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0XHRpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuXHRcdFx0XHRzZXRUaW1lb3V0KGZpcmVPbmNlLCAxKTsgLy8gYXN5bmNcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcikge1xuXHRcdFx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZmlyZU9uY2UsIGZhbHNlKTtcblxuXHRcdFx0XHQvLyBGYWxsYmFja1xuXHRcdFx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZpcmVPbmNlLCBmYWxzZSk7XG5cblx0XHRcdH0gZWxzZSBpZiAoZG9jdW1lbnQuYXR0YWNoRXZlbnQpIHtcblx0XHRcdFx0Ly8gSUVcblx0XHRcdFx0ZG9jdW1lbnQuYXR0YWNoRXZlbnQoJ29ucmVhZHlzdGF0ZWNoYW5nZScsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuXHRcdFx0XHRcdFx0ZG9jdW1lbnQuZGV0YWNoRXZlbnQoJ29ucmVhZHlzdGF0ZWNoYW5nZScsIGFyZ3VtZW50cy5jYWxsZWUpO1xuXHRcdFx0XHRcdFx0ZmlyZU9uY2UoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pXG5cblx0XHRcdFx0Ly8gRmFsbGJhY2tcblx0XHRcdFx0d2luZG93LmF0dGFjaEV2ZW50KCdvbmxvYWQnLCBmaXJlT25jZSk7XG5cblx0XHRcdFx0Ly8gSUU3Lzhcblx0XHRcdFx0aWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbCAmJiB3aW5kb3cgPT0gd2luZG93LnRvcCkge1xuXHRcdFx0XHRcdHZhciB0cnlTY3JvbGwgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRpZiAoIWRvY3VtZW50LmJvZHkpIHsgcmV0dXJuOyB9XG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwoJ2xlZnQnKTtcblx0XHRcdFx0XHRcdFx0ZmlyZU9uY2UoKTtcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRcdFx0c2V0VGltZW91dCh0cnlTY3JvbGwsIDEpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0dHJ5U2Nyb2xsKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cblx0XHR3YXJuOiBmdW5jdGlvbiAobXNnKSB7XG5cdFx0XHRpZiAod2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUud2Fybikge1xuXHRcdFx0XHR3aW5kb3cuY29uc29sZS53YXJuKG1zZyk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXG5cdFx0cHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRpZiAoZS5wcmV2ZW50RGVmYXVsdCkgeyBlLnByZXZlbnREZWZhdWx0KCk7IH1cblx0XHRcdGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcblx0XHR9LFxuXG5cblx0XHRjYXB0dXJlVGFyZ2V0OiBmdW5jdGlvbiAodGFyZ2V0KSB7XG5cdFx0XHQvLyBJRVxuXHRcdFx0aWYgKHRhcmdldC5zZXRDYXB0dXJlKSB7XG5cdFx0XHRcdGpzYy5fY2FwdHVyZWRUYXJnZXQgPSB0YXJnZXQ7XG5cdFx0XHRcdGpzYy5fY2FwdHVyZWRUYXJnZXQuc2V0Q2FwdHVyZSgpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblxuXHRcdHJlbGVhc2VUYXJnZXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdC8vIElFXG5cdFx0XHRpZiAoanNjLl9jYXB0dXJlZFRhcmdldCkge1xuXHRcdFx0XHRqc2MuX2NhcHR1cmVkVGFyZ2V0LnJlbGVhc2VDYXB0dXJlKCk7XG5cdFx0XHRcdGpzYy5fY2FwdHVyZWRUYXJnZXQgPSBudWxsO1xuXHRcdFx0fVxuXHRcdH0sXG5cblxuXHRcdGZpcmVFdmVudDogZnVuY3Rpb24gKGVsLCBldm50KSB7XG5cdFx0XHRpZiAoIWVsKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGlmIChkb2N1bWVudC5jcmVhdGVFdmVudCkge1xuXHRcdFx0XHR2YXIgZXYgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnSFRNTEV2ZW50cycpO1xuXHRcdFx0XHRldi5pbml0RXZlbnQoZXZudCwgdHJ1ZSwgdHJ1ZSk7XG5cdFx0XHRcdGVsLmRpc3BhdGNoRXZlbnQoZXYpO1xuXHRcdFx0fSBlbHNlIGlmIChkb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdCkge1xuXHRcdFx0XHR2YXIgZXYgPSBkb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdCgpO1xuXHRcdFx0XHRlbC5maXJlRXZlbnQoJ29uJyArIGV2bnQsIGV2KTtcblx0XHRcdH0gZWxzZSBpZiAoZWxbJ29uJyArIGV2bnRdKSB7IC8vIGFsdGVybmF0aXZlbHkgdXNlIHRoZSB0cmFkaXRpb25hbCBldmVudCBtb2RlbFxuXHRcdFx0XHRlbFsnb24nICsgZXZudF0oKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cblx0XHRjbGFzc05hbWVUb0xpc3Q6IGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcblx0XHRcdHJldHVybiBjbGFzc05hbWUucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpLnNwbGl0KC9cXHMrLyk7XG5cdFx0fSxcblxuXG5cdFx0Ly8gVGhlIGNsYXNzTmFtZSBwYXJhbWV0ZXIgKHN0cikgY2FuIG9ubHkgY29udGFpbiBhIHNpbmdsZSBjbGFzcyBuYW1lXG5cdFx0aGFzQ2xhc3M6IGZ1bmN0aW9uIChlbG0sIGNsYXNzTmFtZSkge1xuXHRcdFx0aWYgKCFjbGFzc05hbWUpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIC0xICE9ICgnICcgKyBlbG0uY2xhc3NOYW1lLnJlcGxhY2UoL1xccysvZywgJyAnKSArICcgJykuaW5kZXhPZignICcgKyBjbGFzc05hbWUgKyAnICcpO1xuXHRcdH0sXG5cblxuXHRcdC8vIFRoZSBjbGFzc05hbWUgcGFyYW1ldGVyIChzdHIpIGNhbiBjb250YWluIG11bHRpcGxlIGNsYXNzIG5hbWVzIHNlcGFyYXRlZCBieSB3aGl0ZXNwYWNlXG5cdFx0c2V0Q2xhc3M6IGZ1bmN0aW9uIChlbG0sIGNsYXNzTmFtZSkge1xuXHRcdFx0dmFyIGNsYXNzTGlzdCA9IGpzYy5jbGFzc05hbWVUb0xpc3QoY2xhc3NOYW1lKTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgY2xhc3NMaXN0Lmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdGlmICghanNjLmhhc0NsYXNzKGVsbSwgY2xhc3NMaXN0W2ldKSkge1xuXHRcdFx0XHRcdGVsbS5jbGFzc05hbWUgKz0gKGVsbS5jbGFzc05hbWUgPyAnICcgOiAnJykgKyBjbGFzc0xpc3RbaV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cblx0XHQvLyBUaGUgY2xhc3NOYW1lIHBhcmFtZXRlciAoc3RyKSBjYW4gY29udGFpbiBtdWx0aXBsZSBjbGFzcyBuYW1lcyBzZXBhcmF0ZWQgYnkgd2hpdGVzcGFjZVxuXHRcdHVuc2V0Q2xhc3M6IGZ1bmN0aW9uIChlbG0sIGNsYXNzTmFtZSkge1xuXHRcdFx0dmFyIGNsYXNzTGlzdCA9IGpzYy5jbGFzc05hbWVUb0xpc3QoY2xhc3NOYW1lKTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgY2xhc3NMaXN0Lmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdHZhciByZXBsID0gbmV3IFJlZ0V4cChcblx0XHRcdFx0XHQnXlxcXFxzKicgKyBjbGFzc0xpc3RbaV0gKyAnXFxcXHMqfCcgK1xuXHRcdFx0XHRcdCdcXFxccyonICsgY2xhc3NMaXN0W2ldICsgJ1xcXFxzKiR8JyArXG5cdFx0XHRcdFx0J1xcXFxzKycgKyBjbGFzc0xpc3RbaV0gKyAnKFxcXFxzKyknLFxuXHRcdFx0XHRcdCdnJ1xuXHRcdFx0XHQpO1xuXHRcdFx0XHRlbG0uY2xhc3NOYW1lID0gZWxtLmNsYXNzTmFtZS5yZXBsYWNlKHJlcGwsICckMScpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblxuXHRcdGdldFN0eWxlOiBmdW5jdGlvbiAoZWxtKSB7XG5cdFx0XHRyZXR1cm4gd2luZG93LmdldENvbXB1dGVkU3R5bGUgPyB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbG0pIDogZWxtLmN1cnJlbnRTdHlsZTtcblx0XHR9LFxuXG5cblx0XHRzZXRTdHlsZTogKGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBoZWxwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdHZhciBnZXRTdXBwb3J0ZWRQcm9wID0gZnVuY3Rpb24gKG5hbWVzKSB7XG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0XHRpZiAobmFtZXNbaV0gaW4gaGVscGVyLnN0eWxlKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gbmFtZXNbaV07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0dmFyIHByb3BzID0ge1xuXHRcdFx0XHRib3JkZXJSYWRpdXM6IGdldFN1cHBvcnRlZFByb3AoWydib3JkZXJSYWRpdXMnLCAnTW96Qm9yZGVyUmFkaXVzJywgJ3dlYmtpdEJvcmRlclJhZGl1cyddKSxcblx0XHRcdFx0Ym94U2hhZG93OiBnZXRTdXBwb3J0ZWRQcm9wKFsnYm94U2hhZG93JywgJ01vekJveFNoYWRvdycsICd3ZWJraXRCb3hTaGFkb3cnXSlcblx0XHRcdH07XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKGVsbSwgcHJvcCwgdmFsdWUpIHtcblx0XHRcdFx0c3dpdGNoIChwcm9wLnRvTG93ZXJDYXNlKCkpIHtcblx0XHRcdFx0XHRjYXNlICdvcGFjaXR5Jzpcblx0XHRcdFx0XHRcdHZhciBhbHBoYU9wYWNpdHkgPSBNYXRoLnJvdW5kKHBhcnNlRmxvYXQodmFsdWUpICogMTAwKTtcblx0XHRcdFx0XHRcdGVsbS5zdHlsZS5vcGFjaXR5ID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRlbG0uc3R5bGUuZmlsdGVyID0gJ2FscGhhKG9wYWNpdHk9JyArIGFscGhhT3BhY2l0eSArICcpJztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRlbG0uc3R5bGVbcHJvcHNbcHJvcF1dID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9KSgpLFxuXG5cblx0XHRzZXRCb3JkZXJSYWRpdXM6IGZ1bmN0aW9uIChlbG0sIHZhbHVlKSB7XG5cdFx0XHRqc2Muc2V0U3R5bGUoZWxtLCAnYm9yZGVyUmFkaXVzJywgdmFsdWUgfHwgJzAnKTtcblx0XHR9LFxuXG5cblx0XHRzZXRCb3hTaGFkb3c6IGZ1bmN0aW9uIChlbG0sIHZhbHVlKSB7XG5cdFx0XHRqc2Muc2V0U3R5bGUoZWxtLCAnYm94U2hhZG93JywgdmFsdWUgfHwgJ25vbmUnKTtcblx0XHR9LFxuXG5cblx0XHRnZXRFbGVtZW50UG9zOiBmdW5jdGlvbiAoZSwgcmVsYXRpdmVUb1ZpZXdwb3J0KSB7XG5cdFx0XHR2YXIgeCA9IDAsIHkgPSAwO1xuXHRcdFx0dmFyIHJlY3QgPSBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdFx0eCA9IHJlY3QubGVmdDtcblx0XHRcdHkgPSByZWN0LnRvcDtcblx0XHRcdGlmICghcmVsYXRpdmVUb1ZpZXdwb3J0KSB7XG5cdFx0XHRcdHZhciB2aWV3UG9zID0ganNjLmdldFZpZXdQb3MoKTtcblx0XHRcdFx0eCArPSB2aWV3UG9zWzBdO1xuXHRcdFx0XHR5ICs9IHZpZXdQb3NbMV07XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gW3gsIHldO1xuXHRcdH0sXG5cblxuXHRcdGdldEVsZW1lbnRTaXplOiBmdW5jdGlvbiAoZSkge1xuXHRcdFx0cmV0dXJuIFtlLm9mZnNldFdpZHRoLCBlLm9mZnNldEhlaWdodF07XG5cdFx0fSxcblxuXG5cdFx0Ly8gZ2V0IHBvaW50ZXIncyBYL1kgY29vcmRpbmF0ZXMgcmVsYXRpdmUgdG8gdmlld3BvcnRcblx0XHRnZXRBYnNQb2ludGVyUG9zOiBmdW5jdGlvbiAoZSkge1xuXHRcdFx0aWYgKCFlKSB7IGUgPSB3aW5kb3cuZXZlbnQ7IH1cblx0XHRcdHZhciB4ID0gMCwgeSA9IDA7XG5cdFx0XHRpZiAodHlwZW9mIGUuY2hhbmdlZFRvdWNoZXMgIT09ICd1bmRlZmluZWQnICYmIGUuY2hhbmdlZFRvdWNoZXMubGVuZ3RoKSB7XG5cdFx0XHRcdC8vIHRvdWNoIGRldmljZXNcblx0XHRcdFx0eCA9IGUuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WDtcblx0XHRcdFx0eSA9IGUuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WTtcblx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIGUuY2xpZW50WCA9PT0gJ251bWJlcicpIHtcblx0XHRcdFx0eCA9IGUuY2xpZW50WDtcblx0XHRcdFx0eSA9IGUuY2xpZW50WTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB7IHg6IHgsIHk6IHkgfTtcblx0XHR9LFxuXG5cblx0XHQvLyBnZXQgcG9pbnRlcidzIFgvWSBjb29yZGluYXRlcyByZWxhdGl2ZSB0byB0YXJnZXQgZWxlbWVudFxuXHRcdGdldFJlbFBvaW50ZXJQb3M6IGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRpZiAoIWUpIHsgZSA9IHdpbmRvdy5ldmVudDsgfVxuXHRcdFx0dmFyIHRhcmdldCA9IGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudDtcblx0XHRcdHZhciB0YXJnZXRSZWN0ID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0XHR2YXIgeCA9IDAsIHkgPSAwO1xuXG5cdFx0XHR2YXIgY2xpZW50WCA9IDAsIGNsaWVudFkgPSAwO1xuXHRcdFx0aWYgKHR5cGVvZiBlLmNoYW5nZWRUb3VjaGVzICE9PSAndW5kZWZpbmVkJyAmJiBlLmNoYW5nZWRUb3VjaGVzLmxlbmd0aCkge1xuXHRcdFx0XHQvLyB0b3VjaCBkZXZpY2VzXG5cdFx0XHRcdGNsaWVudFggPSBlLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFg7XG5cdFx0XHRcdGNsaWVudFkgPSBlLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFk7XG5cdFx0XHR9IGVsc2UgaWYgKHR5cGVvZiBlLmNsaWVudFggPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdGNsaWVudFggPSBlLmNsaWVudFg7XG5cdFx0XHRcdGNsaWVudFkgPSBlLmNsaWVudFk7XG5cdFx0XHR9XG5cblx0XHRcdHggPSBjbGllbnRYIC0gdGFyZ2V0UmVjdC5sZWZ0O1xuXHRcdFx0eSA9IGNsaWVudFkgLSB0YXJnZXRSZWN0LnRvcDtcblx0XHRcdHJldHVybiB7IHg6IHgsIHk6IHkgfTtcblx0XHR9LFxuXG5cblx0XHRnZXRWaWV3UG9zOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgZG9jID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXHRcdFx0cmV0dXJuIFtcblx0XHRcdFx0KHdpbmRvdy5wYWdlWE9mZnNldCB8fCBkb2Muc2Nyb2xsTGVmdCkgLSAoZG9jLmNsaWVudExlZnQgfHwgMCksXG5cdFx0XHRcdCh3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jLnNjcm9sbFRvcCkgLSAoZG9jLmNsaWVudFRvcCB8fCAwKVxuXHRcdFx0XTtcblx0XHR9LFxuXG5cblx0XHRnZXRWaWV3U2l6ZTogZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIGRvYyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblx0XHRcdHJldHVybiBbXG5cdFx0XHRcdCh3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2MuY2xpZW50V2lkdGgpLFxuXHRcdFx0XHQod2luZG93LmlubmVySGVpZ2h0IHx8IGRvYy5jbGllbnRIZWlnaHQpLFxuXHRcdFx0XTtcblx0XHR9LFxuXG5cblx0XHRyZWRyYXdQb3NpdGlvbjogZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRpZiAoanNjLnBpY2tlciAmJiBqc2MucGlja2VyLm93bmVyKSB7XG5cdFx0XHRcdHZhciB0aGlzT2JqID0ganNjLnBpY2tlci5vd25lcjtcblxuXHRcdFx0XHR2YXIgdHAsIHZwO1xuXG5cdFx0XHRcdGlmICh0aGlzT2JqLmZpeGVkKSB7XG5cdFx0XHRcdFx0Ly8gRml4ZWQgZWxlbWVudHMgYXJlIHBvc2l0aW9uZWQgcmVsYXRpdmUgdG8gdmlld3BvcnQsXG5cdFx0XHRcdFx0Ly8gdGhlcmVmb3JlIHdlIGNhbiBpZ25vcmUgdGhlIHNjcm9sbCBvZmZzZXRcblx0XHRcdFx0XHR0cCA9IGpzYy5nZXRFbGVtZW50UG9zKHRoaXNPYmoudGFyZ2V0RWxlbWVudCwgdHJ1ZSk7IC8vIHRhcmdldCBwb3Ncblx0XHRcdFx0XHR2cCA9IFswLCAwXTsgLy8gdmlldyBwb3Ncblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0cCA9IGpzYy5nZXRFbGVtZW50UG9zKHRoaXNPYmoudGFyZ2V0RWxlbWVudCk7IC8vIHRhcmdldCBwb3Ncblx0XHRcdFx0XHR2cCA9IGpzYy5nZXRWaWV3UG9zKCk7IC8vIHZpZXcgcG9zXG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YXIgdHMgPSBqc2MuZ2V0RWxlbWVudFNpemUodGhpc09iai50YXJnZXRFbGVtZW50KTsgLy8gdGFyZ2V0IHNpemVcblx0XHRcdFx0dmFyIHZzID0ganNjLmdldFZpZXdTaXplKCk7IC8vIHZpZXcgc2l6ZVxuXHRcdFx0XHR2YXIgcHMgPSBqc2MuZ2V0UGlja2VyT3V0ZXJEaW1zKHRoaXNPYmopOyAvLyBwaWNrZXIgc2l6ZVxuXHRcdFx0XHR2YXIgYSwgYiwgYztcblx0XHRcdFx0c3dpdGNoICh0aGlzT2JqLnBvc2l0aW9uLnRvTG93ZXJDYXNlKCkpIHtcblx0XHRcdFx0XHRjYXNlICdsZWZ0JzogYSA9IDE7IGIgPSAwOyBjID0gLTE7IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3JpZ2h0JzogYSA9IDE7IGIgPSAwOyBjID0gMTsgYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAndG9wJzogYSA9IDA7IGIgPSAxOyBjID0gLTE7IGJyZWFrO1xuXHRcdFx0XHRcdGRlZmF1bHQ6IGEgPSAwOyBiID0gMTsgYyA9IDE7IGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHZhciBsID0gKHRzW2JdICsgcHNbYl0pIC8gMjtcblxuXHRcdFx0XHQvLyBjb21wdXRlIHBpY2tlciBwb3NpdGlvblxuXHRcdFx0XHRpZiAoIXRoaXNPYmouc21hcnRQb3NpdGlvbikge1xuXHRcdFx0XHRcdHZhciBwcCA9IFtcblx0XHRcdFx0XHRcdHRwW2FdLFxuXHRcdFx0XHRcdFx0dHBbYl0gKyB0c1tiXSAtIGwgKyBsICogY1xuXHRcdFx0XHRcdF07XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dmFyIHBwID0gW1xuXHRcdFx0XHRcdFx0LXZwW2FdICsgdHBbYV0gKyBwc1thXSA+IHZzW2FdID9cblx0XHRcdFx0XHRcdFx0KC12cFthXSArIHRwW2FdICsgdHNbYV0gLyAyID4gdnNbYV0gLyAyICYmIHRwW2FdICsgdHNbYV0gLSBwc1thXSA+PSAwID8gdHBbYV0gKyB0c1thXSAtIHBzW2FdIDogdHBbYV0pIDpcblx0XHRcdFx0XHRcdFx0dHBbYV0sXG5cdFx0XHRcdFx0XHQtdnBbYl0gKyB0cFtiXSArIHRzW2JdICsgcHNbYl0gLSBsICsgbCAqIGMgPiB2c1tiXSA/XG5cdFx0XHRcdFx0XHRcdCgtdnBbYl0gKyB0cFtiXSArIHRzW2JdIC8gMiA+IHZzW2JdIC8gMiAmJiB0cFtiXSArIHRzW2JdIC0gbCAtIGwgKiBjID49IDAgPyB0cFtiXSArIHRzW2JdIC0gbCAtIGwgKiBjIDogdHBbYl0gKyB0c1tiXSAtIGwgKyBsICogYykgOlxuXHRcdFx0XHRcdFx0XHQodHBbYl0gKyB0c1tiXSAtIGwgKyBsICogYyA+PSAwID8gdHBbYl0gKyB0c1tiXSAtIGwgKyBsICogYyA6IHRwW2JdICsgdHNbYl0gLSBsIC0gbCAqIGMpXG5cdFx0XHRcdFx0XTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhciB4ID0gcHBbYV07XG5cdFx0XHRcdHZhciB5ID0gcHBbYl07XG5cdFx0XHRcdHZhciBwb3NpdGlvblZhbHVlID0gdGhpc09iai5maXhlZCA/ICdmaXhlZCcgOiAnYWJzb2x1dGUnO1xuXHRcdFx0XHR2YXIgY29udHJhY3RTaGFkb3cgPVxuXHRcdFx0XHRcdChwcFswXSArIHBzWzBdID4gdHBbMF0gfHwgcHBbMF0gPCB0cFswXSArIHRzWzBdKSAmJlxuXHRcdFx0XHRcdChwcFsxXSArIHBzWzFdIDwgdHBbMV0gKyB0c1sxXSk7XG5cblx0XHRcdFx0anNjLl9kcmF3UG9zaXRpb24odGhpc09iaiwgeCwgeSwgcG9zaXRpb25WYWx1ZSwgY29udHJhY3RTaGFkb3cpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblxuXHRcdF9kcmF3UG9zaXRpb246IGZ1bmN0aW9uICh0aGlzT2JqLCB4LCB5LCBwb3NpdGlvblZhbHVlLCBjb250cmFjdFNoYWRvdykge1xuXHRcdFx0dmFyIHZTaGFkb3cgPSBjb250cmFjdFNoYWRvdyA/IDAgOiB0aGlzT2JqLnNoYWRvd0JsdXI7IC8vIHB4XG5cblx0XHRcdGpzYy5waWNrZXIud3JhcC5zdHlsZS5wb3NpdGlvbiA9IHBvc2l0aW9uVmFsdWU7XG5cdFx0XHRqc2MucGlja2VyLndyYXAuc3R5bGUubGVmdCA9IHggKyAncHgnO1xuXHRcdFx0anNjLnBpY2tlci53cmFwLnN0eWxlLnRvcCA9IHkgKyAncHgnO1xuXG5cdFx0XHRqc2Muc2V0Qm94U2hhZG93KFxuXHRcdFx0XHRqc2MucGlja2VyLmJveFMsXG5cdFx0XHRcdHRoaXNPYmouc2hhZG93ID9cblx0XHRcdFx0XHRuZXcganNjLkJveFNoYWRvdygwLCB2U2hhZG93LCB0aGlzT2JqLnNoYWRvd0JsdXIsIDAsIHRoaXNPYmouc2hhZG93Q29sb3IpIDpcblx0XHRcdFx0XHRudWxsKTtcblx0XHR9LFxuXG5cblx0XHRnZXRQaWNrZXJEaW1zOiBmdW5jdGlvbiAodGhpc09iaikge1xuXHRcdFx0dmFyIGRpc3BsYXlTbGlkZXIgPSAhIWpzYy5nZXRTbGlkZXJDb21wb25lbnQodGhpc09iaik7XG5cdFx0XHR2YXIgZGltcyA9IFtcblx0XHRcdFx0MiAqIHRoaXNPYmouaW5zZXRXaWR0aCArIDIgKiB0aGlzT2JqLnBhZGRpbmcgKyB0aGlzT2JqLndpZHRoICtcblx0XHRcdFx0KGRpc3BsYXlTbGlkZXIgPyAyICogdGhpc09iai5pbnNldFdpZHRoICsganNjLmdldFBhZFRvU2xpZGVyUGFkZGluZyh0aGlzT2JqKSArIHRoaXNPYmouc2xpZGVyU2l6ZSA6IDApLFxuXHRcdFx0XHQyICogdGhpc09iai5pbnNldFdpZHRoICsgMiAqIHRoaXNPYmoucGFkZGluZyArIHRoaXNPYmouaGVpZ2h0ICtcblx0XHRcdFx0KHRoaXNPYmouY2xvc2FibGUgPyAyICogdGhpc09iai5pbnNldFdpZHRoICsgdGhpc09iai5wYWRkaW5nICsgdGhpc09iai5idXR0b25IZWlnaHQgOiAwKVxuXHRcdFx0XTtcblx0XHRcdHJldHVybiBkaW1zO1xuXHRcdH0sXG5cblxuXHRcdGdldFBpY2tlck91dGVyRGltczogZnVuY3Rpb24gKHRoaXNPYmopIHtcblx0XHRcdHZhciBkaW1zID0ganNjLmdldFBpY2tlckRpbXModGhpc09iaik7XG5cdFx0XHRyZXR1cm4gW1xuXHRcdFx0XHRkaW1zWzBdICsgMiAqIHRoaXNPYmouYm9yZGVyV2lkdGgsXG5cdFx0XHRcdGRpbXNbMV0gKyAyICogdGhpc09iai5ib3JkZXJXaWR0aFxuXHRcdFx0XTtcblx0XHR9LFxuXG5cblx0XHRnZXRQYWRUb1NsaWRlclBhZGRpbmc6IGZ1bmN0aW9uICh0aGlzT2JqKSB7XG5cdFx0XHRyZXR1cm4gTWF0aC5tYXgodGhpc09iai5wYWRkaW5nLCAxLjUgKiAoMiAqIHRoaXNPYmoucG9pbnRlckJvcmRlcldpZHRoICsgdGhpc09iai5wb2ludGVyVGhpY2tuZXNzKSk7XG5cdFx0fSxcblxuXG5cdFx0Z2V0UGFkWUNvbXBvbmVudDogZnVuY3Rpb24gKHRoaXNPYmopIHtcblx0XHRcdHN3aXRjaCAodGhpc09iai5tb2RlLmNoYXJBdCgxKS50b0xvd2VyQ2FzZSgpKSB7XG5cdFx0XHRcdGNhc2UgJ3YnOiByZXR1cm4gJ3YnOyBicmVhaztcblx0XHRcdH1cblx0XHRcdHJldHVybiAncyc7XG5cdFx0fSxcblxuXG5cdFx0Z2V0U2xpZGVyQ29tcG9uZW50OiBmdW5jdGlvbiAodGhpc09iaikge1xuXHRcdFx0aWYgKHRoaXNPYmoubW9kZS5sZW5ndGggPiAyKSB7XG5cdFx0XHRcdHN3aXRjaCAodGhpc09iai5tb2RlLmNoYXJBdCgyKS50b0xvd2VyQ2FzZSgpKSB7XG5cdFx0XHRcdFx0Y2FzZSAncyc6IHJldHVybiAncyc7IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3YnOiByZXR1cm4gJ3YnOyBicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fSxcblxuXG5cdFx0b25Eb2N1bWVudE1vdXNlRG93bjogZnVuY3Rpb24gKGUpIHtcblx0XHRcdGlmICghZSkgeyBlID0gd2luZG93LmV2ZW50OyB9XG5cdFx0XHR2YXIgdGFyZ2V0ID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50O1xuXG5cdFx0XHRpZiAodGFyZ2V0Ll9qc2NMaW5rZWRJbnN0YW5jZSkge1xuXHRcdFx0XHRpZiAodGFyZ2V0Ll9qc2NMaW5rZWRJbnN0YW5jZS5zaG93T25DbGljaykge1xuXHRcdFx0XHRcdHRhcmdldC5fanNjTGlua2VkSW5zdGFuY2Uuc2hvdygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKHRhcmdldC5fanNjQ29udHJvbE5hbWUpIHtcblx0XHRcdFx0anNjLm9uQ29udHJvbFBvaW50ZXJTdGFydChlLCB0YXJnZXQsIHRhcmdldC5fanNjQ29udHJvbE5hbWUsICdtb3VzZScpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gTW91c2UgaXMgb3V0c2lkZSB0aGUgcGlja2VyIGNvbnRyb2xzIC0+IGhpZGUgdGhlIGNvbG9yIHBpY2tlciFcblx0XHRcdFx0aWYgKGpzYy5waWNrZXIgJiYganNjLnBpY2tlci5vd25lcikge1xuXHRcdFx0XHRcdGpzYy5waWNrZXIub3duZXIuaGlkZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXG5cdFx0b25Eb2N1bWVudFRvdWNoU3RhcnQ6IGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRpZiAoIWUpIHsgZSA9IHdpbmRvdy5ldmVudDsgfVxuXHRcdFx0dmFyIHRhcmdldCA9IGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudDtcblxuXHRcdFx0aWYgKHRhcmdldC5fanNjTGlua2VkSW5zdGFuY2UpIHtcblx0XHRcdFx0aWYgKHRhcmdldC5fanNjTGlua2VkSW5zdGFuY2Uuc2hvd09uQ2xpY2spIHtcblx0XHRcdFx0XHR0YXJnZXQuX2pzY0xpbmtlZEluc3RhbmNlLnNob3coKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmICh0YXJnZXQuX2pzY0NvbnRyb2xOYW1lKSB7XG5cdFx0XHRcdGpzYy5vbkNvbnRyb2xQb2ludGVyU3RhcnQoZSwgdGFyZ2V0LCB0YXJnZXQuX2pzY0NvbnRyb2xOYW1lLCAndG91Y2gnKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmIChqc2MucGlja2VyICYmIGpzYy5waWNrZXIub3duZXIpIHtcblx0XHRcdFx0XHRqc2MucGlja2VyLm93bmVyLmhpZGUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblxuXHRcdG9uV2luZG93UmVzaXplOiBmdW5jdGlvbiAoZSkge1xuXHRcdFx0anNjLnJlZHJhd1Bvc2l0aW9uKCk7XG5cdFx0fSxcblxuXG5cdFx0b25QYXJlbnRTY3JvbGw6IGZ1bmN0aW9uIChlKSB7XG5cdFx0XHQvLyBoaWRlIHRoZSBwaWNrZXIgd2hlbiBvbmUgb2YgdGhlIHBhcmVudCBlbGVtZW50cyBpcyBzY3JvbGxlZFxuXHRcdFx0aWYgKGpzYy5waWNrZXIgJiYganNjLnBpY2tlci5vd25lcikge1xuXHRcdFx0XHRqc2MucGlja2VyLm93bmVyLmhpZGUoKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cblx0XHRfcG9pbnRlck1vdmVFdmVudDoge1xuXHRcdFx0bW91c2U6ICdtb3VzZW1vdmUnLFxuXHRcdFx0dG91Y2g6ICd0b3VjaG1vdmUnXG5cdFx0fSxcblx0XHRfcG9pbnRlckVuZEV2ZW50OiB7XG5cdFx0XHRtb3VzZTogJ21vdXNldXAnLFxuXHRcdFx0dG91Y2g6ICd0b3VjaGVuZCdcblx0XHR9LFxuXG5cblx0XHRfcG9pbnRlck9yaWdpbjogbnVsbCxcblx0XHRfY2FwdHVyZWRUYXJnZXQ6IG51bGwsXG5cblxuXHRcdG9uQ29udHJvbFBvaW50ZXJTdGFydDogZnVuY3Rpb24gKGUsIHRhcmdldCwgY29udHJvbE5hbWUsIHBvaW50ZXJUeXBlKSB7XG5cdFx0XHR2YXIgdGhpc09iaiA9IHRhcmdldC5fanNjSW5zdGFuY2U7XG5cblx0XHRcdGpzYy5wcmV2ZW50RGVmYXVsdChlKTtcblx0XHRcdGpzYy5jYXB0dXJlVGFyZ2V0KHRhcmdldCk7XG5cblx0XHRcdHZhciByZWdpc3RlckRyYWdFdmVudHMgPSBmdW5jdGlvbiAoZG9jLCBvZmZzZXQpIHtcblx0XHRcdFx0anNjLmF0dGFjaEdyb3VwRXZlbnQoJ2RyYWcnLCBkb2MsIGpzYy5fcG9pbnRlck1vdmVFdmVudFtwb2ludGVyVHlwZV0sXG5cdFx0XHRcdFx0anNjLm9uRG9jdW1lbnRQb2ludGVyTW92ZShlLCB0YXJnZXQsIGNvbnRyb2xOYW1lLCBwb2ludGVyVHlwZSwgb2Zmc2V0KSk7XG5cdFx0XHRcdGpzYy5hdHRhY2hHcm91cEV2ZW50KCdkcmFnJywgZG9jLCBqc2MuX3BvaW50ZXJFbmRFdmVudFtwb2ludGVyVHlwZV0sXG5cdFx0XHRcdFx0anNjLm9uRG9jdW1lbnRQb2ludGVyRW5kKGUsIHRhcmdldCwgY29udHJvbE5hbWUsIHBvaW50ZXJUeXBlKSk7XG5cdFx0XHR9O1xuXG5cdFx0XHRyZWdpc3RlckRyYWdFdmVudHMoZG9jdW1lbnQsIFswLCAwXSk7XG5cblx0XHRcdGlmICh3aW5kb3cucGFyZW50ICYmIHdpbmRvdy5mcmFtZUVsZW1lbnQpIHtcblx0XHRcdFx0dmFyIHJlY3QgPSB3aW5kb3cuZnJhbWVFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdFx0XHR2YXIgb2ZzID0gWy1yZWN0LmxlZnQsIC1yZWN0LnRvcF07XG5cdFx0XHRcdHJlZ2lzdGVyRHJhZ0V2ZW50cyh3aW5kb3cucGFyZW50LndpbmRvdy5kb2N1bWVudCwgb2ZzKTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGFicyA9IGpzYy5nZXRBYnNQb2ludGVyUG9zKGUpO1xuXHRcdFx0dmFyIHJlbCA9IGpzYy5nZXRSZWxQb2ludGVyUG9zKGUpO1xuXHRcdFx0anNjLl9wb2ludGVyT3JpZ2luID0ge1xuXHRcdFx0XHR4OiBhYnMueCAtIHJlbC54LFxuXHRcdFx0XHR5OiBhYnMueSAtIHJlbC55XG5cdFx0XHR9O1xuXG5cdFx0XHRzd2l0Y2ggKGNvbnRyb2xOYW1lKSB7XG5cdFx0XHRcdGNhc2UgJ3BhZCc6XG5cdFx0XHRcdFx0Ly8gaWYgdGhlIHNsaWRlciBpcyBhdCB0aGUgYm90dG9tLCBtb3ZlIGl0IHVwXG5cdFx0XHRcdFx0c3dpdGNoIChqc2MuZ2V0U2xpZGVyQ29tcG9uZW50KHRoaXNPYmopKSB7XG5cdFx0XHRcdFx0XHRjYXNlICdzJzogaWYgKHRoaXNPYmouaHN2WzFdID09PSAwKSB7IHRoaXNPYmouZnJvbUhTVihudWxsLCAxMDAsIG51bGwpOyB9IGJyZWFrO1xuXHRcdFx0XHRcdFx0Y2FzZSAndic6IGlmICh0aGlzT2JqLmhzdlsyXSA9PT0gMCkgeyB0aGlzT2JqLmZyb21IU1YobnVsbCwgbnVsbCwgMTAwKTsgfSBicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0anNjLnNldFBhZCh0aGlzT2JqLCBlLCAwLCAwKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlICdzbGQnOlxuXHRcdFx0XHRcdGpzYy5zZXRTbGQodGhpc09iaiwgZSwgMCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cblx0XHRcdGpzYy5kaXNwYXRjaEZpbmVDaGFuZ2UodGhpc09iaik7XG5cdFx0fSxcblxuXG5cdFx0b25Eb2N1bWVudFBvaW50ZXJNb3ZlOiBmdW5jdGlvbiAoZSwgdGFyZ2V0LCBjb250cm9sTmFtZSwgcG9pbnRlclR5cGUsIG9mZnNldCkge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRcdHZhciB0aGlzT2JqID0gdGFyZ2V0Ll9qc2NJbnN0YW5jZTtcblx0XHRcdFx0c3dpdGNoIChjb250cm9sTmFtZSkge1xuXHRcdFx0XHRcdGNhc2UgJ3BhZCc6XG5cdFx0XHRcdFx0XHRpZiAoIWUpIHsgZSA9IHdpbmRvdy5ldmVudDsgfVxuXHRcdFx0XHRcdFx0anNjLnNldFBhZCh0aGlzT2JqLCBlLCBvZmZzZXRbMF0sIG9mZnNldFsxXSk7XG5cdFx0XHRcdFx0XHRqc2MuZGlzcGF0Y2hGaW5lQ2hhbmdlKHRoaXNPYmopO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRjYXNlICdzbGQnOlxuXHRcdFx0XHRcdFx0aWYgKCFlKSB7IGUgPSB3aW5kb3cuZXZlbnQ7IH1cblx0XHRcdFx0XHRcdGpzYy5zZXRTbGQodGhpc09iaiwgZSwgb2Zmc2V0WzFdKTtcblx0XHRcdFx0XHRcdGpzYy5kaXNwYXRjaEZpbmVDaGFuZ2UodGhpc09iaik7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblxuXHRcdG9uRG9jdW1lbnRQb2ludGVyRW5kOiBmdW5jdGlvbiAoZSwgdGFyZ2V0LCBjb250cm9sTmFtZSwgcG9pbnRlclR5cGUpIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbiAoZSkge1xuXHRcdFx0XHR2YXIgdGhpc09iaiA9IHRhcmdldC5fanNjSW5zdGFuY2U7XG5cdFx0XHRcdGpzYy5kZXRhY2hHcm91cEV2ZW50cygnZHJhZycpO1xuXHRcdFx0XHRqc2MucmVsZWFzZVRhcmdldCgpO1xuXHRcdFx0XHQvLyBBbHdheXMgZGlzcGF0Y2ggY2hhbmdlcyBhZnRlciBkZXRhY2hpbmcgb3V0c3RhbmRpbmcgbW91c2UgaGFuZGxlcnMsXG5cdFx0XHRcdC8vIGluIGNhc2Ugc29tZSB1c2VyIGludGVyYWN0aW9uIHdpbGwgb2NjdXIgaW4gdXNlcidzIG9uY2hhbmdlIGNhbGxiYWNrXG5cdFx0XHRcdC8vIHRoYXQgd291bGQgaW50cnVkZSB3aXRoIGN1cnJlbnQgbW91c2UgZXZlbnRzXG5cdFx0XHRcdGpzYy5kaXNwYXRjaENoYW5nZSh0aGlzT2JqKTtcblx0XHRcdH07XG5cdFx0fSxcblxuXG5cdFx0ZGlzcGF0Y2hDaGFuZ2U6IGZ1bmN0aW9uICh0aGlzT2JqKSB7XG5cdFx0XHRpZiAodGhpc09iai52YWx1ZUVsZW1lbnQpIHtcblx0XHRcdFx0aWYgKGpzYy5pc0VsZW1lbnRUeXBlKHRoaXNPYmoudmFsdWVFbGVtZW50LCAnaW5wdXQnKSkge1xuXHRcdFx0XHRcdGpzYy5maXJlRXZlbnQodGhpc09iai52YWx1ZUVsZW1lbnQsICdjaGFuZ2UnKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblxuXHRcdGRpc3BhdGNoRmluZUNoYW5nZTogZnVuY3Rpb24gKHRoaXNPYmopIHtcblx0XHRcdGlmICh0aGlzT2JqLm9uRmluZUNoYW5nZSkge1xuXHRcdFx0XHR2YXIgY2FsbGJhY2s7XG5cdFx0XHRcdGlmICh0eXBlb2YgdGhpc09iai5vbkZpbmVDaGFuZ2UgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2sgPSBuZXcgRnVuY3Rpb24odGhpc09iai5vbkZpbmVDaGFuZ2UpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNhbGxiYWNrID0gdGhpc09iai5vbkZpbmVDaGFuZ2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y2FsbGJhY2suY2FsbCh0aGlzT2JqKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cblx0XHRzZXRQYWQ6IGZ1bmN0aW9uICh0aGlzT2JqLCBlLCBvZnNYLCBvZnNZKSB7XG5cdFx0XHR2YXIgcG9pbnRlckFicyA9IGpzYy5nZXRBYnNQb2ludGVyUG9zKGUpO1xuXHRcdFx0dmFyIHggPSBvZnNYICsgcG9pbnRlckFicy54IC0ganNjLl9wb2ludGVyT3JpZ2luLnggLSB0aGlzT2JqLnBhZGRpbmcgLSB0aGlzT2JqLmluc2V0V2lkdGg7XG5cdFx0XHR2YXIgeSA9IG9mc1kgKyBwb2ludGVyQWJzLnkgLSBqc2MuX3BvaW50ZXJPcmlnaW4ueSAtIHRoaXNPYmoucGFkZGluZyAtIHRoaXNPYmouaW5zZXRXaWR0aDtcblxuXHRcdFx0dmFyIHhWYWwgPSB4ICogKDM2MCAvICh0aGlzT2JqLndpZHRoIC0gMSkpO1xuXHRcdFx0dmFyIHlWYWwgPSAxMDAgLSAoeSAqICgxMDAgLyAodGhpc09iai5oZWlnaHQgLSAxKSkpO1xuXG5cdFx0XHRzd2l0Y2ggKGpzYy5nZXRQYWRZQ29tcG9uZW50KHRoaXNPYmopKSB7XG5cdFx0XHRcdGNhc2UgJ3MnOiB0aGlzT2JqLmZyb21IU1YoeFZhbCwgeVZhbCwgbnVsbCwganNjLmxlYXZlU2xkKTsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgJ3YnOiB0aGlzT2JqLmZyb21IU1YoeFZhbCwgbnVsbCwgeVZhbCwganNjLmxlYXZlU2xkKTsgYnJlYWs7XG5cdFx0XHR9XG5cdFx0fSxcblxuXG5cdFx0c2V0U2xkOiBmdW5jdGlvbiAodGhpc09iaiwgZSwgb2ZzWSkge1xuXHRcdFx0dmFyIHBvaW50ZXJBYnMgPSBqc2MuZ2V0QWJzUG9pbnRlclBvcyhlKTtcblx0XHRcdHZhciB5ID0gb2ZzWSArIHBvaW50ZXJBYnMueSAtIGpzYy5fcG9pbnRlck9yaWdpbi55IC0gdGhpc09iai5wYWRkaW5nIC0gdGhpc09iai5pbnNldFdpZHRoO1xuXG5cdFx0XHR2YXIgeVZhbCA9IDEwMCAtICh5ICogKDEwMCAvICh0aGlzT2JqLmhlaWdodCAtIDEpKSk7XG5cblx0XHRcdHN3aXRjaCAoanNjLmdldFNsaWRlckNvbXBvbmVudCh0aGlzT2JqKSkge1xuXHRcdFx0XHRjYXNlICdzJzogdGhpc09iai5mcm9tSFNWKG51bGwsIHlWYWwsIG51bGwsIGpzYy5sZWF2ZVBhZCk7IGJyZWFrO1xuXHRcdFx0XHRjYXNlICd2JzogdGhpc09iai5mcm9tSFNWKG51bGwsIG51bGwsIHlWYWwsIGpzYy5sZWF2ZVBhZCk7IGJyZWFrO1xuXHRcdFx0fVxuXHRcdH0sXG5cblxuXHRcdF92bWxOUzogJ2pzY192bWxfJyxcblx0XHRfdm1sQ1NTOiAnanNjX3ZtbF9jc3NfJyxcblx0XHRfdm1sUmVhZHk6IGZhbHNlLFxuXG5cblx0XHRpbml0Vk1MOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAoIWpzYy5fdm1sUmVhZHkpIHtcblx0XHRcdFx0Ly8gaW5pdCBWTUwgbmFtZXNwYWNlXG5cdFx0XHRcdHZhciBkb2MgPSBkb2N1bWVudDtcblx0XHRcdFx0aWYgKCFkb2MubmFtZXNwYWNlc1tqc2MuX3ZtbE5TXSkge1xuXHRcdFx0XHRcdGRvYy5uYW1lc3BhY2VzLmFkZChqc2MuX3ZtbE5TLCAndXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTp2bWwnKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIWRvYy5zdHlsZVNoZWV0c1tqc2MuX3ZtbENTU10pIHtcblx0XHRcdFx0XHR2YXIgdGFncyA9IFsnc2hhcGUnLCAnc2hhcGV0eXBlJywgJ2dyb3VwJywgJ2JhY2tncm91bmQnLCAncGF0aCcsICdmb3JtdWxhcycsICdoYW5kbGVzJywgJ2ZpbGwnLCAnc3Ryb2tlJywgJ3NoYWRvdycsICd0ZXh0Ym94JywgJ3RleHRwYXRoJywgJ2ltYWdlZGF0YScsICdsaW5lJywgJ3BvbHlsaW5lJywgJ2N1cnZlJywgJ3JlY3QnLCAncm91bmRyZWN0JywgJ292YWwnLCAnYXJjJywgJ2ltYWdlJ107XG5cdFx0XHRcdFx0dmFyIHNzID0gZG9jLmNyZWF0ZVN0eWxlU2hlZXQoKTtcblx0XHRcdFx0XHRzcy5vd25pbmdFbGVtZW50LmlkID0ganNjLl92bWxDU1M7XG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0YWdzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdFx0XHRzcy5hZGRSdWxlKGpzYy5fdm1sTlMgKyAnXFxcXDonICsgdGFnc1tpXSwgJ2JlaGF2aW9yOnVybCgjZGVmYXVsdCNWTUwpOycpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRqc2MuX3ZtbFJlYWR5ID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9LFxuXG5cblx0XHRjcmVhdGVQYWxldHRlOiBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdHZhciBwYWxldHRlT2JqID0ge1xuXHRcdFx0XHRlbG06IG51bGwsXG5cdFx0XHRcdGRyYXc6IG51bGxcblx0XHRcdH07XG5cblx0XHRcdGlmIChqc2MuaXNDYW52YXNTdXBwb3J0ZWQpIHtcblx0XHRcdFx0Ly8gQ2FudmFzIGltcGxlbWVudGF0aW9uIGZvciBtb2Rlcm4gYnJvd3NlcnNcblxuXHRcdFx0XHR2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cdFx0XHRcdHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuXHRcdFx0XHR2YXIgZHJhd0Z1bmMgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCwgdHlwZSkge1xuXHRcdFx0XHRcdGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuXHRcdFx0XHRcdGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG5cblx0XHRcdFx0XHRjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG5cblx0XHRcdFx0XHR2YXIgaEdyYWQgPSBjdHguY3JlYXRlTGluZWFyR3JhZGllbnQoMCwgMCwgY2FudmFzLndpZHRoLCAwKTtcblx0XHRcdFx0XHRoR3JhZC5hZGRDb2xvclN0b3AoMCAvIDYsICcjRjAwJyk7XG5cdFx0XHRcdFx0aEdyYWQuYWRkQ29sb3JTdG9wKDEgLyA2LCAnI0ZGMCcpO1xuXHRcdFx0XHRcdGhHcmFkLmFkZENvbG9yU3RvcCgyIC8gNiwgJyMwRjAnKTtcblx0XHRcdFx0XHRoR3JhZC5hZGRDb2xvclN0b3AoMyAvIDYsICcjMEZGJyk7XG5cdFx0XHRcdFx0aEdyYWQuYWRkQ29sb3JTdG9wKDQgLyA2LCAnIzAwRicpO1xuXHRcdFx0XHRcdGhHcmFkLmFkZENvbG9yU3RvcCg1IC8gNiwgJyNGMEYnKTtcblx0XHRcdFx0XHRoR3JhZC5hZGRDb2xvclN0b3AoNiAvIDYsICcjRjAwJyk7XG5cblx0XHRcdFx0XHRjdHguZmlsbFN0eWxlID0gaEdyYWQ7XG5cdFx0XHRcdFx0Y3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG5cblx0XHRcdFx0XHR2YXIgdkdyYWQgPSBjdHguY3JlYXRlTGluZWFyR3JhZGllbnQoMCwgMCwgMCwgY2FudmFzLmhlaWdodCk7XG5cdFx0XHRcdFx0c3dpdGNoICh0eXBlLnRvTG93ZXJDYXNlKCkpIHtcblx0XHRcdFx0XHRcdGNhc2UgJ3MnOlxuXHRcdFx0XHRcdFx0XHR2R3JhZC5hZGRDb2xvclN0b3AoMCwgJ3JnYmEoMjU1LDI1NSwyNTUsMCknKTtcblx0XHRcdFx0XHRcdFx0dkdyYWQuYWRkQ29sb3JTdG9wKDEsICdyZ2JhKDI1NSwyNTUsMjU1LDEpJyk7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0Y2FzZSAndic6XG5cdFx0XHRcdFx0XHRcdHZHcmFkLmFkZENvbG9yU3RvcCgwLCAncmdiYSgwLDAsMCwwKScpO1xuXHRcdFx0XHRcdFx0XHR2R3JhZC5hZGRDb2xvclN0b3AoMSwgJ3JnYmEoMCwwLDAsMSknKTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGN0eC5maWxsU3R5bGUgPSB2R3JhZDtcblx0XHRcdFx0XHRjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRwYWxldHRlT2JqLmVsbSA9IGNhbnZhcztcblx0XHRcdFx0cGFsZXR0ZU9iai5kcmF3ID0gZHJhd0Z1bmM7XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIFZNTCBmYWxsYmFjayBmb3IgSUUgNyBhbmQgOFxuXG5cdFx0XHRcdGpzYy5pbml0Vk1MKCk7XG5cblx0XHRcdFx0dmFyIHZtbENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHR2bWxDb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuXHRcdFx0XHR2bWxDb250YWluZXIuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcblxuXHRcdFx0XHR2YXIgaEdyYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGpzYy5fdm1sTlMgKyAnOmZpbGwnKTtcblx0XHRcdFx0aEdyYWQudHlwZSA9ICdncmFkaWVudCc7XG5cdFx0XHRcdGhHcmFkLm1ldGhvZCA9ICdsaW5lYXInO1xuXHRcdFx0XHRoR3JhZC5hbmdsZSA9ICc5MCc7XG5cdFx0XHRcdGhHcmFkLmNvbG9ycyA9ICcxNi42NyUgI0YwRiwgMzMuMzMlICMwMEYsIDUwJSAjMEZGLCA2Ni42NyUgIzBGMCwgODMuMzMlICNGRjAnXG5cblx0XHRcdFx0dmFyIGhSZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChqc2MuX3ZtbE5TICsgJzpyZWN0Jyk7XG5cdFx0XHRcdGhSZWN0LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcblx0XHRcdFx0aFJlY3Quc3R5bGUubGVmdCA9IC0xICsgJ3B4Jztcblx0XHRcdFx0aFJlY3Quc3R5bGUudG9wID0gLTEgKyAncHgnO1xuXHRcdFx0XHRoUmVjdC5zdHJva2VkID0gZmFsc2U7XG5cdFx0XHRcdGhSZWN0LmFwcGVuZENoaWxkKGhHcmFkKTtcblx0XHRcdFx0dm1sQ29udGFpbmVyLmFwcGVuZENoaWxkKGhSZWN0KTtcblxuXHRcdFx0XHR2YXIgdkdyYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGpzYy5fdm1sTlMgKyAnOmZpbGwnKTtcblx0XHRcdFx0dkdyYWQudHlwZSA9ICdncmFkaWVudCc7XG5cdFx0XHRcdHZHcmFkLm1ldGhvZCA9ICdsaW5lYXInO1xuXHRcdFx0XHR2R3JhZC5hbmdsZSA9ICcxODAnO1xuXHRcdFx0XHR2R3JhZC5vcGFjaXR5ID0gJzAnO1xuXG5cdFx0XHRcdHZhciB2UmVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoanNjLl92bWxOUyArICc6cmVjdCcpO1xuXHRcdFx0XHR2UmVjdC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG5cdFx0XHRcdHZSZWN0LnN0eWxlLmxlZnQgPSAtMSArICdweCc7XG5cdFx0XHRcdHZSZWN0LnN0eWxlLnRvcCA9IC0xICsgJ3B4Jztcblx0XHRcdFx0dlJlY3Quc3Ryb2tlZCA9IGZhbHNlO1xuXHRcdFx0XHR2UmVjdC5hcHBlbmRDaGlsZCh2R3JhZCk7XG5cdFx0XHRcdHZtbENvbnRhaW5lci5hcHBlbmRDaGlsZCh2UmVjdCk7XG5cblx0XHRcdFx0dmFyIGRyYXdGdW5jID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQsIHR5cGUpIHtcblx0XHRcdFx0XHR2bWxDb250YWluZXIuc3R5bGUud2lkdGggPSB3aWR0aCArICdweCc7XG5cdFx0XHRcdFx0dm1sQ29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCc7XG5cblx0XHRcdFx0XHRoUmVjdC5zdHlsZS53aWR0aCA9XG5cdFx0XHRcdFx0XHR2UmVjdC5zdHlsZS53aWR0aCA9XG5cdFx0XHRcdFx0XHQod2lkdGggKyAxKSArICdweCc7XG5cdFx0XHRcdFx0aFJlY3Quc3R5bGUuaGVpZ2h0ID1cblx0XHRcdFx0XHRcdHZSZWN0LnN0eWxlLmhlaWdodCA9XG5cdFx0XHRcdFx0XHQoaGVpZ2h0ICsgMSkgKyAncHgnO1xuXG5cdFx0XHRcdFx0Ly8gQ29sb3JzIG11c3QgYmUgc3BlY2lmaWVkIGR1cmluZyBldmVyeSByZWRyYXcsIG90aGVyd2lzZSBJRSB3b24ndCBkaXNwbGF5XG5cdFx0XHRcdFx0Ly8gYSBmdWxsIGdyYWRpZW50IGR1cmluZyBhIHN1YnNlcXVlbnRpYWwgcmVkcmF3XG5cdFx0XHRcdFx0aEdyYWQuY29sb3IgPSAnI0YwMCc7XG5cdFx0XHRcdFx0aEdyYWQuY29sb3IyID0gJyNGMDAnO1xuXG5cdFx0XHRcdFx0c3dpdGNoICh0eXBlLnRvTG93ZXJDYXNlKCkpIHtcblx0XHRcdFx0XHRcdGNhc2UgJ3MnOlxuXHRcdFx0XHRcdFx0XHR2R3JhZC5jb2xvciA9IHZHcmFkLmNvbG9yMiA9ICcjRkZGJztcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRjYXNlICd2Jzpcblx0XHRcdFx0XHRcdFx0dkdyYWQuY29sb3IgPSB2R3JhZC5jb2xvcjIgPSAnIzAwMCc7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblxuXHRcdFx0XHRwYWxldHRlT2JqLmVsbSA9IHZtbENvbnRhaW5lcjtcblx0XHRcdFx0cGFsZXR0ZU9iai5kcmF3ID0gZHJhd0Z1bmM7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBwYWxldHRlT2JqO1xuXHRcdH0sXG5cblxuXHRcdGNyZWF0ZVNsaWRlckdyYWRpZW50OiBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdHZhciBzbGlkZXJPYmogPSB7XG5cdFx0XHRcdGVsbTogbnVsbCxcblx0XHRcdFx0ZHJhdzogbnVsbFxuXHRcdFx0fTtcblxuXHRcdFx0aWYgKGpzYy5pc0NhbnZhc1N1cHBvcnRlZCkge1xuXHRcdFx0XHQvLyBDYW52YXMgaW1wbGVtZW50YXRpb24gZm9yIG1vZGVybiBicm93c2Vyc1xuXG5cdFx0XHRcdHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblx0XHRcdFx0dmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG5cdFx0XHRcdHZhciBkcmF3RnVuYyA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0LCBjb2xvcjEsIGNvbG9yMikge1xuXHRcdFx0XHRcdGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuXHRcdFx0XHRcdGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG5cblx0XHRcdFx0XHRjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG5cblx0XHRcdFx0XHR2YXIgZ3JhZCA9IGN0eC5jcmVhdGVMaW5lYXJHcmFkaWVudCgwLCAwLCAwLCBjYW52YXMuaGVpZ2h0KTtcblx0XHRcdFx0XHRncmFkLmFkZENvbG9yU3RvcCgwLCBjb2xvcjEpO1xuXHRcdFx0XHRcdGdyYWQuYWRkQ29sb3JTdG9wKDEsIGNvbG9yMik7XG5cblx0XHRcdFx0XHRjdHguZmlsbFN0eWxlID0gZ3JhZDtcblx0XHRcdFx0XHRjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRzbGlkZXJPYmouZWxtID0gY2FudmFzO1xuXHRcdFx0XHRzbGlkZXJPYmouZHJhdyA9IGRyYXdGdW5jO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBWTUwgZmFsbGJhY2sgZm9yIElFIDcgYW5kIDhcblxuXHRcdFx0XHRqc2MuaW5pdFZNTCgpO1xuXG5cdFx0XHRcdHZhciB2bWxDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0dm1sQ29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcblx0XHRcdFx0dm1sQ29udGFpbmVyLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG5cblx0XHRcdFx0dmFyIGdyYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGpzYy5fdm1sTlMgKyAnOmZpbGwnKTtcblx0XHRcdFx0Z3JhZC50eXBlID0gJ2dyYWRpZW50Jztcblx0XHRcdFx0Z3JhZC5tZXRob2QgPSAnbGluZWFyJztcblx0XHRcdFx0Z3JhZC5hbmdsZSA9ICcxODAnO1xuXG5cdFx0XHRcdHZhciByZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChqc2MuX3ZtbE5TICsgJzpyZWN0Jyk7XG5cdFx0XHRcdHJlY3Quc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuXHRcdFx0XHRyZWN0LnN0eWxlLmxlZnQgPSAtMSArICdweCc7XG5cdFx0XHRcdHJlY3Quc3R5bGUudG9wID0gLTEgKyAncHgnO1xuXHRcdFx0XHRyZWN0LnN0cm9rZWQgPSBmYWxzZTtcblx0XHRcdFx0cmVjdC5hcHBlbmRDaGlsZChncmFkKTtcblx0XHRcdFx0dm1sQ29udGFpbmVyLmFwcGVuZENoaWxkKHJlY3QpO1xuXG5cdFx0XHRcdHZhciBkcmF3RnVuYyA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0LCBjb2xvcjEsIGNvbG9yMikge1xuXHRcdFx0XHRcdHZtbENvbnRhaW5lci5zdHlsZS53aWR0aCA9IHdpZHRoICsgJ3B4Jztcblx0XHRcdFx0XHR2bWxDb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgJ3B4JztcblxuXHRcdFx0XHRcdHJlY3Quc3R5bGUud2lkdGggPSAod2lkdGggKyAxKSArICdweCc7XG5cdFx0XHRcdFx0cmVjdC5zdHlsZS5oZWlnaHQgPSAoaGVpZ2h0ICsgMSkgKyAncHgnO1xuXG5cdFx0XHRcdFx0Z3JhZC5jb2xvciA9IGNvbG9yMTtcblx0XHRcdFx0XHRncmFkLmNvbG9yMiA9IGNvbG9yMjtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRzbGlkZXJPYmouZWxtID0gdm1sQ29udGFpbmVyO1xuXHRcdFx0XHRzbGlkZXJPYmouZHJhdyA9IGRyYXdGdW5jO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gc2xpZGVyT2JqO1xuXHRcdH0sXG5cblxuXHRcdGxlYXZlVmFsdWU6IDEgPDwgMCxcblx0XHRsZWF2ZVN0eWxlOiAxIDw8IDEsXG5cdFx0bGVhdmVQYWQ6IDEgPDwgMixcblx0XHRsZWF2ZVNsZDogMSA8PCAzLFxuXG5cblx0XHRCb3hTaGFkb3c6IChmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgQm94U2hhZG93ID0gZnVuY3Rpb24gKGhTaGFkb3csIHZTaGFkb3csIGJsdXIsIHNwcmVhZCwgY29sb3IsIGluc2V0KSB7XG5cdFx0XHRcdHRoaXMuaFNoYWRvdyA9IGhTaGFkb3c7XG5cdFx0XHRcdHRoaXMudlNoYWRvdyA9IHZTaGFkb3c7XG5cdFx0XHRcdHRoaXMuYmx1ciA9IGJsdXI7XG5cdFx0XHRcdHRoaXMuc3ByZWFkID0gc3ByZWFkO1xuXHRcdFx0XHR0aGlzLmNvbG9yID0gY29sb3I7XG5cdFx0XHRcdHRoaXMuaW5zZXQgPSAhIWluc2V0O1xuXHRcdFx0fTtcblxuXHRcdFx0Qm94U2hhZG93LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0dmFyIHZhbHMgPSBbXG5cdFx0XHRcdFx0TWF0aC5yb3VuZCh0aGlzLmhTaGFkb3cpICsgJ3B4Jyxcblx0XHRcdFx0XHRNYXRoLnJvdW5kKHRoaXMudlNoYWRvdykgKyAncHgnLFxuXHRcdFx0XHRcdE1hdGgucm91bmQodGhpcy5ibHVyKSArICdweCcsXG5cdFx0XHRcdFx0TWF0aC5yb3VuZCh0aGlzLnNwcmVhZCkgKyAncHgnLFxuXHRcdFx0XHRcdHRoaXMuY29sb3Jcblx0XHRcdFx0XTtcblx0XHRcdFx0aWYgKHRoaXMuaW5zZXQpIHtcblx0XHRcdFx0XHR2YWxzLnB1c2goJ2luc2V0Jyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHZhbHMuam9pbignICcpO1xuXHRcdFx0fTtcblxuXHRcdFx0cmV0dXJuIEJveFNoYWRvdztcblx0XHR9KSgpLFxuXG5cblx0XHQvL1xuXHRcdC8vIFVzYWdlOlxuXHRcdC8vIHZhciBteUNvbG9yID0gbmV3IGpzY29sb3IoPHRhcmdldEVsZW1lbnQ+IFssIDxvcHRpb25zPl0pXG5cdFx0Ly9cblxuXHRcdGpzY29sb3I6IGZ1bmN0aW9uICh0YXJnZXRFbGVtZW50LCBvcHRpb25zKSB7XG5cblx0XHRcdC8vIEdlbmVyYWwgb3B0aW9uc1xuXHRcdFx0Ly9cblx0XHRcdHRoaXMudmFsdWUgPSBudWxsOyAvLyBpbml0aWFsIEhFWCBjb2xvci4gVG8gY2hhbmdlIGl0IGxhdGVyLCB1c2UgbWV0aG9kcyBmcm9tU3RyaW5nKCksIGZyb21IU1YoKSBhbmQgZnJvbVJHQigpXG5cdFx0XHR0aGlzLnZhbHVlRWxlbWVudCA9IHRhcmdldEVsZW1lbnQ7IC8vIGVsZW1lbnQgdGhhdCB3aWxsIGJlIHVzZWQgdG8gZGlzcGxheSBhbmQgaW5wdXQgdGhlIGNvbG9yIGNvZGVcblx0XHRcdHRoaXMuc3R5bGVFbGVtZW50ID0gdGFyZ2V0RWxlbWVudDsgLy8gZWxlbWVudCB0aGF0IHdpbGwgcHJldmlldyB0aGUgcGlja2VkIGNvbG9yIHVzaW5nIENTUyBiYWNrZ3JvdW5kQ29sb3Jcblx0XHRcdHRoaXMucmVxdWlyZWQgPSB0cnVlOyAvLyB3aGV0aGVyIHRoZSBhc3NvY2lhdGVkIHRleHQgPGlucHV0PiBjYW4gYmUgbGVmdCBlbXB0eVxuXHRcdFx0dGhpcy5yZWZpbmUgPSB0cnVlOyAvLyB3aGV0aGVyIHRvIHJlZmluZSB0aGUgZW50ZXJlZCBjb2xvciBjb2RlIChlLmcuIHVwcGVyY2FzZSBpdCBhbmQgcmVtb3ZlIHdoaXRlc3BhY2UpXG5cdFx0XHR0aGlzLmhhc2ggPSBmYWxzZTsgLy8gd2hldGhlciB0byBwcmVmaXggdGhlIEhFWCBjb2xvciBjb2RlIHdpdGggIyBzeW1ib2xcblx0XHRcdHRoaXMudXBwZXJjYXNlID0gdHJ1ZTsgLy8gd2hldGhlciB0byBzaG93IHRoZSBjb2xvciBjb2RlIGluIHVwcGVyIGNhc2Vcblx0XHRcdHRoaXMub25GaW5lQ2hhbmdlID0gbnVsbDsgLy8gY2FsbGVkIGluc3RhbnRseSBldmVyeSB0aW1lIHRoZSBjb2xvciBjaGFuZ2VzICh2YWx1ZSBjYW4gYmUgZWl0aGVyIGEgZnVuY3Rpb24gb3IgYSBzdHJpbmcgd2l0aCBqYXZhc2NyaXB0IGNvZGUpXG5cdFx0XHR0aGlzLmFjdGl2ZUNsYXNzID0gJ2pzY29sb3ItYWN0aXZlJzsgLy8gY2xhc3MgdG8gYmUgc2V0IHRvIHRoZSB0YXJnZXQgZWxlbWVudCB3aGVuIGEgcGlja2VyIHdpbmRvdyBpcyBvcGVuIG9uIGl0XG5cdFx0XHR0aGlzLm92ZXJ3cml0ZUltcG9ydGFudCA9IGZhbHNlOyAvLyB3aGV0aGVyIHRvIG92ZXJ3cml0ZSBjb2xvcnMgb2Ygc3R5bGVFbGVtZW50IHVzaW5nICFpbXBvcnRhbnRcblx0XHRcdHRoaXMubWluUyA9IDA7IC8vIG1pbiBhbGxvd2VkIHNhdHVyYXRpb24gKDAgLSAxMDApXG5cdFx0XHR0aGlzLm1heFMgPSAxMDA7IC8vIG1heCBhbGxvd2VkIHNhdHVyYXRpb24gKDAgLSAxMDApXG5cdFx0XHR0aGlzLm1pblYgPSAwOyAvLyBtaW4gYWxsb3dlZCB2YWx1ZSAoYnJpZ2h0bmVzcykgKDAgLSAxMDApXG5cdFx0XHR0aGlzLm1heFYgPSAxMDA7IC8vIG1heCBhbGxvd2VkIHZhbHVlIChicmlnaHRuZXNzKSAoMCAtIDEwMClcblxuXHRcdFx0Ly8gQWNjZXNzaW5nIHRoZSBwaWNrZWQgY29sb3Jcblx0XHRcdC8vXG5cdFx0XHR0aGlzLmhzdiA9IFswLCAwLCAxMDBdOyAvLyByZWFkLW9ubHkgIFswLTM2MCwgMC0xMDAsIDAtMTAwXVxuXHRcdFx0dGhpcy5yZ2IgPSBbMjU1LCAyNTUsIDI1NV07IC8vIHJlYWQtb25seSAgWzAtMjU1LCAwLTI1NSwgMC0yNTVdXG5cblx0XHRcdC8vIENvbG9yIFBpY2tlciBvcHRpb25zXG5cdFx0XHQvL1xuXHRcdFx0dGhpcy53aWR0aCA9IDE4MTsgLy8gd2lkdGggb2YgY29sb3IgcGFsZXR0ZSAoaW4gcHgpXG5cdFx0XHR0aGlzLmhlaWdodCA9IDEwMTsgLy8gaGVpZ2h0IG9mIGNvbG9yIHBhbGV0dGUgKGluIHB4KVxuXHRcdFx0dGhpcy5zaG93T25DbGljayA9IHRydWU7IC8vIHdoZXRoZXIgdG8gZGlzcGxheSB0aGUgY29sb3IgcGlja2VyIHdoZW4gdXNlciBjbGlja3Mgb24gaXRzIHRhcmdldCBlbGVtZW50XG5cdFx0XHR0aGlzLm1vZGUgPSAnSFNWJzsgLy8gSFNWIHwgSFZTIHwgSFMgfCBIViAtIGxheW91dCBvZiB0aGUgY29sb3IgcGlja2VyIGNvbnRyb2xzXG5cdFx0XHR0aGlzLnBvc2l0aW9uID0gJ2JvdHRvbSc7IC8vIGxlZnQgfCByaWdodCB8IHRvcCB8IGJvdHRvbSAtIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRoZSB0YXJnZXQgZWxlbWVudFxuXHRcdFx0dGhpcy5zbWFydFBvc2l0aW9uID0gdHJ1ZTsgLy8gYXV0b21hdGljYWxseSBjaGFuZ2UgcGlja2VyIHBvc2l0aW9uIHdoZW4gdGhlcmUgaXMgbm90IGVub3VnaCBzcGFjZSBmb3IgaXRcblx0XHRcdHRoaXMuc2xpZGVyU2l6ZSA9IDE2OyAvLyBweFxuXHRcdFx0dGhpcy5jcm9zc1NpemUgPSA4OyAvLyBweFxuXHRcdFx0dGhpcy5jbG9zYWJsZSA9IGZhbHNlOyAvLyB3aGV0aGVyIHRvIGRpc3BsYXkgdGhlIENsb3NlIGJ1dHRvblxuXHRcdFx0dGhpcy5jbG9zZVRleHQgPSAnQ2xvc2UnO1xuXHRcdFx0dGhpcy5idXR0b25Db2xvciA9ICcjMDAwMDAwJzsgLy8gQ1NTIGNvbG9yXG5cdFx0XHR0aGlzLmJ1dHRvbkhlaWdodCA9IDE4OyAvLyBweFxuXHRcdFx0dGhpcy5wYWRkaW5nID0gMTI7IC8vIHB4XG5cdFx0XHR0aGlzLmJhY2tncm91bmRDb2xvciA9ICcjMUExQTFBJzsgLy8gQ1NTIGNvbG9yXG5cdFx0XHR0aGlzLmJvcmRlcldpZHRoID0gMTsgLy8gcHhcblx0XHRcdHRoaXMuYm9yZGVyQ29sb3IgPSAnIzQ0NDQ0NCc7IC8vIENTUyBjb2xvclxuXHRcdFx0dGhpcy5ib3JkZXJSYWRpdXMgPSA4OyAvLyBweFxuXHRcdFx0dGhpcy5pbnNldFdpZHRoID0gMTsgLy8gcHhcblx0XHRcdHRoaXMuaW5zZXRDb2xvciA9ICcjQkJCQkJCJzsgLy8gQ1NTIGNvbG9yXG5cdFx0XHR0aGlzLnNoYWRvdyA9IHRydWU7IC8vIHdoZXRoZXIgdG8gZGlzcGxheSBzaGFkb3dcblx0XHRcdHRoaXMuc2hhZG93Qmx1ciA9IDE1OyAvLyBweFxuXHRcdFx0dGhpcy5zaGFkb3dDb2xvciA9ICdyZ2JhKDAsMCwwLDAuMiknOyAvLyBDU1MgY29sb3Jcblx0XHRcdHRoaXMucG9pbnRlckNvbG9yID0gJyM0QzRDNEMnOyAvLyBweFxuXHRcdFx0dGhpcy5wb2ludGVyQm9yZGVyQ29sb3IgPSAnI0ZGRkZGRic7IC8vIHB4XG5cdFx0XHR0aGlzLnBvaW50ZXJCb3JkZXJXaWR0aCA9IDE7IC8vIHB4XG5cdFx0XHR0aGlzLnBvaW50ZXJUaGlja25lc3MgPSAyOyAvLyBweFxuXHRcdFx0dGhpcy56SW5kZXggPSAxMDAwO1xuXHRcdFx0dGhpcy5jb250YWluZXIgPSBudWxsOyAvLyB3aGVyZSB0byBhcHBlbmQgdGhlIGNvbG9yIHBpY2tlciAoQk9EWSBlbGVtZW50IGJ5IGRlZmF1bHQpXG5cblxuXHRcdFx0Zm9yICh2YXIgb3B0IGluIG9wdGlvbnMpIHtcblx0XHRcdFx0aWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0KSkge1xuXHRcdFx0XHRcdHRoaXNbb3B0XSA9IG9wdGlvbnNbb3B0XTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cblx0XHRcdHRoaXMuaGlkZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0aWYgKGlzUGlja2VyT3duZXIoKSkge1xuXHRcdFx0XHRcdGRldGFjaFBpY2tlcigpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cblx0XHRcdHRoaXMuc2hvdyA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0ZHJhd1BpY2tlcigpO1xuXHRcdFx0fTtcblxuXG5cdFx0XHR0aGlzLnJlZHJhdyA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0aWYgKGlzUGlja2VyT3duZXIoKSkge1xuXHRcdFx0XHRcdGRyYXdQaWNrZXIoKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXG5cdFx0XHR0aGlzLmltcG9ydENvbG9yID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRpZiAoIXRoaXMudmFsdWVFbGVtZW50KSB7XG5cdFx0XHRcdFx0dGhpcy5leHBvcnRDb2xvcigpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmIChqc2MuaXNFbGVtZW50VHlwZSh0aGlzLnZhbHVlRWxlbWVudCwgJ2lucHV0JykpIHtcblx0XHRcdFx0XHRcdGlmICghdGhpcy5yZWZpbmUpIHtcblx0XHRcdFx0XHRcdFx0aWYgKCF0aGlzLmZyb21TdHJpbmcodGhpcy52YWx1ZUVsZW1lbnQudmFsdWUsIGpzYy5sZWF2ZVZhbHVlKSkge1xuXHRcdFx0XHRcdFx0XHRcdGlmICh0aGlzLnN0eWxlRWxlbWVudCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5zdHlsZUVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gdGhpcy5zdHlsZUVsZW1lbnQuX2pzY09yaWdTdHlsZS5iYWNrZ3JvdW5kSW1hZ2U7XG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnN0eWxlRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLnN0eWxlRWxlbWVudC5fanNjT3JpZ1N0eWxlLmJhY2tncm91bmRDb2xvcjtcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuc3R5bGVFbGVtZW50LnN0eWxlLmNvbG9yID0gdGhpcy5zdHlsZUVsZW1lbnQuX2pzY09yaWdTdHlsZS5jb2xvcjtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5leHBvcnRDb2xvcihqc2MubGVhdmVWYWx1ZSB8IGpzYy5sZWF2ZVN0eWxlKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIGlmICghdGhpcy5yZXF1aXJlZCAmJiAvXlxccyokLy50ZXN0KHRoaXMudmFsdWVFbGVtZW50LnZhbHVlKSkge1xuXHRcdFx0XHRcdFx0XHR0aGlzLnZhbHVlRWxlbWVudC52YWx1ZSA9ICcnO1xuXHRcdFx0XHRcdFx0XHRpZiAodGhpcy5zdHlsZUVsZW1lbnQpIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnN0eWxlRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSB0aGlzLnN0eWxlRWxlbWVudC5fanNjT3JpZ1N0eWxlLmJhY2tncm91bmRJbWFnZTtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnN0eWxlRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLnN0eWxlRWxlbWVudC5fanNjT3JpZ1N0eWxlLmJhY2tncm91bmRDb2xvcjtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnN0eWxlRWxlbWVudC5zdHlsZS5jb2xvciA9IHRoaXMuc3R5bGVFbGVtZW50Ll9qc2NPcmlnU3R5bGUuY29sb3I7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0dGhpcy5leHBvcnRDb2xvcihqc2MubGVhdmVWYWx1ZSB8IGpzYy5sZWF2ZVN0eWxlKTtcblxuXHRcdFx0XHRcdFx0fSBlbHNlIGlmICh0aGlzLmZyb21TdHJpbmcodGhpcy52YWx1ZUVsZW1lbnQudmFsdWUpKSB7XG5cdFx0XHRcdFx0XHRcdC8vIG1hbmFnZWQgdG8gaW1wb3J0IGNvbG9yIHN1Y2Nlc3NmdWxseSBmcm9tIHRoZSB2YWx1ZSAtPiBPSywgZG9uJ3QgZG8gYW55dGhpbmdcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMuZXhwb3J0Q29sb3IoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Ly8gbm90IGFuIGlucHV0IGVsZW1lbnQgLT4gZG9lc24ndCBoYXZlIGFueSB2YWx1ZVxuXHRcdFx0XHRcdFx0dGhpcy5leHBvcnRDb2xvcigpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXG5cdFx0XHR0aGlzLmV4cG9ydENvbG9yID0gZnVuY3Rpb24gKGZsYWdzKSB7XG5cdFx0XHRcdGlmICghKGZsYWdzICYganNjLmxlYXZlVmFsdWUpICYmIHRoaXMudmFsdWVFbGVtZW50KSB7XG5cdFx0XHRcdFx0dmFyIHZhbHVlID0gdGhpcy50b1N0cmluZygpO1xuXHRcdFx0XHRcdGlmICh0aGlzLnVwcGVyY2FzZSkgeyB2YWx1ZSA9IHZhbHVlLnRvVXBwZXJDYXNlKCk7IH1cblx0XHRcdFx0XHRpZiAodGhpcy5oYXNoKSB7IHZhbHVlID0gJyMnICsgdmFsdWU7IH1cblxuXHRcdFx0XHRcdGlmIChqc2MuaXNFbGVtZW50VHlwZSh0aGlzLnZhbHVlRWxlbWVudCwgJ2lucHV0JykpIHtcblx0XHRcdFx0XHRcdHRoaXMudmFsdWVFbGVtZW50LnZhbHVlID0gdmFsdWU7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHRoaXMudmFsdWVFbGVtZW50LmlubmVySFRNTCA9IHZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIShmbGFncyAmIGpzYy5sZWF2ZVN0eWxlKSkge1xuXHRcdFx0XHRcdGlmICh0aGlzLnN0eWxlRWxlbWVudCkge1xuXHRcdFx0XHRcdFx0dmFyIGJnQ29sb3IgPSAnIycgKyB0aGlzLnRvU3RyaW5nKCk7XG5cdFx0XHRcdFx0XHR2YXIgZmdDb2xvciA9IHRoaXMuaXNMaWdodCgpID8gJyMwMDAnIDogJyNGRkYnO1xuXG5cdFx0XHRcdFx0XHR0aGlzLnN0eWxlRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAnbm9uZSc7XG5cdFx0XHRcdFx0XHR0aGlzLnN0eWxlRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBiZ0NvbG9yO1xuXHRcdFx0XHRcdFx0dGhpcy5zdHlsZUVsZW1lbnQuc3R5bGUuY29sb3IgPSBmZ0NvbG9yO1xuXG5cdFx0XHRcdFx0XHRpZiAodGhpcy5vdmVyd3JpdGVJbXBvcnRhbnQpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5zdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKCdzdHlsZScsXG5cdFx0XHRcdFx0XHRcdFx0J2JhY2tncm91bmQ6ICcgKyBiZ0NvbG9yICsgJyAhaW1wb3J0YW50OyAnICtcblx0XHRcdFx0XHRcdFx0XHQnY29sb3I6ICcgKyBmZ0NvbG9yICsgJyAhaW1wb3J0YW50Oydcblx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCEoZmxhZ3MgJiBqc2MubGVhdmVQYWQpICYmIGlzUGlja2VyT3duZXIoKSkge1xuXHRcdFx0XHRcdHJlZHJhd1BhZCgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICghKGZsYWdzICYganNjLmxlYXZlU2xkKSAmJiBpc1BpY2tlck93bmVyKCkpIHtcblx0XHRcdFx0XHRyZWRyYXdTbGQoKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXG5cdFx0XHQvLyBoOiAwLTM2MFxuXHRcdFx0Ly8gczogMC0xMDBcblx0XHRcdC8vIHY6IDAtMTAwXG5cdFx0XHQvL1xuXHRcdFx0dGhpcy5mcm9tSFNWID0gZnVuY3Rpb24gKGgsIHMsIHYsIGZsYWdzKSB7IC8vIG51bGwgPSBkb24ndCBjaGFuZ2Vcblx0XHRcdFx0aWYgKGggIT09IG51bGwpIHtcblx0XHRcdFx0XHRpZiAoaXNOYU4oaCkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdFx0XHRcdFx0aCA9IE1hdGgubWF4KDAsIE1hdGgubWluKDM2MCwgaCkpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChzICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0aWYgKGlzTmFOKHMpKSB7IHJldHVybiBmYWxzZTsgfVxuXHRcdFx0XHRcdHMgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxMDAsIHRoaXMubWF4UywgcyksIHRoaXMubWluUyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHYgIT09IG51bGwpIHtcblx0XHRcdFx0XHRpZiAoaXNOYU4odikpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdFx0XHRcdFx0diA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEwMCwgdGhpcy5tYXhWLCB2KSwgdGhpcy5taW5WKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMucmdiID0gSFNWX1JHQihcblx0XHRcdFx0XHRoID09PSBudWxsID8gdGhpcy5oc3ZbMF0gOiAodGhpcy5oc3ZbMF0gPSBoKSxcblx0XHRcdFx0XHRzID09PSBudWxsID8gdGhpcy5oc3ZbMV0gOiAodGhpcy5oc3ZbMV0gPSBzKSxcblx0XHRcdFx0XHR2ID09PSBudWxsID8gdGhpcy5oc3ZbMl0gOiAodGhpcy5oc3ZbMl0gPSB2KVxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdHRoaXMuZXhwb3J0Q29sb3IoZmxhZ3MpO1xuXHRcdFx0fTtcblxuXG5cdFx0XHQvLyByOiAwLTI1NVxuXHRcdFx0Ly8gZzogMC0yNTVcblx0XHRcdC8vIGI6IDAtMjU1XG5cdFx0XHQvL1xuXHRcdFx0dGhpcy5mcm9tUkdCID0gZnVuY3Rpb24gKHIsIGcsIGIsIGZsYWdzKSB7IC8vIG51bGwgPSBkb24ndCBjaGFuZ2Vcblx0XHRcdFx0aWYgKHIgIT09IG51bGwpIHtcblx0XHRcdFx0XHRpZiAoaXNOYU4ocikpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdFx0XHRcdFx0ciA9IE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgcikpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChnICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0aWYgKGlzTmFOKGcpKSB7IHJldHVybiBmYWxzZTsgfVxuXHRcdFx0XHRcdGcgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigyNTUsIGcpKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoYiAhPT0gbnVsbCkge1xuXHRcdFx0XHRcdGlmIChpc05hTihiKSkgeyByZXR1cm4gZmFsc2U7IH1cblx0XHRcdFx0XHRiID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMjU1LCBiKSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YXIgaHN2ID0gUkdCX0hTVihcblx0XHRcdFx0XHRyID09PSBudWxsID8gdGhpcy5yZ2JbMF0gOiByLFxuXHRcdFx0XHRcdGcgPT09IG51bGwgPyB0aGlzLnJnYlsxXSA6IGcsXG5cdFx0XHRcdFx0YiA9PT0gbnVsbCA/IHRoaXMucmdiWzJdIDogYlxuXHRcdFx0XHQpO1xuXHRcdFx0XHRpZiAoaHN2WzBdICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0dGhpcy5oc3ZbMF0gPSBNYXRoLm1heCgwLCBNYXRoLm1pbigzNjAsIGhzdlswXSkpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChoc3ZbMl0gIT09IDApIHtcblx0XHRcdFx0XHR0aGlzLmhzdlsxXSA9IGhzdlsxXSA9PT0gbnVsbCA/IG51bGwgOiBNYXRoLm1heCgwLCB0aGlzLm1pblMsIE1hdGgubWluKDEwMCwgdGhpcy5tYXhTLCBoc3ZbMV0pKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLmhzdlsyXSA9IGhzdlsyXSA9PT0gbnVsbCA/IG51bGwgOiBNYXRoLm1heCgwLCB0aGlzLm1pblYsIE1hdGgubWluKDEwMCwgdGhpcy5tYXhWLCBoc3ZbMl0pKTtcblxuXHRcdFx0XHQvLyB1cGRhdGUgUkdCIGFjY29yZGluZyB0byBmaW5hbCBIU1YsIGFzIHNvbWUgdmFsdWVzIG1pZ2h0IGJlIHRyaW1tZWRcblx0XHRcdFx0dmFyIHJnYiA9IEhTVl9SR0IodGhpcy5oc3ZbMF0sIHRoaXMuaHN2WzFdLCB0aGlzLmhzdlsyXSk7XG5cdFx0XHRcdHRoaXMucmdiWzBdID0gcmdiWzBdO1xuXHRcdFx0XHR0aGlzLnJnYlsxXSA9IHJnYlsxXTtcblx0XHRcdFx0dGhpcy5yZ2JbMl0gPSByZ2JbMl07XG5cblx0XHRcdFx0dGhpcy5leHBvcnRDb2xvcihmbGFncyk7XG5cdFx0XHR9O1xuXG5cblx0XHRcdHRoaXMuZnJvbVN0cmluZyA9IGZ1bmN0aW9uIChzdHIsIGZsYWdzKSB7XG5cdFx0XHRcdHZhciBtO1xuXHRcdFx0XHRpZiAobSA9IHN0ci5tYXRjaCgvXlxcVyooWzAtOUEtRl17M30oWzAtOUEtRl17M30pPylcXFcqJC9pKSkge1xuXHRcdFx0XHRcdC8vIEhFWCBub3RhdGlvblxuXHRcdFx0XHRcdC8vXG5cblx0XHRcdFx0XHRpZiAobVsxXS5sZW5ndGggPT09IDYpIHtcblx0XHRcdFx0XHRcdC8vIDYtY2hhciBub3RhdGlvblxuXHRcdFx0XHRcdFx0dGhpcy5mcm9tUkdCKFxuXHRcdFx0XHRcdFx0XHRwYXJzZUludChtWzFdLnN1YnN0cigwLCAyKSwgMTYpLFxuXHRcdFx0XHRcdFx0XHRwYXJzZUludChtWzFdLnN1YnN0cigyLCAyKSwgMTYpLFxuXHRcdFx0XHRcdFx0XHRwYXJzZUludChtWzFdLnN1YnN0cig0LCAyKSwgMTYpLFxuXHRcdFx0XHRcdFx0XHRmbGFnc1xuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Ly8gMy1jaGFyIG5vdGF0aW9uXG5cdFx0XHRcdFx0XHR0aGlzLmZyb21SR0IoXG5cdFx0XHRcdFx0XHRcdHBhcnNlSW50KG1bMV0uY2hhckF0KDApICsgbVsxXS5jaGFyQXQoMCksIDE2KSxcblx0XHRcdFx0XHRcdFx0cGFyc2VJbnQobVsxXS5jaGFyQXQoMSkgKyBtWzFdLmNoYXJBdCgxKSwgMTYpLFxuXHRcdFx0XHRcdFx0XHRwYXJzZUludChtWzFdLmNoYXJBdCgyKSArIG1bMV0uY2hhckF0KDIpLCAxNiksXG5cdFx0XHRcdFx0XHRcdGZsYWdzXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblxuXHRcdFx0XHR9IGVsc2UgaWYgKG0gPSBzdHIubWF0Y2goL15cXFcqcmdiYT9cXCgoW14pXSopXFwpXFxXKiQvaSkpIHtcblx0XHRcdFx0XHR2YXIgcGFyYW1zID0gbVsxXS5zcGxpdCgnLCcpO1xuXHRcdFx0XHRcdHZhciByZSA9IC9eXFxzKihcXGQqKShcXC5cXGQrKT9cXHMqJC87XG5cdFx0XHRcdFx0dmFyIG1SLCBtRywgbUI7XG5cdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0cGFyYW1zLmxlbmd0aCA+PSAzICYmXG5cdFx0XHRcdFx0XHQobVIgPSBwYXJhbXNbMF0ubWF0Y2gocmUpKSAmJlxuXHRcdFx0XHRcdFx0KG1HID0gcGFyYW1zWzFdLm1hdGNoKHJlKSkgJiZcblx0XHRcdFx0XHRcdChtQiA9IHBhcmFtc1syXS5tYXRjaChyZSkpXG5cdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHR2YXIgciA9IHBhcnNlRmxvYXQoKG1SWzFdIHx8ICcwJykgKyAobVJbMl0gfHwgJycpKTtcblx0XHRcdFx0XHRcdHZhciBnID0gcGFyc2VGbG9hdCgobUdbMV0gfHwgJzAnKSArIChtR1syXSB8fCAnJykpO1xuXHRcdFx0XHRcdFx0dmFyIGIgPSBwYXJzZUZsb2F0KChtQlsxXSB8fCAnMCcpICsgKG1CWzJdIHx8ICcnKSk7XG5cdFx0XHRcdFx0XHR0aGlzLmZyb21SR0IociwgZywgYiwgZmxhZ3MpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH07XG5cblxuXHRcdFx0dGhpcy50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0cmV0dXJuIChcblx0XHRcdFx0XHQoMHgxMDAgfCBNYXRoLnJvdW5kKHRoaXMucmdiWzBdKSkudG9TdHJpbmcoMTYpLnN1YnN0cigxKSArXG5cdFx0XHRcdFx0KDB4MTAwIHwgTWF0aC5yb3VuZCh0aGlzLnJnYlsxXSkpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSkgK1xuXHRcdFx0XHRcdCgweDEwMCB8IE1hdGgucm91bmQodGhpcy5yZ2JbMl0pKS50b1N0cmluZygxNikuc3Vic3RyKDEpXG5cdFx0XHRcdCk7XG5cdFx0XHR9O1xuXG5cblx0XHRcdHRoaXMudG9IRVhTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHJldHVybiAnIycgKyB0aGlzLnRvU3RyaW5nKCkudG9VcHBlckNhc2UoKTtcblx0XHRcdH07XG5cblxuXHRcdFx0dGhpcy50b1JHQlN0cmluZyA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0cmV0dXJuICgncmdiKCcgK1xuXHRcdFx0XHRcdE1hdGgucm91bmQodGhpcy5yZ2JbMF0pICsgJywnICtcblx0XHRcdFx0XHRNYXRoLnJvdW5kKHRoaXMucmdiWzFdKSArICcsJyArXG5cdFx0XHRcdFx0TWF0aC5yb3VuZCh0aGlzLnJnYlsyXSkgKyAnKSdcblx0XHRcdFx0KTtcblx0XHRcdH07XG5cblxuXHRcdFx0dGhpcy5pc0xpZ2h0ID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRcdDAuMjEzICogdGhpcy5yZ2JbMF0gK1xuXHRcdFx0XHRcdDAuNzE1ICogdGhpcy5yZ2JbMV0gK1xuXHRcdFx0XHRcdDAuMDcyICogdGhpcy5yZ2JbMl0gPlxuXHRcdFx0XHRcdDI1NSAvIDJcblx0XHRcdFx0KTtcblx0XHRcdH07XG5cblxuXHRcdFx0dGhpcy5fcHJvY2Vzc1BhcmVudEVsZW1lbnRzSW5ET00gPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdGlmICh0aGlzLl9saW5rZWRFbGVtZW50c1Byb2Nlc3NlZCkgeyByZXR1cm47IH1cblx0XHRcdFx0dGhpcy5fbGlua2VkRWxlbWVudHNQcm9jZXNzZWQgPSB0cnVlO1xuXG5cdFx0XHRcdHZhciBlbG0gPSB0aGlzLnRhcmdldEVsZW1lbnQ7XG5cdFx0XHRcdGRvIHtcblx0XHRcdFx0XHQvLyBJZiB0aGUgdGFyZ2V0IGVsZW1lbnQgb3Igb25lIG9mIGl0cyBwYXJlbnQgbm9kZXMgaGFzIGZpeGVkIHBvc2l0aW9uLFxuXHRcdFx0XHRcdC8vIHRoZW4gdXNlIGZpeGVkIHBvc2l0aW9uaW5nIGluc3RlYWRcblx0XHRcdFx0XHQvL1xuXHRcdFx0XHRcdC8vIE5vdGU6IEluIEZpcmVmb3gsIGdldENvbXB1dGVkU3R5bGUgcmV0dXJucyBudWxsIGluIGEgaGlkZGVuIGlmcmFtZSxcblx0XHRcdFx0XHQvLyB0aGF0J3Mgd2h5IHdlIG5lZWQgdG8gY2hlY2sgaWYgdGhlIHJldHVybmVkIHN0eWxlIG9iamVjdCBpcyBub24tZW1wdHlcblx0XHRcdFx0XHR2YXIgY3VyclN0eWxlID0ganNjLmdldFN0eWxlKGVsbSk7XG5cdFx0XHRcdFx0aWYgKGN1cnJTdHlsZSAmJiBjdXJyU3R5bGUucG9zaXRpb24udG9Mb3dlckNhc2UoKSA9PT0gJ2ZpeGVkJykge1xuXHRcdFx0XHRcdFx0dGhpcy5maXhlZCA9IHRydWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKGVsbSAhPT0gdGhpcy50YXJnZXRFbGVtZW50KSB7XG5cdFx0XHRcdFx0XHQvLyBFbnN1cmUgdG8gYXR0YWNoIG9uUGFyZW50U2Nyb2xsIG9ubHkgb25jZSB0byBlYWNoIHBhcmVudCBlbGVtZW50XG5cdFx0XHRcdFx0XHQvLyAobXVsdGlwbGUgdGFyZ2V0RWxlbWVudHMgY2FuIHNoYXJlIHRoZSBzYW1lIHBhcmVudCBub2Rlcylcblx0XHRcdFx0XHRcdC8vXG5cdFx0XHRcdFx0XHQvLyBOb3RlOiBJdCdzIG5vdCBqdXN0IG9mZnNldFBhcmVudHMgdGhhdCBjYW4gYmUgc2Nyb2xsYWJsZSxcblx0XHRcdFx0XHRcdC8vIHRoYXQncyB3aHkgd2UgbG9vcCB0aHJvdWdoIGFsbCBwYXJlbnQgbm9kZXNcblx0XHRcdFx0XHRcdGlmICghZWxtLl9qc2NFdmVudHNBdHRhY2hlZCkge1xuXHRcdFx0XHRcdFx0XHRqc2MuYXR0YWNoRXZlbnQoZWxtLCAnc2Nyb2xsJywganNjLm9uUGFyZW50U2Nyb2xsKTtcblx0XHRcdFx0XHRcdFx0ZWxtLl9qc2NFdmVudHNBdHRhY2hlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IHdoaWxlICgoZWxtID0gZWxtLnBhcmVudE5vZGUpICYmICFqc2MuaXNFbGVtZW50VHlwZShlbG0sICdib2R5JykpO1xuXHRcdFx0fTtcblxuXG5cdFx0XHQvLyByOiAwLTI1NVxuXHRcdFx0Ly8gZzogMC0yNTVcblx0XHRcdC8vIGI6IDAtMjU1XG5cdFx0XHQvL1xuXHRcdFx0Ly8gcmV0dXJuczogWyAwLTM2MCwgMC0xMDAsIDAtMTAwIF1cblx0XHRcdC8vXG5cdFx0XHRmdW5jdGlvbiBSR0JfSFNWKHIsIGcsIGIpIHtcblx0XHRcdFx0ciAvPSAyNTU7XG5cdFx0XHRcdGcgLz0gMjU1O1xuXHRcdFx0XHRiIC89IDI1NTtcblx0XHRcdFx0dmFyIG4gPSBNYXRoLm1pbihNYXRoLm1pbihyLCBnKSwgYik7XG5cdFx0XHRcdHZhciB2ID0gTWF0aC5tYXgoTWF0aC5tYXgociwgZyksIGIpO1xuXHRcdFx0XHR2YXIgbSA9IHYgLSBuO1xuXHRcdFx0XHRpZiAobSA9PT0gMCkgeyByZXR1cm4gW251bGwsIDAsIDEwMCAqIHZdOyB9XG5cdFx0XHRcdHZhciBoID0gciA9PT0gbiA/IDMgKyAoYiAtIGcpIC8gbSA6IChnID09PSBuID8gNSArIChyIC0gYikgLyBtIDogMSArIChnIC0gcikgLyBtKTtcblx0XHRcdFx0cmV0dXJuIFtcblx0XHRcdFx0XHQ2MCAqIChoID09PSA2ID8gMCA6IGgpLFxuXHRcdFx0XHRcdDEwMCAqIChtIC8gdiksXG5cdFx0XHRcdFx0MTAwICogdlxuXHRcdFx0XHRdO1xuXHRcdFx0fVxuXG5cblx0XHRcdC8vIGg6IDAtMzYwXG5cdFx0XHQvLyBzOiAwLTEwMFxuXHRcdFx0Ly8gdjogMC0xMDBcblx0XHRcdC8vXG5cdFx0XHQvLyByZXR1cm5zOiBbIDAtMjU1LCAwLTI1NSwgMC0yNTUgXVxuXHRcdFx0Ly9cblx0XHRcdGZ1bmN0aW9uIEhTVl9SR0IoaCwgcywgdikge1xuXHRcdFx0XHR2YXIgdSA9IDI1NSAqICh2IC8gMTAwKTtcblxuXHRcdFx0XHRpZiAoaCA9PT0gbnVsbCkge1xuXHRcdFx0XHRcdHJldHVybiBbdSwgdSwgdV07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRoIC89IDYwO1xuXHRcdFx0XHRzIC89IDEwMDtcblxuXHRcdFx0XHR2YXIgaSA9IE1hdGguZmxvb3IoaCk7XG5cdFx0XHRcdHZhciBmID0gaSAlIDIgPyBoIC0gaSA6IDEgLSAoaCAtIGkpO1xuXHRcdFx0XHR2YXIgbSA9IHUgKiAoMSAtIHMpO1xuXHRcdFx0XHR2YXIgbiA9IHUgKiAoMSAtIHMgKiBmKTtcblx0XHRcdFx0c3dpdGNoIChpKSB7XG5cdFx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdGNhc2UgMDogcmV0dXJuIFt1LCBuLCBtXTtcblx0XHRcdFx0XHRjYXNlIDE6IHJldHVybiBbbiwgdSwgbV07XG5cdFx0XHRcdFx0Y2FzZSAyOiByZXR1cm4gW20sIHUsIG5dO1xuXHRcdFx0XHRcdGNhc2UgMzogcmV0dXJuIFttLCBuLCB1XTtcblx0XHRcdFx0XHRjYXNlIDQ6IHJldHVybiBbbiwgbSwgdV07XG5cdFx0XHRcdFx0Y2FzZSA1OiByZXR1cm4gW3UsIG0sIG5dO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblxuXHRcdFx0ZnVuY3Rpb24gZGV0YWNoUGlja2VyKCkge1xuXHRcdFx0XHRqc2MudW5zZXRDbGFzcyhUSElTLnRhcmdldEVsZW1lbnQsIFRISVMuYWN0aXZlQ2xhc3MpO1xuXHRcdFx0XHRqc2MucGlja2VyLndyYXAucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChqc2MucGlja2VyLndyYXApO1xuXHRcdFx0XHRkZWxldGUganNjLnBpY2tlci5vd25lcjtcblx0XHRcdH1cblxuXG5cdFx0XHRmdW5jdGlvbiBkcmF3UGlja2VyKCkge1xuXG5cdFx0XHRcdC8vIEF0IHRoaXMgcG9pbnQsIHdoZW4gZHJhd2luZyB0aGUgcGlja2VyLCB3ZSBrbm93IHdoYXQgdGhlIHBhcmVudCBlbGVtZW50cyBhcmVcblx0XHRcdFx0Ly8gYW5kIHdlIGNhbiBkbyBhbGwgcmVsYXRlZCBET00gb3BlcmF0aW9ucywgc3VjaCBhcyByZWdpc3RlcmluZyBldmVudHMgb24gdGhlbVxuXHRcdFx0XHQvLyBvciBjaGVja2luZyB0aGVpciBwb3NpdGlvbmluZ1xuXHRcdFx0XHRUSElTLl9wcm9jZXNzUGFyZW50RWxlbWVudHNJbkRPTSgpO1xuXG5cdFx0XHRcdGlmICghanNjLnBpY2tlcikge1xuXHRcdFx0XHRcdGpzYy5waWNrZXIgPSB7XG5cdFx0XHRcdFx0XHRvd25lcjogbnVsbCxcblx0XHRcdFx0XHRcdHdyYXA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuXHRcdFx0XHRcdFx0Ym94OiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcblx0XHRcdFx0XHRcdGJveFM6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLCAvLyBzaGFkb3cgYXJlYVxuXHRcdFx0XHRcdFx0Ym94QjogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksIC8vIGJvcmRlclxuXHRcdFx0XHRcdFx0cGFkOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcblx0XHRcdFx0XHRcdHBhZEI6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLCAvLyBib3JkZXJcblx0XHRcdFx0XHRcdHBhZE06IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLCAvLyBtb3VzZS90b3VjaCBhcmVhXG5cdFx0XHRcdFx0XHRwYWRQYWw6IGpzYy5jcmVhdGVQYWxldHRlKCksXG5cdFx0XHRcdFx0XHRjcm9zczogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG5cdFx0XHRcdFx0XHRjcm9zc0JZOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSwgLy8gYm9yZGVyIFlcblx0XHRcdFx0XHRcdGNyb3NzQlg6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLCAvLyBib3JkZXIgWFxuXHRcdFx0XHRcdFx0Y3Jvc3NMWTogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksIC8vIGxpbmUgWVxuXHRcdFx0XHRcdFx0Y3Jvc3NMWDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksIC8vIGxpbmUgWFxuXHRcdFx0XHRcdFx0c2xkOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcblx0XHRcdFx0XHRcdHNsZEI6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLCAvLyBib3JkZXJcblx0XHRcdFx0XHRcdHNsZE06IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLCAvLyBtb3VzZS90b3VjaCBhcmVhXG5cdFx0XHRcdFx0XHRzbGRHcmFkOiBqc2MuY3JlYXRlU2xpZGVyR3JhZGllbnQoKSxcblx0XHRcdFx0XHRcdHNsZFB0clM6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLCAvLyBzbGlkZXIgcG9pbnRlciBzcGFjZXJcblx0XHRcdFx0XHRcdHNsZFB0cklCOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSwgLy8gc2xpZGVyIHBvaW50ZXIgaW5uZXIgYm9yZGVyXG5cdFx0XHRcdFx0XHRzbGRQdHJNQjogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksIC8vIHNsaWRlciBwb2ludGVyIG1pZGRsZSBib3JkZXJcblx0XHRcdFx0XHRcdHNsZFB0ck9COiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSwgLy8gc2xpZGVyIHBvaW50ZXIgb3V0ZXIgYm9yZGVyXG5cdFx0XHRcdFx0XHRidG46IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuXHRcdFx0XHRcdFx0YnRuVDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpIC8vIHRleHRcblx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0anNjLnBpY2tlci5wYWQuYXBwZW5kQ2hpbGQoanNjLnBpY2tlci5wYWRQYWwuZWxtKTtcblx0XHRcdFx0XHRqc2MucGlja2VyLnBhZEIuYXBwZW5kQ2hpbGQoanNjLnBpY2tlci5wYWQpO1xuXHRcdFx0XHRcdGpzYy5waWNrZXIuY3Jvc3MuYXBwZW5kQ2hpbGQoanNjLnBpY2tlci5jcm9zc0JZKTtcblx0XHRcdFx0XHRqc2MucGlja2VyLmNyb3NzLmFwcGVuZENoaWxkKGpzYy5waWNrZXIuY3Jvc3NCWCk7XG5cdFx0XHRcdFx0anNjLnBpY2tlci5jcm9zcy5hcHBlbmRDaGlsZChqc2MucGlja2VyLmNyb3NzTFkpO1xuXHRcdFx0XHRcdGpzYy5waWNrZXIuY3Jvc3MuYXBwZW5kQ2hpbGQoanNjLnBpY2tlci5jcm9zc0xYKTtcblx0XHRcdFx0XHRqc2MucGlja2VyLnBhZEIuYXBwZW5kQ2hpbGQoanNjLnBpY2tlci5jcm9zcyk7XG5cdFx0XHRcdFx0anNjLnBpY2tlci5ib3guYXBwZW5kQ2hpbGQoanNjLnBpY2tlci5wYWRCKTtcblx0XHRcdFx0XHRqc2MucGlja2VyLmJveC5hcHBlbmRDaGlsZChqc2MucGlja2VyLnBhZE0pO1xuXG5cdFx0XHRcdFx0anNjLnBpY2tlci5zbGQuYXBwZW5kQ2hpbGQoanNjLnBpY2tlci5zbGRHcmFkLmVsbSk7XG5cdFx0XHRcdFx0anNjLnBpY2tlci5zbGRCLmFwcGVuZENoaWxkKGpzYy5waWNrZXIuc2xkKTtcblx0XHRcdFx0XHRqc2MucGlja2VyLnNsZEIuYXBwZW5kQ2hpbGQoanNjLnBpY2tlci5zbGRQdHJPQik7XG5cdFx0XHRcdFx0anNjLnBpY2tlci5zbGRQdHJPQi5hcHBlbmRDaGlsZChqc2MucGlja2VyLnNsZFB0ck1CKTtcblx0XHRcdFx0XHRqc2MucGlja2VyLnNsZFB0ck1CLmFwcGVuZENoaWxkKGpzYy5waWNrZXIuc2xkUHRySUIpO1xuXHRcdFx0XHRcdGpzYy5waWNrZXIuc2xkUHRySUIuYXBwZW5kQ2hpbGQoanNjLnBpY2tlci5zbGRQdHJTKTtcblx0XHRcdFx0XHRqc2MucGlja2VyLmJveC5hcHBlbmRDaGlsZChqc2MucGlja2VyLnNsZEIpO1xuXHRcdFx0XHRcdGpzYy5waWNrZXIuYm94LmFwcGVuZENoaWxkKGpzYy5waWNrZXIuc2xkTSk7XG5cblx0XHRcdFx0XHRqc2MucGlja2VyLmJ0bi5hcHBlbmRDaGlsZChqc2MucGlja2VyLmJ0blQpO1xuXHRcdFx0XHRcdGpzYy5waWNrZXIuYm94LmFwcGVuZENoaWxkKGpzYy5waWNrZXIuYnRuKTtcblxuXHRcdFx0XHRcdGpzYy5waWNrZXIuYm94Qi5hcHBlbmRDaGlsZChqc2MucGlja2VyLmJveCk7XG5cdFx0XHRcdFx0anNjLnBpY2tlci53cmFwLmFwcGVuZENoaWxkKGpzYy5waWNrZXIuYm94Uyk7XG5cdFx0XHRcdFx0anNjLnBpY2tlci53cmFwLmFwcGVuZENoaWxkKGpzYy5waWNrZXIuYm94Qik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YXIgcCA9IGpzYy5waWNrZXI7XG5cblx0XHRcdFx0dmFyIGRpc3BsYXlTbGlkZXIgPSAhIWpzYy5nZXRTbGlkZXJDb21wb25lbnQoVEhJUyk7XG5cdFx0XHRcdHZhciBkaW1zID0ganNjLmdldFBpY2tlckRpbXMoVEhJUyk7XG5cdFx0XHRcdHZhciBjcm9zc091dGVyU2l6ZSA9ICgyICogVEhJUy5wb2ludGVyQm9yZGVyV2lkdGggKyBUSElTLnBvaW50ZXJUaGlja25lc3MgKyAyICogVEhJUy5jcm9zc1NpemUpO1xuXHRcdFx0XHR2YXIgcGFkVG9TbGlkZXJQYWRkaW5nID0ganNjLmdldFBhZFRvU2xpZGVyUGFkZGluZyhUSElTKTtcblx0XHRcdFx0dmFyIGJvcmRlclJhZGl1cyA9IE1hdGgubWluKFxuXHRcdFx0XHRcdFRISVMuYm9yZGVyUmFkaXVzLFxuXHRcdFx0XHRcdE1hdGgucm91bmQoVEhJUy5wYWRkaW5nICogTWF0aC5QSSkpOyAvLyBweFxuXHRcdFx0XHR2YXIgcGFkQ3Vyc29yID0gJ2Nyb3NzaGFpcic7XG5cblx0XHRcdFx0Ly8gd3JhcFxuXHRcdFx0XHRwLndyYXAuc3R5bGUuY2xlYXIgPSAnYm90aCc7XG5cdFx0XHRcdHAud3JhcC5zdHlsZS53aWR0aCA9IChkaW1zWzBdICsgMiAqIFRISVMuYm9yZGVyV2lkdGgpICsgJ3B4Jztcblx0XHRcdFx0cC53cmFwLnN0eWxlLmhlaWdodCA9IChkaW1zWzFdICsgMiAqIFRISVMuYm9yZGVyV2lkdGgpICsgJ3B4Jztcblx0XHRcdFx0cC53cmFwLnN0eWxlLnpJbmRleCA9IFRISVMuekluZGV4O1xuXG5cdFx0XHRcdC8vIHBpY2tlclxuXHRcdFx0XHRwLmJveC5zdHlsZS53aWR0aCA9IGRpbXNbMF0gKyAncHgnO1xuXHRcdFx0XHRwLmJveC5zdHlsZS5oZWlnaHQgPSBkaW1zWzFdICsgJ3B4JztcblxuXHRcdFx0XHRwLmJveFMuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuXHRcdFx0XHRwLmJveFMuc3R5bGUubGVmdCA9ICcwJztcblx0XHRcdFx0cC5ib3hTLnN0eWxlLnRvcCA9ICcwJztcblx0XHRcdFx0cC5ib3hTLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuXHRcdFx0XHRwLmJveFMuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuXHRcdFx0XHRqc2Muc2V0Qm9yZGVyUmFkaXVzKHAuYm94UywgYm9yZGVyUmFkaXVzICsgJ3B4Jyk7XG5cblx0XHRcdFx0Ly8gcGlja2VyIGJvcmRlclxuXHRcdFx0XHRwLmJveEIuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuXHRcdFx0XHRwLmJveEIuc3R5bGUuYm9yZGVyID0gVEhJUy5ib3JkZXJXaWR0aCArICdweCBzb2xpZCc7XG5cdFx0XHRcdHAuYm94Qi5zdHlsZS5ib3JkZXJDb2xvciA9IFRISVMuYm9yZGVyQ29sb3I7XG5cdFx0XHRcdHAuYm94Qi5zdHlsZS5iYWNrZ3JvdW5kID0gVEhJUy5iYWNrZ3JvdW5kQ29sb3I7XG5cdFx0XHRcdGpzYy5zZXRCb3JkZXJSYWRpdXMocC5ib3hCLCBib3JkZXJSYWRpdXMgKyAncHgnKTtcblxuXHRcdFx0XHQvLyBJRSBoYWNrOlxuXHRcdFx0XHQvLyBJZiB0aGUgZWxlbWVudCBpcyB0cmFuc3BhcmVudCwgSUUgd2lsbCB0cmlnZ2VyIHRoZSBldmVudCBvbiB0aGUgZWxlbWVudHMgdW5kZXIgaXQsXG5cdFx0XHRcdC8vIGUuZy4gb24gQ2FudmFzIG9yIG9uIGVsZW1lbnRzIHdpdGggYm9yZGVyXG5cdFx0XHRcdHAucGFkTS5zdHlsZS5iYWNrZ3JvdW5kID1cblx0XHRcdFx0XHRwLnNsZE0uc3R5bGUuYmFja2dyb3VuZCA9XG5cdFx0XHRcdFx0JyNGRkYnO1xuXHRcdFx0XHRqc2Muc2V0U3R5bGUocC5wYWRNLCAnb3BhY2l0eScsICcwJyk7XG5cdFx0XHRcdGpzYy5zZXRTdHlsZShwLnNsZE0sICdvcGFjaXR5JywgJzAnKTtcblxuXHRcdFx0XHQvLyBwYWRcblx0XHRcdFx0cC5wYWQuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuXHRcdFx0XHRwLnBhZC5zdHlsZS53aWR0aCA9IFRISVMud2lkdGggKyAncHgnO1xuXHRcdFx0XHRwLnBhZC5zdHlsZS5oZWlnaHQgPSBUSElTLmhlaWdodCArICdweCc7XG5cblx0XHRcdFx0Ly8gcGFkIHBhbGV0dGVzIChIU1YgYW5kIEhWUylcblx0XHRcdFx0cC5wYWRQYWwuZHJhdyhUSElTLndpZHRoLCBUSElTLmhlaWdodCwganNjLmdldFBhZFlDb21wb25lbnQoVEhJUykpO1xuXG5cdFx0XHRcdC8vIHBhZCBib3JkZXJcblx0XHRcdFx0cC5wYWRCLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcblx0XHRcdFx0cC5wYWRCLnN0eWxlLmxlZnQgPSBUSElTLnBhZGRpbmcgKyAncHgnO1xuXHRcdFx0XHRwLnBhZEIuc3R5bGUudG9wID0gVEhJUy5wYWRkaW5nICsgJ3B4Jztcblx0XHRcdFx0cC5wYWRCLnN0eWxlLmJvcmRlciA9IFRISVMuaW5zZXRXaWR0aCArICdweCBzb2xpZCc7XG5cdFx0XHRcdHAucGFkQi5zdHlsZS5ib3JkZXJDb2xvciA9IFRISVMuaW5zZXRDb2xvcjtcblxuXHRcdFx0XHQvLyBwYWQgbW91c2UgYXJlYVxuXHRcdFx0XHRwLnBhZE0uX2pzY0luc3RhbmNlID0gVEhJUztcblx0XHRcdFx0cC5wYWRNLl9qc2NDb250cm9sTmFtZSA9ICdwYWQnO1xuXHRcdFx0XHRwLnBhZE0uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuXHRcdFx0XHRwLnBhZE0uc3R5bGUubGVmdCA9ICcwJztcblx0XHRcdFx0cC5wYWRNLnN0eWxlLnRvcCA9ICcwJztcblx0XHRcdFx0cC5wYWRNLnN0eWxlLndpZHRoID0gKFRISVMucGFkZGluZyArIDIgKiBUSElTLmluc2V0V2lkdGggKyBUSElTLndpZHRoICsgcGFkVG9TbGlkZXJQYWRkaW5nIC8gMikgKyAncHgnO1xuXHRcdFx0XHRwLnBhZE0uc3R5bGUuaGVpZ2h0ID0gZGltc1sxXSArICdweCc7XG5cdFx0XHRcdHAucGFkTS5zdHlsZS5jdXJzb3IgPSBwYWRDdXJzb3I7XG5cblx0XHRcdFx0Ly8gcGFkIGNyb3NzXG5cdFx0XHRcdHAuY3Jvc3Muc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuXHRcdFx0XHRwLmNyb3NzLnN0eWxlLmxlZnQgPVxuXHRcdFx0XHRcdHAuY3Jvc3Muc3R5bGUudG9wID1cblx0XHRcdFx0XHQnMCc7XG5cdFx0XHRcdHAuY3Jvc3Muc3R5bGUud2lkdGggPVxuXHRcdFx0XHRcdHAuY3Jvc3Muc3R5bGUuaGVpZ2h0ID1cblx0XHRcdFx0XHRjcm9zc091dGVyU2l6ZSArICdweCc7XG5cblx0XHRcdFx0Ly8gcGFkIGNyb3NzIGJvcmRlciBZIGFuZCBYXG5cdFx0XHRcdHAuY3Jvc3NCWS5zdHlsZS5wb3NpdGlvbiA9XG5cdFx0XHRcdFx0cC5jcm9zc0JYLnN0eWxlLnBvc2l0aW9uID1cblx0XHRcdFx0XHQnYWJzb2x1dGUnO1xuXHRcdFx0XHRwLmNyb3NzQlkuc3R5bGUuYmFja2dyb3VuZCA9XG5cdFx0XHRcdFx0cC5jcm9zc0JYLnN0eWxlLmJhY2tncm91bmQgPVxuXHRcdFx0XHRcdFRISVMucG9pbnRlckJvcmRlckNvbG9yO1xuXHRcdFx0XHRwLmNyb3NzQlkuc3R5bGUud2lkdGggPVxuXHRcdFx0XHRcdHAuY3Jvc3NCWC5zdHlsZS5oZWlnaHQgPVxuXHRcdFx0XHRcdCgyICogVEhJUy5wb2ludGVyQm9yZGVyV2lkdGggKyBUSElTLnBvaW50ZXJUaGlja25lc3MpICsgJ3B4Jztcblx0XHRcdFx0cC5jcm9zc0JZLnN0eWxlLmhlaWdodCA9XG5cdFx0XHRcdFx0cC5jcm9zc0JYLnN0eWxlLndpZHRoID1cblx0XHRcdFx0XHRjcm9zc091dGVyU2l6ZSArICdweCc7XG5cdFx0XHRcdHAuY3Jvc3NCWS5zdHlsZS5sZWZ0ID1cblx0XHRcdFx0XHRwLmNyb3NzQlguc3R5bGUudG9wID1cblx0XHRcdFx0XHQoTWF0aC5mbG9vcihjcm9zc091dGVyU2l6ZSAvIDIpIC0gTWF0aC5mbG9vcihUSElTLnBvaW50ZXJUaGlja25lc3MgLyAyKSAtIFRISVMucG9pbnRlckJvcmRlcldpZHRoKSArICdweCc7XG5cdFx0XHRcdHAuY3Jvc3NCWS5zdHlsZS50b3AgPVxuXHRcdFx0XHRcdHAuY3Jvc3NCWC5zdHlsZS5sZWZ0ID1cblx0XHRcdFx0XHQnMCc7XG5cblx0XHRcdFx0Ly8gcGFkIGNyb3NzIGxpbmUgWSBhbmQgWFxuXHRcdFx0XHRwLmNyb3NzTFkuc3R5bGUucG9zaXRpb24gPVxuXHRcdFx0XHRcdHAuY3Jvc3NMWC5zdHlsZS5wb3NpdGlvbiA9XG5cdFx0XHRcdFx0J2Fic29sdXRlJztcblx0XHRcdFx0cC5jcm9zc0xZLnN0eWxlLmJhY2tncm91bmQgPVxuXHRcdFx0XHRcdHAuY3Jvc3NMWC5zdHlsZS5iYWNrZ3JvdW5kID1cblx0XHRcdFx0XHRUSElTLnBvaW50ZXJDb2xvcjtcblx0XHRcdFx0cC5jcm9zc0xZLnN0eWxlLmhlaWdodCA9XG5cdFx0XHRcdFx0cC5jcm9zc0xYLnN0eWxlLndpZHRoID1cblx0XHRcdFx0XHQoY3Jvc3NPdXRlclNpemUgLSAyICogVEhJUy5wb2ludGVyQm9yZGVyV2lkdGgpICsgJ3B4Jztcblx0XHRcdFx0cC5jcm9zc0xZLnN0eWxlLndpZHRoID1cblx0XHRcdFx0XHRwLmNyb3NzTFguc3R5bGUuaGVpZ2h0ID1cblx0XHRcdFx0XHRUSElTLnBvaW50ZXJUaGlja25lc3MgKyAncHgnO1xuXHRcdFx0XHRwLmNyb3NzTFkuc3R5bGUubGVmdCA9XG5cdFx0XHRcdFx0cC5jcm9zc0xYLnN0eWxlLnRvcCA9XG5cdFx0XHRcdFx0KE1hdGguZmxvb3IoY3Jvc3NPdXRlclNpemUgLyAyKSAtIE1hdGguZmxvb3IoVEhJUy5wb2ludGVyVGhpY2tuZXNzIC8gMikpICsgJ3B4Jztcblx0XHRcdFx0cC5jcm9zc0xZLnN0eWxlLnRvcCA9XG5cdFx0XHRcdFx0cC5jcm9zc0xYLnN0eWxlLmxlZnQgPVxuXHRcdFx0XHRcdFRISVMucG9pbnRlckJvcmRlcldpZHRoICsgJ3B4JztcblxuXHRcdFx0XHQvLyBzbGlkZXJcblx0XHRcdFx0cC5zbGQuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcblx0XHRcdFx0cC5zbGQuc3R5bGUud2lkdGggPSBUSElTLnNsaWRlclNpemUgKyAncHgnO1xuXHRcdFx0XHRwLnNsZC5zdHlsZS5oZWlnaHQgPSBUSElTLmhlaWdodCArICdweCc7XG5cblx0XHRcdFx0Ly8gc2xpZGVyIGdyYWRpZW50XG5cdFx0XHRcdHAuc2xkR3JhZC5kcmF3KFRISVMuc2xpZGVyU2l6ZSwgVEhJUy5oZWlnaHQsICcjMDAwJywgJyMwMDAnKTtcblxuXHRcdFx0XHQvLyBzbGlkZXIgYm9yZGVyXG5cdFx0XHRcdHAuc2xkQi5zdHlsZS5kaXNwbGF5ID0gZGlzcGxheVNsaWRlciA/ICdibG9jaycgOiAnbm9uZSc7XG5cdFx0XHRcdHAuc2xkQi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG5cdFx0XHRcdHAuc2xkQi5zdHlsZS5yaWdodCA9IFRISVMucGFkZGluZyArICdweCc7XG5cdFx0XHRcdHAuc2xkQi5zdHlsZS50b3AgPSBUSElTLnBhZGRpbmcgKyAncHgnO1xuXHRcdFx0XHRwLnNsZEIuc3R5bGUuYm9yZGVyID0gVEhJUy5pbnNldFdpZHRoICsgJ3B4IHNvbGlkJztcblx0XHRcdFx0cC5zbGRCLnN0eWxlLmJvcmRlckNvbG9yID0gVEhJUy5pbnNldENvbG9yO1xuXG5cdFx0XHRcdC8vIHNsaWRlciBtb3VzZSBhcmVhXG5cdFx0XHRcdHAuc2xkTS5fanNjSW5zdGFuY2UgPSBUSElTO1xuXHRcdFx0XHRwLnNsZE0uX2pzY0NvbnRyb2xOYW1lID0gJ3NsZCc7XG5cdFx0XHRcdHAuc2xkTS5zdHlsZS5kaXNwbGF5ID0gZGlzcGxheVNsaWRlciA/ICdibG9jaycgOiAnbm9uZSc7XG5cdFx0XHRcdHAuc2xkTS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG5cdFx0XHRcdHAuc2xkTS5zdHlsZS5yaWdodCA9ICcwJztcblx0XHRcdFx0cC5zbGRNLnN0eWxlLnRvcCA9ICcwJztcblx0XHRcdFx0cC5zbGRNLnN0eWxlLndpZHRoID0gKFRISVMuc2xpZGVyU2l6ZSArIHBhZFRvU2xpZGVyUGFkZGluZyAvIDIgKyBUSElTLnBhZGRpbmcgKyAyICogVEhJUy5pbnNldFdpZHRoKSArICdweCc7XG5cdFx0XHRcdHAuc2xkTS5zdHlsZS5oZWlnaHQgPSBkaW1zWzFdICsgJ3B4Jztcblx0XHRcdFx0cC5zbGRNLnN0eWxlLmN1cnNvciA9ICdkZWZhdWx0JztcblxuXHRcdFx0XHQvLyBzbGlkZXIgcG9pbnRlciBpbm5lciBhbmQgb3V0ZXIgYm9yZGVyXG5cdFx0XHRcdHAuc2xkUHRySUIuc3R5bGUuYm9yZGVyID1cblx0XHRcdFx0XHRwLnNsZFB0ck9CLnN0eWxlLmJvcmRlciA9XG5cdFx0XHRcdFx0VEhJUy5wb2ludGVyQm9yZGVyV2lkdGggKyAncHggc29saWQgJyArIFRISVMucG9pbnRlckJvcmRlckNvbG9yO1xuXG5cdFx0XHRcdC8vIHNsaWRlciBwb2ludGVyIG91dGVyIGJvcmRlclxuXHRcdFx0XHRwLnNsZFB0ck9CLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcblx0XHRcdFx0cC5zbGRQdHJPQi5zdHlsZS5sZWZ0ID0gLSgyICogVEhJUy5wb2ludGVyQm9yZGVyV2lkdGggKyBUSElTLnBvaW50ZXJUaGlja25lc3MpICsgJ3B4Jztcblx0XHRcdFx0cC5zbGRQdHJPQi5zdHlsZS50b3AgPSAnMCc7XG5cblx0XHRcdFx0Ly8gc2xpZGVyIHBvaW50ZXIgbWlkZGxlIGJvcmRlclxuXHRcdFx0XHRwLnNsZFB0ck1CLnN0eWxlLmJvcmRlciA9IFRISVMucG9pbnRlclRoaWNrbmVzcyArICdweCBzb2xpZCAnICsgVEhJUy5wb2ludGVyQ29sb3I7XG5cblx0XHRcdFx0Ly8gc2xpZGVyIHBvaW50ZXIgc3BhY2VyXG5cdFx0XHRcdHAuc2xkUHRyUy5zdHlsZS53aWR0aCA9IFRISVMuc2xpZGVyU2l6ZSArICdweCc7XG5cdFx0XHRcdHAuc2xkUHRyUy5zdHlsZS5oZWlnaHQgPSBzbGlkZXJQdHJTcGFjZSArICdweCc7XG5cblx0XHRcdFx0Ly8gdGhlIENsb3NlIGJ1dHRvblxuXHRcdFx0XHRmdW5jdGlvbiBzZXRCdG5Cb3JkZXIoKSB7XG5cdFx0XHRcdFx0dmFyIGluc2V0Q29sb3JzID0gVEhJUy5pbnNldENvbG9yLnNwbGl0KC9cXHMrLyk7XG5cdFx0XHRcdFx0dmFyIG91dHNldENvbG9yID0gaW5zZXRDb2xvcnMubGVuZ3RoIDwgMiA/IGluc2V0Q29sb3JzWzBdIDogaW5zZXRDb2xvcnNbMV0gKyAnICcgKyBpbnNldENvbG9yc1swXSArICcgJyArIGluc2V0Q29sb3JzWzBdICsgJyAnICsgaW5zZXRDb2xvcnNbMV07XG5cdFx0XHRcdFx0cC5idG4uc3R5bGUuYm9yZGVyQ29sb3IgPSBvdXRzZXRDb2xvcjtcblx0XHRcdFx0fVxuXHRcdFx0XHRwLmJ0bi5zdHlsZS5kaXNwbGF5ID0gVEhJUy5jbG9zYWJsZSA/ICdibG9jaycgOiAnbm9uZSc7XG5cdFx0XHRcdHAuYnRuLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcblx0XHRcdFx0cC5idG4uc3R5bGUubGVmdCA9IFRISVMucGFkZGluZyArICdweCc7XG5cdFx0XHRcdHAuYnRuLnN0eWxlLmJvdHRvbSA9IFRISVMucGFkZGluZyArICdweCc7XG5cdFx0XHRcdHAuYnRuLnN0eWxlLnBhZGRpbmcgPSAnMCAxNXB4Jztcblx0XHRcdFx0cC5idG4uc3R5bGUuaGVpZ2h0ID0gVEhJUy5idXR0b25IZWlnaHQgKyAncHgnO1xuXHRcdFx0XHRwLmJ0bi5zdHlsZS5ib3JkZXIgPSBUSElTLmluc2V0V2lkdGggKyAncHggc29saWQnO1xuXHRcdFx0XHRzZXRCdG5Cb3JkZXIoKTtcblx0XHRcdFx0cC5idG4uc3R5bGUuY29sb3IgPSBUSElTLmJ1dHRvbkNvbG9yO1xuXHRcdFx0XHRwLmJ0bi5zdHlsZS5mb250ID0gJzEycHggc2Fucy1zZXJpZic7XG5cdFx0XHRcdHAuYnRuLnN0eWxlLnRleHRBbGlnbiA9ICdjZW50ZXInO1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdHAuYnRuLnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcblx0XHRcdFx0fSBjYXRjaCAoZU9sZElFKSB7XG5cdFx0XHRcdFx0cC5idG4uc3R5bGUuY3Vyc29yID0gJ2hhbmQnO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHAuYnRuLm9ubW91c2Vkb3duID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFRISVMuaGlkZSgpO1xuXHRcdFx0XHR9O1xuXHRcdFx0XHRwLmJ0blQuc3R5bGUubGluZUhlaWdodCA9IFRISVMuYnV0dG9uSGVpZ2h0ICsgJ3B4Jztcblx0XHRcdFx0cC5idG5ULmlubmVySFRNTCA9ICcnO1xuXHRcdFx0XHRwLmJ0blQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoVEhJUy5jbG9zZVRleHQpKTtcblxuXHRcdFx0XHQvLyBwbGFjZSBwb2ludGVyc1xuXHRcdFx0XHRyZWRyYXdQYWQoKTtcblx0XHRcdFx0cmVkcmF3U2xkKCk7XG5cblx0XHRcdFx0Ly8gSWYgd2UgYXJlIGNoYW5naW5nIHRoZSBvd25lciB3aXRob3V0IGZpcnN0IGNsb3NpbmcgdGhlIHBpY2tlcixcblx0XHRcdFx0Ly8gbWFrZSBzdXJlIHRvIGZpcnN0IGRlYWwgd2l0aCB0aGUgb2xkIG93bmVyXG5cdFx0XHRcdGlmIChqc2MucGlja2VyLm93bmVyICYmIGpzYy5waWNrZXIub3duZXIgIT09IFRISVMpIHtcblx0XHRcdFx0XHRqc2MudW5zZXRDbGFzcyhqc2MucGlja2VyLm93bmVyLnRhcmdldEVsZW1lbnQsIFRISVMuYWN0aXZlQ2xhc3MpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gU2V0IHRoZSBuZXcgcGlja2VyIG93bmVyXG5cdFx0XHRcdGpzYy5waWNrZXIub3duZXIgPSBUSElTO1xuXG5cdFx0XHRcdC8vIFRoZSByZWRyYXdQb3NpdGlvbigpIG1ldGhvZCBuZWVkcyBwaWNrZXIub3duZXIgdG8gYmUgc2V0LCB0aGF0J3Mgd2h5IHdlIGNhbGwgaXQgaGVyZSxcblx0XHRcdFx0Ly8gYWZ0ZXIgc2V0dGluZyB0aGUgb3duZXJcblx0XHRcdFx0aWYgKGpzYy5pc0VsZW1lbnRUeXBlKGNvbnRhaW5lciwgJ2JvZHknKSkge1xuXHRcdFx0XHRcdGpzYy5yZWRyYXdQb3NpdGlvbigpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGpzYy5fZHJhd1Bvc2l0aW9uKFRISVMsIDAsIDAsICdyZWxhdGl2ZScsIGZhbHNlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChwLndyYXAucGFyZW50Tm9kZSAhPSBjb250YWluZXIpIHtcblx0XHRcdFx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQocC53cmFwKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGpzYy5zZXRDbGFzcyhUSElTLnRhcmdldEVsZW1lbnQsIFRISVMuYWN0aXZlQ2xhc3MpO1xuXHRcdFx0fVxuXG5cblx0XHRcdGZ1bmN0aW9uIHJlZHJhd1BhZCgpIHtcblx0XHRcdFx0Ly8gcmVkcmF3IHRoZSBwYWQgcG9pbnRlclxuXHRcdFx0XHRzd2l0Y2ggKGpzYy5nZXRQYWRZQ29tcG9uZW50KFRISVMpKSB7XG5cdFx0XHRcdFx0Y2FzZSAncyc6IHZhciB5Q29tcG9uZW50ID0gMTsgYnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAndic6IHZhciB5Q29tcG9uZW50ID0gMjsgYnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdFx0dmFyIHggPSBNYXRoLnJvdW5kKChUSElTLmhzdlswXSAvIDM2MCkgKiAoVEhJUy53aWR0aCAtIDEpKTtcblx0XHRcdFx0dmFyIHkgPSBNYXRoLnJvdW5kKCgxIC0gVEhJUy5oc3ZbeUNvbXBvbmVudF0gLyAxMDApICogKFRISVMuaGVpZ2h0IC0gMSkpO1xuXHRcdFx0XHR2YXIgY3Jvc3NPdXRlclNpemUgPSAoMiAqIFRISVMucG9pbnRlckJvcmRlcldpZHRoICsgVEhJUy5wb2ludGVyVGhpY2tuZXNzICsgMiAqIFRISVMuY3Jvc3NTaXplKTtcblx0XHRcdFx0dmFyIG9mcyA9IC1NYXRoLmZsb29yKGNyb3NzT3V0ZXJTaXplIC8gMik7XG5cdFx0XHRcdGpzYy5waWNrZXIuY3Jvc3Muc3R5bGUubGVmdCA9ICh4ICsgb2ZzKSArICdweCc7XG5cdFx0XHRcdGpzYy5waWNrZXIuY3Jvc3Muc3R5bGUudG9wID0gKHkgKyBvZnMpICsgJ3B4JztcblxuXHRcdFx0XHQvLyByZWRyYXcgdGhlIHNsaWRlclxuXHRcdFx0XHRzd2l0Y2ggKGpzYy5nZXRTbGlkZXJDb21wb25lbnQoVEhJUykpIHtcblx0XHRcdFx0XHRjYXNlICdzJzpcblx0XHRcdFx0XHRcdHZhciByZ2IxID0gSFNWX1JHQihUSElTLmhzdlswXSwgMTAwLCBUSElTLmhzdlsyXSk7XG5cdFx0XHRcdFx0XHR2YXIgcmdiMiA9IEhTVl9SR0IoVEhJUy5oc3ZbMF0sIDAsIFRISVMuaHN2WzJdKTtcblx0XHRcdFx0XHRcdHZhciBjb2xvcjEgPSAncmdiKCcgK1xuXHRcdFx0XHRcdFx0XHRNYXRoLnJvdW5kKHJnYjFbMF0pICsgJywnICtcblx0XHRcdFx0XHRcdFx0TWF0aC5yb3VuZChyZ2IxWzFdKSArICcsJyArXG5cdFx0XHRcdFx0XHRcdE1hdGgucm91bmQocmdiMVsyXSkgKyAnKSc7XG5cdFx0XHRcdFx0XHR2YXIgY29sb3IyID0gJ3JnYignICtcblx0XHRcdFx0XHRcdFx0TWF0aC5yb3VuZChyZ2IyWzBdKSArICcsJyArXG5cdFx0XHRcdFx0XHRcdE1hdGgucm91bmQocmdiMlsxXSkgKyAnLCcgK1xuXHRcdFx0XHRcdFx0XHRNYXRoLnJvdW5kKHJnYjJbMl0pICsgJyknO1xuXHRcdFx0XHRcdFx0anNjLnBpY2tlci5zbGRHcmFkLmRyYXcoVEhJUy5zbGlkZXJTaXplLCBUSElTLmhlaWdodCwgY29sb3IxLCBjb2xvcjIpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAndic6XG5cdFx0XHRcdFx0XHR2YXIgcmdiID0gSFNWX1JHQihUSElTLmhzdlswXSwgVEhJUy5oc3ZbMV0sIDEwMCk7XG5cdFx0XHRcdFx0XHR2YXIgY29sb3IxID0gJ3JnYignICtcblx0XHRcdFx0XHRcdFx0TWF0aC5yb3VuZChyZ2JbMF0pICsgJywnICtcblx0XHRcdFx0XHRcdFx0TWF0aC5yb3VuZChyZ2JbMV0pICsgJywnICtcblx0XHRcdFx0XHRcdFx0TWF0aC5yb3VuZChyZ2JbMl0pICsgJyknO1xuXHRcdFx0XHRcdFx0dmFyIGNvbG9yMiA9ICcjMDAwJztcblx0XHRcdFx0XHRcdGpzYy5waWNrZXIuc2xkR3JhZC5kcmF3KFRISVMuc2xpZGVyU2l6ZSwgVEhJUy5oZWlnaHQsIGNvbG9yMSwgY29sb3IyKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblxuXHRcdFx0ZnVuY3Rpb24gcmVkcmF3U2xkKCkge1xuXHRcdFx0XHR2YXIgc2xkQ29tcG9uZW50ID0ganNjLmdldFNsaWRlckNvbXBvbmVudChUSElTKTtcblx0XHRcdFx0aWYgKHNsZENvbXBvbmVudCkge1xuXHRcdFx0XHRcdC8vIHJlZHJhdyB0aGUgc2xpZGVyIHBvaW50ZXJcblx0XHRcdFx0XHRzd2l0Y2ggKHNsZENvbXBvbmVudCkge1xuXHRcdFx0XHRcdFx0Y2FzZSAncyc6IHZhciB5Q29tcG9uZW50ID0gMTsgYnJlYWs7XG5cdFx0XHRcdFx0XHRjYXNlICd2JzogdmFyIHlDb21wb25lbnQgPSAyOyBicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dmFyIHkgPSBNYXRoLnJvdW5kKCgxIC0gVEhJUy5oc3ZbeUNvbXBvbmVudF0gLyAxMDApICogKFRISVMuaGVpZ2h0IC0gMSkpO1xuXHRcdFx0XHRcdGpzYy5waWNrZXIuc2xkUHRyT0Iuc3R5bGUudG9wID0gKHkgLSAoMiAqIFRISVMucG9pbnRlckJvcmRlcldpZHRoICsgVEhJUy5wb2ludGVyVGhpY2tuZXNzKSAtIE1hdGguZmxvb3Ioc2xpZGVyUHRyU3BhY2UgLyAyKSkgKyAncHgnO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblxuXHRcdFx0ZnVuY3Rpb24gaXNQaWNrZXJPd25lcigpIHtcblx0XHRcdFx0cmV0dXJuIGpzYy5waWNrZXIgJiYganNjLnBpY2tlci5vd25lciA9PT0gVEhJUztcblx0XHRcdH1cblxuXG5cdFx0XHRmdW5jdGlvbiBibHVyVmFsdWUoKSB7XG5cdFx0XHRcdFRISVMuaW1wb3J0Q29sb3IoKTtcblx0XHRcdH1cblxuXG5cdFx0XHQvLyBGaW5kIHRoZSB0YXJnZXQgZWxlbWVudFxuXHRcdFx0aWYgKHR5cGVvZiB0YXJnZXRFbGVtZW50ID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHR2YXIgaWQgPSB0YXJnZXRFbGVtZW50O1xuXHRcdFx0XHR2YXIgZWxtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuXHRcdFx0XHRpZiAoZWxtKSB7XG5cdFx0XHRcdFx0dGhpcy50YXJnZXRFbGVtZW50ID0gZWxtO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGpzYy53YXJuKCdDb3VsZCBub3QgZmluZCB0YXJnZXQgZWxlbWVudCB3aXRoIElEIFxcJycgKyBpZCArICdcXCcnKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmICh0YXJnZXRFbGVtZW50KSB7XG5cdFx0XHRcdHRoaXMudGFyZ2V0RWxlbWVudCA9IHRhcmdldEVsZW1lbnQ7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRqc2Mud2FybignSW52YWxpZCB0YXJnZXQgZWxlbWVudDogXFwnJyArIHRhcmdldEVsZW1lbnQgKyAnXFwnJyk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLnRhcmdldEVsZW1lbnQuX2pzY0xpbmtlZEluc3RhbmNlKSB7XG5cdFx0XHRcdGpzYy53YXJuKCdDYW5ub3QgbGluayBqc2NvbG9yIHR3aWNlIHRvIHRoZSBzYW1lIGVsZW1lbnQuIFNraXBwaW5nLicpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnRhcmdldEVsZW1lbnQuX2pzY0xpbmtlZEluc3RhbmNlID0gdGhpcztcblxuXHRcdFx0Ly8gRmluZCB0aGUgdmFsdWUgZWxlbWVudFxuXHRcdFx0dGhpcy52YWx1ZUVsZW1lbnQgPSBqc2MuZmV0Y2hFbGVtZW50KHRoaXMudmFsdWVFbGVtZW50KTtcblx0XHRcdC8vIEZpbmQgdGhlIHN0eWxlIGVsZW1lbnRcblx0XHRcdHRoaXMuc3R5bGVFbGVtZW50ID0ganNjLmZldGNoRWxlbWVudCh0aGlzLnN0eWxlRWxlbWVudCk7XG5cblx0XHRcdHZhciBUSElTID0gdGhpcztcblx0XHRcdHZhciBjb250YWluZXIgPVxuXHRcdFx0XHR0aGlzLmNvbnRhaW5lciA/XG5cdFx0XHRcdFx0anNjLmZldGNoRWxlbWVudCh0aGlzLmNvbnRhaW5lcikgOlxuXHRcdFx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5JylbMF07XG5cdFx0XHR2YXIgc2xpZGVyUHRyU3BhY2UgPSAzOyAvLyBweFxuXG5cdFx0XHQvLyBGb3IgQlVUVE9OIGVsZW1lbnRzIGl0J3MgaW1wb3J0YW50IHRvIHN0b3AgdGhlbSBmcm9tIHNlbmRpbmcgdGhlIGZvcm0gd2hlbiBjbGlja2VkXG5cdFx0XHQvLyAoZS5nLiBpbiBTYWZhcmkpXG5cdFx0XHRpZiAoanNjLmlzRWxlbWVudFR5cGUodGhpcy50YXJnZXRFbGVtZW50LCAnYnV0dG9uJykpIHtcblx0XHRcdFx0aWYgKHRoaXMudGFyZ2V0RWxlbWVudC5vbmNsaWNrKSB7XG5cdFx0XHRcdFx0dmFyIG9yaWdDYWxsYmFjayA9IHRoaXMudGFyZ2V0RWxlbWVudC5vbmNsaWNrO1xuXHRcdFx0XHRcdHRoaXMudGFyZ2V0RWxlbWVudC5vbmNsaWNrID0gZnVuY3Rpb24gKGV2dCkge1xuXHRcdFx0XHRcdFx0b3JpZ0NhbGxiYWNrLmNhbGwodGhpcywgZXZ0KTtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRoaXMudGFyZ2V0RWxlbWVudC5vbmNsaWNrID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH07XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Lypcblx0XHRcdHZhciBlbG0gPSB0aGlzLnRhcmdldEVsZW1lbnQ7XG5cdFx0XHRkbyB7XG5cdFx0XHRcdC8vIElmIHRoZSB0YXJnZXQgZWxlbWVudCBvciBvbmUgb2YgaXRzIG9mZnNldFBhcmVudHMgaGFzIGZpeGVkIHBvc2l0aW9uLFxuXHRcdFx0XHQvLyB0aGVuIHVzZSBmaXhlZCBwb3NpdGlvbmluZyBpbnN0ZWFkXG5cdFx0XHRcdC8vXG5cdFx0XHRcdC8vIE5vdGU6IEluIEZpcmVmb3gsIGdldENvbXB1dGVkU3R5bGUgcmV0dXJucyBudWxsIGluIGEgaGlkZGVuIGlmcmFtZSxcblx0XHRcdFx0Ly8gdGhhdCdzIHdoeSB3ZSBuZWVkIHRvIGNoZWNrIGlmIHRoZSByZXR1cm5lZCBzdHlsZSBvYmplY3QgaXMgbm9uLWVtcHR5XG5cdFx0XHRcdHZhciBjdXJyU3R5bGUgPSBqc2MuZ2V0U3R5bGUoZWxtKTtcblx0XHRcdFx0aWYgKGN1cnJTdHlsZSAmJiBjdXJyU3R5bGUucG9zaXRpb24udG9Mb3dlckNhc2UoKSA9PT0gJ2ZpeGVkJykge1xuXHRcdFx0XHRcdHRoaXMuZml4ZWQgPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRpZiAoZWxtICE9PSB0aGlzLnRhcmdldEVsZW1lbnQpIHtcblx0XHRcdFx0XHQvLyBhdHRhY2ggb25QYXJlbnRTY3JvbGwgc28gdGhhdCB3ZSBjYW4gcmVjb21wdXRlIHRoZSBwaWNrZXIgcG9zaXRpb25cblx0XHRcdFx0XHQvLyB3aGVuIG9uZSBvZiB0aGUgb2Zmc2V0UGFyZW50cyBpcyBzY3JvbGxlZFxuXHRcdFx0XHRcdGlmICghZWxtLl9qc2NFdmVudHNBdHRhY2hlZCkge1xuXHRcdFx0XHRcdFx0anNjLmF0dGFjaEV2ZW50KGVsbSwgJ3Njcm9sbCcsIGpzYy5vblBhcmVudFNjcm9sbCk7XG5cdFx0XHRcdFx0XHRlbG0uX2pzY0V2ZW50c0F0dGFjaGVkID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gd2hpbGUgKChlbG0gPSBlbG0ub2Zmc2V0UGFyZW50KSAmJiAhanNjLmlzRWxlbWVudFR5cGUoZWxtLCAnYm9keScpKTtcblx0XHRcdCovXG5cblx0XHRcdC8vIHZhbHVlRWxlbWVudFxuXHRcdFx0aWYgKHRoaXMudmFsdWVFbGVtZW50KSB7XG5cdFx0XHRcdGlmIChqc2MuaXNFbGVtZW50VHlwZSh0aGlzLnZhbHVlRWxlbWVudCwgJ2lucHV0JykpIHtcblx0XHRcdFx0XHR2YXIgdXBkYXRlRmllbGQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRUSElTLmZyb21TdHJpbmcoVEhJUy52YWx1ZUVsZW1lbnQudmFsdWUsIGpzYy5sZWF2ZVZhbHVlKTtcblx0XHRcdFx0XHRcdGpzYy5kaXNwYXRjaEZpbmVDaGFuZ2UoVEhJUyk7XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRqc2MuYXR0YWNoRXZlbnQodGhpcy52YWx1ZUVsZW1lbnQsICdrZXl1cCcsIHVwZGF0ZUZpZWxkKTtcblx0XHRcdFx0XHRqc2MuYXR0YWNoRXZlbnQodGhpcy52YWx1ZUVsZW1lbnQsICdpbnB1dCcsIHVwZGF0ZUZpZWxkKTtcblx0XHRcdFx0XHRqc2MuYXR0YWNoRXZlbnQodGhpcy52YWx1ZUVsZW1lbnQsICdibHVyJywgYmx1clZhbHVlKTtcblx0XHRcdFx0XHR0aGlzLnZhbHVlRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2F1dG9jb21wbGV0ZScsICdvZmYnKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBzdHlsZUVsZW1lbnRcblx0XHRcdGlmICh0aGlzLnN0eWxlRWxlbWVudCkge1xuXHRcdFx0XHR0aGlzLnN0eWxlRWxlbWVudC5fanNjT3JpZ1N0eWxlID0ge1xuXHRcdFx0XHRcdGJhY2tncm91bmRJbWFnZTogdGhpcy5zdHlsZUVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZEltYWdlLFxuXHRcdFx0XHRcdGJhY2tncm91bmRDb2xvcjogdGhpcy5zdHlsZUVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yLFxuXHRcdFx0XHRcdGNvbG9yOiB0aGlzLnN0eWxlRWxlbWVudC5zdHlsZS5jb2xvclxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodGhpcy52YWx1ZSkge1xuXHRcdFx0XHQvLyBUcnkgdG8gc2V0IHRoZSBjb2xvciBmcm9tIHRoZSAudmFsdWUgb3B0aW9uIGFuZCBpZiB1bnN1Y2Nlc3NmdWwsXG5cdFx0XHRcdC8vIGV4cG9ydCB0aGUgY3VycmVudCBjb2xvclxuXHRcdFx0XHR0aGlzLmZyb21TdHJpbmcodGhpcy52YWx1ZSkgfHwgdGhpcy5leHBvcnRDb2xvcigpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5pbXBvcnRDb2xvcigpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHR9O1xuXG5cblxuXG5cdC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0Ly8gUHVibGljIHByb3BlcnRpZXMgYW5kIG1ldGhvZHNcblx0Ly89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5cblx0Ly8gQnkgZGVmYXVsdCwgc2VhcmNoIGZvciBhbGwgZWxlbWVudHMgd2l0aCBjbGFzcz1cImpzY29sb3JcIiBhbmQgaW5zdGFsbCBhIGNvbG9yIHBpY2tlciBvbiB0aGVtLlxuXHQvL1xuXHQvLyBZb3UgY2FuIGNoYW5nZSB3aGF0IGNsYXNzIG5hbWUgd2lsbCBiZSBsb29rZWQgZm9yIGJ5IHNldHRpbmcgdGhlIHByb3BlcnR5IGpzY29sb3IubG9va3VwQ2xhc3Ncblx0Ly8gYW55d2hlcmUgaW4geW91ciBIVE1MIGRvY3VtZW50LiBUbyBjb21wbGV0ZWx5IGRpc2FibGUgdGhlIGF1dG9tYXRpYyBsb29rdXAsIHNldCBpdCB0byBudWxsLlxuXHQvL1xuXHRqc2MuanNjb2xvci5sb29rdXBDbGFzcyA9ICdqc2NvbG9yJztcblxuXG5cdGpzYy5qc2NvbG9yLmluc3RhbGxCeUNsYXNzTmFtZSA9IGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcblx0XHR2YXIgaW5wdXRFbG1zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lucHV0Jyk7XG5cdFx0dmFyIGJ1dHRvbkVsbXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYnV0dG9uJyk7XG5cblx0XHRqc2MudHJ5SW5zdGFsbE9uRWxlbWVudHMoaW5wdXRFbG1zLCBjbGFzc05hbWUpO1xuXHRcdGpzYy50cnlJbnN0YWxsT25FbGVtZW50cyhidXR0b25FbG1zLCBjbGFzc05hbWUpO1xuXHR9O1xuXG5cblx0anNjLnJlZ2lzdGVyKCk7XG5cblxuXHRyZXR1cm4ganNjLmpzY29sb3I7XG5cblxufVxuXG5leHBvcnQgZGVmYXVsdCBjaG9vc2VDb2xvclxuIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7Ozs7Ozs7Ozs7QUFlQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBVUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWkE7QUFDQTtBQWNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUFhQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFGQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRkE7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQU1BO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBUEE7QUFTQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBeEJBO0FBQ0E7QUEwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFHQTtBQUdBO0FBR0E7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUdBO0FBR0E7QUFHQTtBQUdBO0FBR0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQXRCQTtBQXdCQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBd0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEzd0RBO0FBQ0E7QUFneERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/tools/ToolsFuncs/chooseColorCurrent.js\n");

/***/ }),

/***/ "./src/components/tools/ToolsFuncs/chooseColorPrevious.js":
/*!****************************************************************!*\
  !*** ./src/components/tools/ToolsFuncs/chooseColorPrevious.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * jscolor - JavaScript Color Picker\n *\n * @link    http://jscolor.com\n * @license For open source use: GPLv3\n *          For commercial use: JSColor Commercial License\n * @author  Jan Odvarko\n * @version 2.0.5\n *\n * See usage examples at http://jscolor.com/examples/\n */\n\nfunction chooseColor() {\n  var jsc = {\n    register: function register() {\n      jsc.attachDOMReadyEvent(jsc.init);\n      jsc.attachEvent(document, \"mousedown\", jsc.onDocumentMouseDown);\n      jsc.attachEvent(document, \"touchstart\", jsc.onDocumentTouchStart);\n      jsc.attachEvent(window, \"resize\", jsc.onWindowResize);\n    },\n    init: function init() {\n      if (jsc.jscolor.lookupClass) {\n        jsc.jscolor.installByClassName(jsc.jscolor.lookupClass);\n      }\n    },\n    tryInstallOnElements: function tryInstallOnElements(elms, className) {\n      var matchClass = new RegExp(\"(^|\\\\s)(\" + className + \")(\\\\s*(\\\\{[^}]*\\\\})|\\\\s|$)\", \"i\");\n\n      for (var i = 0; i < elms.length; i += 1) {\n        var m = elms[i].className.match(matchClass);\n        if (!elms[i].jscolor && elms[i].className && m) {\n          (function () {\n            var targetElm = elms[i];\n            var optsStr = null;\n\n            var dataOptions = jsc.getDataAttr(targetElm, \"jscolor\");\n            if (dataOptions !== null) {\n              optsStr = dataOptions;\n            } else if (m[4]) {\n              optsStr = m[4];\n            }\n\n            var opts = {};\n            if (optsStr) {\n              try {\n                opts = function opts() {\n                  return optsStr;\n                };\n              } catch (eParseError) {\n                jsc.warn(\"Error parsing jscolor options: \" + eParseError + \":\\n\" + optsStr);\n              }\n            }\n            targetElm.jscolor = new jsc.jscolor(targetElm, opts);\n          })();\n        }\n      }\n    },\n\n\n    isColorAttrSupported: function () {\n      var elm = document.createElement(\"input\");\n      if (elm.setAttribute) {\n        elm.setAttribute(\"type\", \"color\");\n        if (elm.type.toLowerCase() === \"color\") {\n          return true;\n        }\n      }\n      return false;\n    }(),\n\n    isCanvasSupported: function () {\n      var elm = document.createElement(\"canvas\");\n      return !!(elm.getContext && elm.getContext(\"2d\"));\n    }(),\n\n    fetchElement: function fetchElement(mixed) {\n      return typeof mixed === \"string\" ? document.getElementById(mixed) : mixed;\n    },\n    isElementType: function isElementType(elm, type) {\n      return elm.nodeName.toLowerCase() === type.toLowerCase();\n    },\n    getDataAttr: function getDataAttr(el, name) {\n      var attrName = \"data-\" + name;\n      var attrValue = el.getAttribute(attrName);\n      if (attrValue !== null) {\n        return attrValue;\n      }\n      return null;\n    },\n    attachEvent: function attachEvent(el, evnt, func) {\n      if (el.addEventListener) {\n        el.addEventListener(evnt, func, false);\n      } else if (el.attachEvent) {\n        el.attachEvent(\"on\" + evnt, func);\n      }\n    },\n    detachEvent: function detachEvent(el, evnt, func) {\n      if (el.removeEventListener) {\n        el.removeEventListener(evnt, func, false);\n      } else if (el.detachEvent) {\n        el.detachEvent(\"on\" + evnt, func);\n      }\n    },\n\n\n    attachedGroupEvents: {},\n\n    attachGroupEvent: function attachGroupEvent(groupName, el, evnt, func) {\n      var hasGroupName = Object.prototype.hasOwnProperty.call(jsc.attachedGroupEvents, groupName);\n      if (hasGroupName) {\n        jsc.attachedGroupEvents[groupName] = [];\n      }\n      jsc.attachedGroupEvents[groupName].push([el, evnt, func]);\n      jsc.attachEvent(el, evnt, func);\n    },\n    detachGroupEvents: function detachGroupEvents(groupName) {\n      var hasGroupName = Object.prototype.hasOwnProperty.call(jsc.attachedGroupEvents, groupName);\n      if (hasGroupName) {\n        for (var i = 0; i < jsc.attachedGroupEvents[groupName].length; i += 1) {\n          var evt = jsc.attachedGroupEvents[groupName][i];\n          jsc.detachEvent(evt[0], evt[1], evt[2]);\n        }\n        delete jsc.attachedGroupEvents[groupName];\n      }\n    },\n    attachDOMReadyEvent: function attachDOMReadyEvent(func) {\n      var fired = false;\n      var fireOnce = function fireOnce() {\n        if (!fired) {\n          fired = true;\n          func();\n        }\n      };\n\n      if (document.readyState === \"complete\") {\n        setTimeout(fireOnce, 1); // async\n        return;\n      }\n\n      if (document.addEventListener) {\n        document.addEventListener(\"DOMContentLoaded\", fireOnce, false);\n\n        // Fallback\n        window.addEventListener(\"load\", fireOnce, false);\n      } else if (document.attachEvent) {\n        // IE\n        document.attachEvent(\"onreadystatechange\", function () {\n          if (document.readyState === \"complete\") {\n            document.detachEvent(\"onreadystatechange\", arguments.callee);\n            fireOnce();\n          }\n        });\n\n        // Fallback\n        window.attachEvent(\"onload\", fireOnce);\n\n        // IE7/8\n        if (document.documentElement.doScroll && window === window.top) {\n          var tryScroll = function tryScroll() {\n            if (!document.body) {\n              return;\n            }\n            try {\n              document.documentElement.doScroll(\"left\");\n              fireOnce();\n            } catch (e) {\n              setTimeout(tryScroll, 1);\n            }\n          };\n          tryScroll();\n        }\n      }\n    },\n    warn: function warn(msg) {\n      if (window.console && window.console.warn) {\n        window.console.warn(msg);\n      }\n    },\n    preventDefault: function preventDefault(e) {\n      if (e.preventDefault) {\n        e.preventDefault();\n      }\n      e.returnValue = false;\n    },\n    captureTarget: function captureTarget(target) {\n      // IE\n      if (target.setCapture) {\n        jsc.capturedTarget = target;\n        jsc.capturedTarget.setCapture();\n      }\n    },\n    releaseTarget: function releaseTarget() {\n      // IE\n      if (jsc.capturedTarget) {\n        jsc.capturedTarget.releaseCapture();\n        jsc.capturedTarget = null;\n      }\n    },\n    fireEvent: function fireEvent(el, evnt) {\n      if (!el) {\n        return;\n      }\n      if (document.createEvent) {\n        var ev = document.createEvent(\"HTMLEvents\");\n        ev.initEvent(evnt, true, true);\n        el.dispatchEvent(ev);\n      } else if (document.createEventObject) {\n        var _ev = document.createEventObject();\n        el.fireEvent(\"on\" + evnt, _ev);\n      } else if (el[\"on\" + evnt]) {\n        // alternatively use the traditional event model\n        el[\"on\" + evnt]();\n      }\n    },\n    classNameToList: function classNameToList(className) {\n      return className.replace(/^\\s+|\\s+$/g, \"\").split(/\\s+/);\n    },\n\n\n    // The className parameter (str) can only contain a single class name\n    hasClass: function hasClass(elm, className) {\n      if (!className) {\n        return false;\n      }\n      return (\" \" + elm.className.replace(/\\s+/g, \" \") + \" \").indexOf(\" \" + className + \" \") !== -1;\n    },\n\n\n    // The className parameter (str) can contain multiple class names separated by whitespace\n    setClass: function setClass(elm, className) {\n      var classList = jsc.classNameToList(className);\n      for (var i = 0; i < classList.length; i += 1) {\n        if (!jsc.hasClass(elm, classList[i])) {\n          elm.className += (elm.className ? \" \" : \"\") + classList[i];\n        }\n      }\n    },\n\n\n    // The className parameter (str) can contain multiple class names separated by whitespace\n    unsetClass: function unsetClass(elm, className) {\n      var classList = jsc.classNameToList(className);\n      for (var i = 0; i < classList.length; i += 1) {\n        var repl = new RegExp(\"^\\\\s*\" + classList[i] + \"\\\\s*|\" + (\"\\\\s*\" + classList[i] + \"\\\\s*$|\") + (\"\\\\s+\" + classList[i] + \"(\\\\s+)\"), \"g\");\n        elm.className = elm.className.replace(repl, \"$1\");\n      }\n    },\n    getStyle: function getStyle(elm) {\n      return window.getComputedStyle ? window.getComputedStyle(elm) : elm.currentStyle;\n    },\n\n\n    setStyle: function () {\n      var helper = document.createElement(\"div\");\n      var getSupportedProp = function getSupportedProp(names) {\n        for (var i = 0; i < names.length; i += 1) {\n          if (names[i] in helper.style) {\n            return names[i];\n          }\n        }\n        return null;\n      };\n      var props = {\n        borderRadius: getSupportedProp([\"borderRadius\", \"MozBorderRadius\", \"webkitBorderRadius\"]),\n        boxShadow: getSupportedProp([\"boxShadow\", \"MozBoxShadow\", \"webkitBoxShadow\"])\n      };\n      return function (elm, prop, value) {\n        switch (prop.toLowerCase()) {\n          case \"opacity\":\n            {\n              var alphaOpacity = Math.round(parseFloat(value) * 100);\n              elm.style.opacity = value;\n              elm.style.filter = \"alpha(opacity=\" + alphaOpacity + \")\";\n              break;\n            }\n          default:\n            elm.style[props[prop]] = value;\n            break;\n        }\n      };\n    }(),\n\n    setBorderRadius: function setBorderRadius(elm, value) {\n      jsc.setStyle(elm, \"borderRadius\", value || \"0\");\n    },\n    setBoxShadow: function setBoxShadow(elm, value) {\n      jsc.setStyle(elm, \"boxShadow\", value || \"none\");\n    },\n    getElementPos: function getElementPos(e, relativeToViewport) {\n      var x = 0;\n      var y = 0;\n      var rect = e.getBoundingClientRect();\n      x = rect.left;\n      y = rect.top;\n      if (!relativeToViewport) {\n        var viewPos = jsc.getViewPos();\n        x += viewPos[0];\n        y += viewPos[1];\n      }\n      return [x, y];\n    },\n    getElementSize: function getElementSize(e) {\n      return [e.offsetWidth, e.offsetHeight];\n    },\n\n\n    // get pointer's X/Y coordinates relative to viewport\n    getAbsPointerPos: function getAbsPointerPos(e) {\n      var x = 0;\n      var y = 0;\n      if (typeof e.changedTouches !== \"undefined\" && e.changedTouches.length) {\n        // touch devices\n        x = e.changedTouches[0].clientX;\n        y = e.changedTouches[0].clientY;\n      } else if (typeof e.clientX === \"number\") {\n        x = e.clientX;\n        y = e.clientY;\n      }\n      return { x: x, y: y };\n    },\n\n\n    // get pointer's X/Y coordinates relative to target element\n    getRelPointerPos: function getRelPointerPos(e) {\n      var target = e.target || e.srcElement;\n      var targetRect = target.getBoundingClientRect();\n\n      var x = 0;\n      var y = 0;\n\n      var clientX = 0;\n      var clientY = 0;\n      if (typeof e.changedTouches !== \"undefined\" && e.changedTouches.length) {\n        // touch devices\n        clientX = e.changedTouches[0].clientX;\n        clientY = e.changedTouches[0].clientY;\n      } else if (typeof e.clientX === \"number\") {\n        clientX = e.clientX;\n        clientY = e.clientY;\n      }\n\n      x = clientX - targetRect.left;\n      y = clientY - targetRect.top;\n      return { x: x, y: y };\n    },\n    getViewPos: function getViewPos() {\n      var doc = document.documentElement;\n      return [(window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0), (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0)];\n    },\n    getViewSize: function getViewSize() {\n      var doc = document.documentElement;\n      return [window.innerWidth || doc.clientWidth, window.innerHeight || doc.clientHeight];\n    },\n    redrawPosition: function redrawPosition() {\n      if (jsc.picker && jsc.picker.owner) {\n        var thisObj = jsc.picker.owner;\n\n        var tp = void 0;\n        var vp = void 0;\n\n        if (thisObj.fixed) {\n          // Fixed elements are positioned relative to viewport,\n          // therefore we can ignore the scroll offset\n          tp = jsc.getElementPos(thisObj.targetElement, true); // target pos\n          vp = [0, 0]; // view pos\n        } else {\n          tp = jsc.getElementPos(thisObj.targetElement); // target pos\n          vp = jsc.getViewPos(); // view pos\n        }\n\n        var ts = jsc.getElementSize(thisObj.targetElement); // target size\n        var vs = jsc.getViewSize(); // view size\n        var ps = jsc.getPickerOuterDims(thisObj); // picker size\n        var a = void 0;\n        var b = void 0;\n        var c = void 0;\n        switch (thisObj.position.toLowerCase()) {\n          case \"left\":\n            a = 1;\n            b = 0;\n            c = -1;\n            break;\n          case \"right\":\n            a = 1;\n            b = 0;\n            c = 1;\n            break;\n          case \"top\":\n            a = 0;\n            b = 1;\n            c = -1;\n            break;\n          default:\n            a = 0;\n            b = 1;\n            c = 1;\n            break;\n        }\n        var l = (ts[b] + ps[b]) / 2;\n\n        var pp = [];\n        if (!thisObj.smartPosition) {\n          pp = [tp[a], tp[b] + ts[b] - l + l * c];\n        } else {\n          pp = [-vp[a] + tp[a] + ps[a] > vs[a] ? -vp[a] + tp[a] + ts[a] / 2 > vs[a] / 2 && tp[a] + ts[a] - ps[a] >= 0 ? tp[a] + ts[a] - ps[a] : tp[a] : tp[a], -vp[b] + tp[b] + ts[b] + ps[b] - l + l * c > vs[b] ? -vp[b] + tp[b] + ts[b] / 2 > vs[b] / 2 && tp[b] + ts[b] - l - l * c >= 0 ? tp[b] + ts[b] - l - l * c : tp[b] + ts[b] - l + l * c : tp[b] + ts[b] - l + l * c >= 0 ? tp[b] + ts[b] - l + l * c : tp[b] + ts[b] - l - l * c];\n        }\n\n        var x = pp[a];\n        var y = pp[b];\n        var positionValue = thisObj.fixed ? \"fixed\" : \"absolute\";\n        var contractShadow = (pp[0] + ps[0] > tp[0] || pp[0] < tp[0] + ts[0]) && pp[1] + ps[1] < tp[1] + ts[1];\n\n        jsc.drawPosition(thisObj, x, y, positionValue, contractShadow);\n      }\n    },\n    drawPosition: function drawPosition(thisObj, x, y, positionValue, contractShadow) {\n      var vShadow = contractShadow ? 0 : thisObj.shadowBlur; // px\n\n      jsc.picker.wrap.style.position = positionValue;\n      jsc.picker.wrap.style.left = x + \"px\";\n      jsc.picker.wrap.style.top = y + \"px\";\n\n      jsc.setBoxShadow(jsc.picker.boxS, thisObj.shadow ? new jsc.BoxShadow(0, vShadow, thisObj.shadowBlur, 0, thisObj.shadowColor) : null);\n    },\n    getPickerDims: function getPickerDims(thisObj) {\n      var displaySlider = !!jsc.getSliderComponent(thisObj);\n      var dims = [2 * thisObj.insetWidth + 2 * thisObj.padding + thisObj.width + (displaySlider ? 2 * thisObj.insetWidth + jsc.getPadToSliderPadding(thisObj) + thisObj.sliderSize : 0), 2 * thisObj.insetWidth + 2 * thisObj.padding + thisObj.height + (thisObj.closable ? 2 * thisObj.insetWidth + thisObj.padding + thisObj.buttonHeight : 0)];\n      return dims;\n    },\n    getPickerOuterDims: function getPickerOuterDims(thisObj) {\n      var dims = jsc.getPickerDims(thisObj);\n      return [dims[0] + 2 * thisObj.borderWidth, dims[1] + 2 * thisObj.borderWidth];\n    },\n    getPadToSliderPadding: function getPadToSliderPadding(thisObj) {\n      return Math.max(thisObj.padding, 1.5 * (2 * thisObj.pointerBorderWidth + thisObj.pointerThickness));\n    },\n    getPadYComponent: function getPadYComponent(thisObj) {\n      switch (thisObj.mode.charAt(1).toLowerCase()) {\n        case \"v\":\n          return \"v\";\n        default:\n          break;\n      }\n      return \"s\";\n    },\n    getSliderComponent: function getSliderComponent(thisObj) {\n      if (thisObj.mode.length > 2) {\n        switch (thisObj.mode.charAt(2).toLowerCase()) {\n          case \"s\":\n            return \"s\";\n\n          case \"v\":\n            return \"v\";\n\n          default:\n            break;\n        }\n      }\n      return null;\n    },\n    onDocumentMouseDown: function onDocumentMouseDown(e) {\n      var target = e.target || e.srcElement;\n\n      if (target.jscLinkedInstance) {\n        if (target.jscLinkedInstance.showOnClick) {\n          target.jscLinkedInstance.show();\n        }\n      } else if (target.jscControlName) {\n        jsc.onControlPointerStart(e, target, target.jscControlName, \"mouse\");\n      } else if (jsc.picker && jsc.picker.owner) {\n        jsc.picker.owner.hide();\n      }\n    },\n    onDocumentTouchStart: function onDocumentTouchStart(e) {\n      var target = e.target || e.srcElement;\n\n      if (target.jscLinkedInstance) {\n        if (target.jscLinkedInstance.showOnClick) {\n          target.jscLinkedInstance.show();\n        }\n      } else if (target.jscControlName) {\n        jsc.onControlPointerStart(e, target, target.jscControlName, \"touch\");\n      } else if (jsc.picker && jsc.picker.owner) {\n        jsc.picker.owner.hide();\n      }\n    },\n    onWindowResize: function onWindowResize() {\n      jsc.redrawPosition();\n    },\n    onParentScroll: function onParentScroll() {\n      // hide the picker when one of the parent elements is scrolled\n      if (jsc.picker && jsc.picker.owner) {\n        jsc.picker.owner.hide();\n      }\n    },\n\n\n    pointerMoveEvent: {\n      mouse: \"mousemove\",\n      touch: \"touchmove\"\n    },\n    pointerEndEvent: {\n      mouse: \"mouseup\",\n      touch: \"touchend\"\n    },\n\n    pointerOrigin: null,\n    capturedTarget: null,\n\n    onControlPointerStart: function onControlPointerStart(e, target, controlName, pointerType) {\n      var thisObj = target.jscInstance;\n\n      jsc.preventDefault(e);\n      jsc.captureTarget(target);\n\n      var registerDragEvents = function registerDragEvents(doc, offset) {\n        jsc.attachGroupEvent(\"drag\", doc, jsc.pointerMoveEvent[pointerType], jsc.onDocumentPointerMove(e, target, controlName, pointerType, offset));\n        jsc.attachGroupEvent(\"drag\", doc, jsc.pointerEndEvent[pointerType], jsc.onDocumentPointerEnd(e, target, controlName, pointerType));\n      };\n\n      registerDragEvents(document, [0, 0]);\n\n      if (window.parent && window.frameElement) {\n        var rect = window.frameElement.getBoundingClientRect();\n        var ofs = [-rect.left, -rect.top];\n        registerDragEvents(window.parent.window.document, ofs);\n      }\n\n      var abs = jsc.getAbsPointerPos(e);\n      var rel = jsc.getRelPointerPos(e);\n      jsc.pointerOrigin = {\n        x: abs.x - rel.x,\n        y: abs.y - rel.y\n      };\n\n      switch (controlName) {\n        case \"pad\":\n          // if the slider is at the bottom, move it up\n          switch (jsc.getSliderComponent(thisObj)) {\n            case \"s\":\n              if (thisObj.hsv[1] === 0) {\n                thisObj.fromHSV(null, 100, null);\n              }\n              break;\n            case \"v\":\n              if (thisObj.hsv[2] === 0) {\n                thisObj.fromHSV(null, null, 100);\n              }\n              break;\n            default:\n              break;\n          }\n          jsc.setPad(thisObj, e, 0, 0);\n          break;\n\n        case \"sld\":\n          jsc.setSld(thisObj, e, 0);\n          break;\n        default:\n          break;\n      }\n\n      jsc.dispatchFineChange(thisObj);\n    },\n    onDocumentPointerMove: function onDocumentPointerMove(e, target, controlName, pointerType, offset) {\n      return function (e) {\n        var thisObj = target.jscInstance;\n        switch (controlName) {\n          case \"pad\":\n            jsc.setPad(thisObj, e, offset[0], offset[1]);\n            jsc.dispatchFineChange(thisObj);\n            break;\n\n          case \"sld\":\n            jsc.setSld(thisObj, e, offset[1]);\n            jsc.dispatchFineChange(thisObj);\n            break;\n          default:\n            break;\n        }\n      };\n    },\n    onDocumentPointerEnd: function onDocumentPointerEnd(e, target) {\n      return function () {\n        var thisObj = target.jscInstance;\n        jsc.detachGroupEvents(\"drag\");\n        jsc.releaseTarget();\n        // Always dispatch changes after detaching outstanding mouse handlers,\n        // in case some user interaction will occur in user's onchange callback\n        // that would intrude with current mouse events\n        jsc.dispatchChange(thisObj);\n      };\n    },\n    dispatchChange: function dispatchChange(thisObj) {\n      if (thisObj.valueElement) {\n        if (jsc.isElementType(thisObj.valueElement, \"input\")) {\n          jsc.fireEvent(thisObj.valueElement, \"change\");\n        }\n      }\n    },\n    dispatchFineChange: function dispatchFineChange(thisObj) {\n      if (thisObj.onFineChange) {\n        var callback = thisObj.onFineChange;\n        callback.call(thisObj);\n      }\n    },\n    setPad: function setPad(thisObj, e, ofsX, ofsY) {\n      var pointerAbs = jsc.getAbsPointerPos(e);\n      var x = ofsX + pointerAbs.x - jsc.pointerOrigin.x - thisObj.padding - thisObj.insetWidth;\n      var y = ofsY + pointerAbs.y - jsc.pointerOrigin.y - thisObj.padding - thisObj.insetWidth;\n\n      var xVal = x * (360 / (thisObj.width - 1));\n      var yVal = 100 - y * (100 / (thisObj.height - 1));\n\n      switch (jsc.getPadYComponent(thisObj)) {\n        case \"s\":\n          thisObj.fromHSV(xVal, yVal, null, jsc.leaveSld);\n          break;\n        case \"v\":\n          thisObj.fromHSV(xVal, null, yVal, jsc.leaveSld);\n          break;\n        default:\n          break;\n      }\n    },\n    setSld: function setSld(thisObj, e, ofsY) {\n      var pointerAbs = jsc.getAbsPointerPos(e);\n      var y = ofsY + pointerAbs.y - jsc.pointerOrigin.y - thisObj.padding - thisObj.insetWidth;\n\n      var yVal = 100 - y * (100 / (thisObj.height - 1));\n\n      switch (jsc.getSliderComponent(thisObj)) {\n        case \"s\":\n          thisObj.fromHSV(null, yVal, null, jsc.leavePad);\n          break;\n        case \"v\":\n          thisObj.fromHSV(null, null, yVal, jsc.leavePad);\n          break;\n        default:\n          break;\n      }\n    },\n\n\n    vmlNS: \"jsc_vml_\",\n    vmlCSS: \"jsc_vml_css_\",\n    vmlReady: false,\n\n    initVML: function initVML() {\n      if (!jsc.vmlReady) {\n        // init VML namespace\n        var doc = document;\n        if (!doc.namespaces[jsc.vmlNS]) {\n          doc.namespaces.add(jsc.vmlNS, \"urn:schemas-microsoft-com:vml\");\n        }\n        if (!doc.styleSheets[jsc.vmlCSS]) {\n          var tags = [\"shape\", \"shapetype\", \"group\", \"background\", \"path\", \"formulas\", \"handles\", \"fill\", \"stroke\", \"shadow\", \"textbox\", \"textpath\", \"imagedata\", \"line\", \"polyline\", \"curve\", \"rect\", \"roundrect\", \"oval\", \"arc\", \"image\"];\n          var ss = doc.createStyleSheet();\n          ss.owningElement.id = jsc.vmlCSS;\n          for (var i = 0; i < tags.length; i += 1) {\n            ss.addRule(jsc.vmlNS + \"\\\\:\" + tags[i], \"behavior:url(#default#VML);\");\n          }\n        }\n        jsc.vmlReady = true;\n      }\n    },\n    createPalette: function createPalette() {\n      var paletteObj = {\n        elm: null,\n        draw: null\n      };\n\n      if (jsc.isCanvasSupported) {\n        // Canvas implementation for modern browsers\n\n        var canvas = document.createElement(\"canvas\");\n        var ctx = canvas.getContext(\"2d\");\n\n        var drawFunc = function drawFunc(width, height, type) {\n          canvas.width = width;\n          canvas.height = height;\n\n          ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n          var hGrad = ctx.createLinearGradient(0, 0, canvas.width, 0);\n          hGrad.addColorStop(0 / 6, \"#F00\");\n          hGrad.addColorStop(1 / 6, \"#FF0\");\n          hGrad.addColorStop(2 / 6, \"#0F0\");\n          hGrad.addColorStop(3 / 6, \"#0FF\");\n          hGrad.addColorStop(4 / 6, \"#00F\");\n          hGrad.addColorStop(5 / 6, \"#F0F\");\n          hGrad.addColorStop(6 / 6, \"#F00\");\n\n          ctx.fillStyle = hGrad;\n          ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n          var vGrad = ctx.createLinearGradient(0, 0, 0, canvas.height);\n          switch (type.toLowerCase()) {\n            case \"s\":\n              vGrad.addColorStop(0, \"rgba(255,255,255,0)\");\n              vGrad.addColorStop(1, \"rgba(255,255,255,1)\");\n              break;\n            case \"v\":\n              vGrad.addColorStop(0, \"rgba(0,0,0,0)\");\n              vGrad.addColorStop(1, \"rgba(0,0,0,1)\");\n              break;\n            default:\n              break;\n          }\n          ctx.fillStyle = vGrad;\n          ctx.fillRect(0, 0, canvas.width, canvas.height);\n        };\n\n        paletteObj.elm = canvas;\n        paletteObj.draw = drawFunc;\n      } else {\n        // VML fallback for IE 7 and 8\n\n        jsc.initVML();\n\n        var vmlContainer = document.createElement(\"div\");\n        vmlContainer.style.position = \"relative\";\n        vmlContainer.style.overflow = \"hidden\";\n\n        var hGrad = document.createElement(jsc.vmlNS + \":fill\");\n        hGrad.type = \"gradient\";\n        hGrad.method = \"linear\";\n        hGrad.angle = \"90\";\n        hGrad.colors = \"16.67% #F0F, 33.33% #00F, 50% #0FF, 66.67% #0F0, 83.33% #FF0\";\n\n        var hRect = document.createElement(jsc.vmlNS + \":rect\");\n        hRect.style.position = \"absolute\";\n        hRect.style.left = -1 + \"px\";\n        hRect.style.top = -1 + \"px\";\n        hRect.stroked = false;\n        hRect.appendChild(hGrad);\n        vmlContainer.appendChild(hRect);\n\n        var vGrad = document.createElement(jsc.vmlNS + \":fill\");\n        vGrad.type = \"gradient\";\n        vGrad.method = \"linear\";\n        vGrad.angle = \"180\";\n        vGrad.opacity = \"0\";\n\n        var vRect = document.createElement(jsc.vmlNS + \":rect\");\n        vRect.style.position = \"absolute\";\n        vRect.style.left = -1 + \"px\";\n        vRect.style.top = -1 + \"px\";\n        vRect.stroked = false;\n        vRect.appendChild(vGrad);\n        vmlContainer.appendChild(vRect);\n\n        var _drawFunc = function _drawFunc(width, height, type) {\n          vmlContainer.style.width = width + \"px\";\n          vmlContainer.style.height = height + \"px\";\n\n          hRect.style.width = width + 1 + \"px\";\n          vRect.style.width = width + 1 + \"px\";\n          hRect.style.height = height + 1 + \"px\";\n          vRect.style.height = height + 1 + \"px\";\n\n          // Colors must be specified during every redraw, otherwise IE won't display\n          // a full gradient during a subsequential redraw\n          hGrad.color = \"#F00\";\n          hGrad.color2 = \"#F00\";\n\n          switch (type.toLowerCase()) {\n            case \"s\":\n              vGrad.color = \"#FFF\";\n              vGrad.color2 = \"#FFF\";\n              break;\n            case \"v\":\n              vGrad.color = \"#000\";\n              vGrad.color2 = \"#000\";\n              break;\n            default:\n              break;\n          }\n        };\n\n        paletteObj.elm = vmlContainer;\n        paletteObj.draw = _drawFunc;\n      }\n\n      return paletteObj;\n    },\n    createSliderGradient: function createSliderGradient() {\n      var sliderObj = {\n        elm: null,\n        draw: null\n      };\n\n      if (jsc.isCanvasSupported) {\n        // Canvas implementation for modern browsers\n\n        var canvas = document.createElement(\"canvas\");\n        var ctx = canvas.getContext(\"2d\");\n\n        var drawFunc = function drawFunc(width, height, color1, color2) {\n          canvas.width = width;\n          canvas.height = height;\n\n          ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n          var grad = ctx.createLinearGradient(0, 0, 0, canvas.height);\n          grad.addColorStop(0, color1);\n          grad.addColorStop(1, color2);\n\n          ctx.fillStyle = grad;\n          ctx.fillRect(0, 0, canvas.width, canvas.height);\n        };\n\n        sliderObj.elm = canvas;\n        sliderObj.draw = drawFunc;\n      } else {\n        // VML fallback for IE 7 and 8\n\n        jsc.initVML();\n\n        var vmlContainer = document.createElement(\"div\");\n        vmlContainer.style.position = \"relative\";\n        vmlContainer.style.overflow = \"hidden\";\n\n        var grad = document.createElement(jsc.vmlNS + \":fill\");\n        grad.type = \"gradient\";\n        grad.method = \"linear\";\n        grad.angle = \"180\";\n\n        var rect = document.createElement(jsc.vmlNS + \":rect\");\n        rect.style.position = \"absolute\";\n        rect.style.left = -1 + \"px\";\n        rect.style.top = -1 + \"px\";\n        rect.stroked = false;\n        rect.appendChild(grad);\n        vmlContainer.appendChild(rect);\n\n        var _drawFunc2 = function _drawFunc2(width, height, color1, color2) {\n          vmlContainer.style.width = width + \"px\";\n          vmlContainer.style.height = height + \"px\";\n\n          rect.style.width = width + 1 + \"px\";\n          rect.style.height = height + 1 + \"px\";\n\n          grad.color = color1;\n          grad.color2 = color2;\n        };\n\n        sliderObj.elm = vmlContainer;\n        sliderObj.draw = _drawFunc2;\n      }\n\n      return sliderObj;\n    },\n\n\n    leaveValue: 1 << 0,\n    leaveStyle: 1 << 1,\n    leavePad: 1 << 2,\n    leaveSld: 1 << 3,\n\n    BoxShadow: function () {\n      var BoxShadow = function BoxShadow(hShadow, vShadow, blur, spread, color, inset) {\n        this.hShadow = hShadow;\n        this.vShadow = vShadow;\n        this.blur = blur;\n        this.spread = spread;\n        this.color = color;\n        this.inset = !!inset;\n      };\n\n      BoxShadow.prototype.toString = function () {\n        var vals = [Math.round(this.hShadow) + \"px\", Math.round(this.vShadow) + \"px\", Math.round(this.blur) + \"px\", Math.round(this.spread) + \"px\", this.color];\n        if (this.inset) {\n          vals.push(\"inset\");\n        }\n        return vals.join(\" \");\n      };\n\n      return BoxShadow;\n    }(),\n\n    //\n    // Usage:\n    // var myColor = new jscolor(<targetElement> [, <options>])\n    //\n\n    jscolor: function jscolor(targetElement, options) {\n      // General options\n      //\n      this.value = null; // initial HEX color. To change it later, use methods fromString(), fromHSV() and fromRGB()\n      this.valueElement = targetElement; // element that will be used to display and input the color code\n      this.styleElement = targetElement; // element that will preview the picked color using CSS backgroundColor\n      this.required = true; // whether the associated text <input> can be left empty\n      this.refine = true; // whether to refine the entered color code (e.g. uppercase it and remove whitespace)\n      this.hash = false; // whether to prefix the HEX color code with # symbol\n      this.uppercase = true; // whether to show the color code in upper case\n      this.onFineChange = null; // called instantly every time the color changes (value can be either a function or a string with javascript code)\n      this.activeClass = \"jscolor-activePrev\"; // class to be set to the target element when a picker window is open on it\n      this.overwriteImportant = false; // whether to overwrite colors of styleElement using !important\n      this.minS = 0; // min allowed saturation (0 - 100)\n      this.maxS = 100; // max allowed saturation (0 - 100)\n      this.minV = 0; // min allowed value (brightness) (0 - 100)\n      this.maxV = 100; // max allowed value (brightness) (0 - 100)\n\n      // Accessing the picked color\n      //\n      this.hsv = [0, 0, 100]; // read-only  [0-360, 0-100, 0-100]\n      this.rgb = [255, 255, 255]; // read-only  [0-255, 0-255, 0-255]\n\n      // Color Picker options\n      //\n      this.width = 181; // width of color palette (in px)\n      this.height = 101; // height of color palette (in px)\n      this.showOnClick = true; // whether to display the color picker when user clicks on its target element\n      this.mode = \"HSV\"; // HSV | HVS | HS | HV - layout of the color picker controls\n      this.position = \"bottom\"; // left | right | top | bottom - position relative to the target element\n      this.smartPosition = true; // automatically change picker position when there is not enough space for it\n      this.sliderSize = 16; // px\n      this.crossSize = 8; // px\n      this.closable = false; // whether to display the Close button\n      this.closeText = \"Close\";\n      this.buttonColor = \"#000000\"; // CSS color\n      this.buttonHeight = 18; // px\n      this.padding = 12; // px\n      this.backgroundColor = \"#1A1A1A\"; // CSS color\n      this.borderWidth = 1; // px\n      this.borderColor = \"#444444\"; // CSS color\n      this.borderRadius = 8; // px\n      this.insetWidth = 1; // px\n      this.insetColor = \"#BBBBBB\"; // CSS color\n      this.shadow = true; // whether to display shadow\n      this.shadowBlur = 15; // px\n      this.shadowColor = \"rgba(0,0,0,0.2)\"; // CSS color\n      this.pointerColor = \"#4C4C4C\"; // px\n      this.pointerBorderColor = \"#FFFFFF\"; // px\n      this.pointerBorderWidth = 1; // px\n      this.pointerThickness = 2; // px\n      this.zIndex = 1000;\n      this.container = null; // where to append the color picker (BODY element by default)\n\n      for (var opt in options) {\n        if (options.hasOwnProperty(opt)) {\n          this[opt] = options[opt];\n        }\n      }\n\n      this.hide = function () {\n        if (isPickerOwner()) {\n          detachPicker();\n        }\n      };\n\n      this.show = function () {\n        drawPicker();\n      };\n\n      this.redraw = function () {\n        if (isPickerOwner()) {\n          drawPicker();\n        }\n      };\n\n      this.importColor = function () {\n        if (!this.valueElement) {\n          this.exportColor();\n        } else if (jsc.isElementType(this.valueElement, \"input\")) {\n          if (!this.refine) {\n            if (!this.fromString(this.valueElement.value, jsc.leaveValue)) {\n              if (this.styleElement) {\n                this.styleElement.style.backgroundImage = this.styleElement._jscOrigStyle.backgroundImage;\n                this.styleElement.style.backgroundColor = this.styleElement._jscOrigStyle.backgroundColor;\n                this.styleElement.style.color = this.styleElement._jscOrigStyle.color;\n              }\n              this.exportColor(jsc.leaveValue | jsc.leaveStyle);\n            }\n          } else if (!this.required && /^\\s*$/.test(this.valueElement.value)) {\n            this.valueElement.value = \"\";\n            if (this.styleElement) {\n              this.styleElement.style.backgroundImage = this.styleElement._jscOrigStyle.backgroundImage;\n              this.styleElement.style.backgroundColor = this.styleElement._jscOrigStyle.backgroundColor;\n              this.styleElement.style.color = this.styleElement._jscOrigStyle.color;\n            }\n            this.exportColor(jsc.leaveValue | jsc.leaveStyle);\n          } else if (this.fromString(this.valueElement.value)) {\n            // managed to import color successfully from the value -> OK, don't do anything\n          } else {\n            this.exportColor();\n          }\n        } else {\n          // not an input element -> doesn't have any value\n          this.exportColor();\n        }\n      };\n\n      this.exportColor = function (flags) {\n        if (!(flags & jsc.leaveValue) && this.valueElement) {\n          var value = this.toString();\n          if (this.uppercase) {\n            value = value.toUpperCase();\n          }\n          if (this.hash) {\n            value = \"#\" + value;\n          }\n\n          if (jsc.isElementType(this.valueElement, \"input\")) {\n            this.valueElement.value = value;\n          } else {\n            this.valueElement.innerHTML = value;\n          }\n        }\n        if (!(flags & jsc.leaveStyle)) {\n          if (this.styleElement) {\n            var bgColor = \"#\" + this.toString();\n            var fgColor = this.isLight() ? \"#000\" : \"#FFF\";\n\n            this.styleElement.style.backgroundImage = \"none\";\n            this.styleElement.style.backgroundColor = bgColor;\n            this.styleElement.style.color = fgColor;\n\n            if (this.overwriteImportant) {\n              this.styleElement.setAttribute(\"style\", \"background: \" + bgColor + \" !important; \" + (\"color: \" + fgColor + \" !important;\"));\n            }\n          }\n        }\n        if (!(flags & jsc.leavePad) && isPickerOwner()) {\n          redrawPad();\n        }\n        if (!(flags & jsc.leaveSld) && isPickerOwner()) {\n          redrawSld();\n        }\n      };\n\n      // h: 0-360\n      // s: 0-100\n      // v: 0-100\n      //\n      this.fromHSV = function (h, s, v, flags) {\n        // null = don't change\n        if (h !== null) {\n          if (isNaN(h)) {\n            return false;\n          }\n          h = Math.max(0, Math.min(360, h));\n        }\n        if (s !== null) {\n          if (isNaN(s)) {\n            return false;\n          }\n          s = Math.max(0, Math.min(100, this.maxS, s), this.minS);\n        }\n        if (v !== null) {\n          if (isNaN(v)) {\n            return false;\n          }\n          v = Math.max(0, Math.min(100, this.maxV, v), this.minV);\n        }\n\n        this.rgb = HSV_RGB(h === null ? this.hsv[0] : this.hsv[0] = h, s === null ? this.hsv[1] : this.hsv[1] = s, v === null ? this.hsv[2] : this.hsv[2] = v);\n\n        this.exportColor(flags);\n      };\n\n      // r: 0-255\n      // g: 0-255\n      // b: 0-255\n      //\n      this.fromRGB = function (r, g, b, flags) {\n        // null = don't change\n        if (r !== null) {\n          if (isNaN(r)) {\n            return false;\n          }\n          r = Math.max(0, Math.min(255, r));\n        }\n        if (g !== null) {\n          if (isNaN(g)) {\n            return false;\n          }\n          g = Math.max(0, Math.min(255, g));\n        }\n        if (b !== null) {\n          if (isNaN(b)) {\n            return false;\n          }\n          b = Math.max(0, Math.min(255, b));\n        }\n\n        var hsv = RGB_HSV(r === null ? this.rgb[0] : r, g === null ? this.rgb[1] : g, b === null ? this.rgb[2] : b);\n        if (hsv[0] !== null) {\n          this.hsv[0] = Math.max(0, Math.min(360, hsv[0]));\n        }\n        if (hsv[2] !== 0) {\n          this.hsv[1] = hsv[1] === null ? null : Math.max(0, this.minS, Math.min(100, this.maxS, hsv[1]));\n        }\n        this.hsv[2] = hsv[2] === null ? null : Math.max(0, this.minV, Math.min(100, this.maxV, hsv[2]));\n\n        // update RGB according to final HSV, as some values might be trimmed\n        var rgb = HSV_RGB(this.hsv[0], this.hsv[1], this.hsv[2]);\n        this.rgb[0] = rgb[0];\n        this.rgb[1] = rgb[1];\n        this.rgb[2] = rgb[2];\n\n        this.exportColor(flags);\n      };\n\n      this.fromString = function (str, flags) {\n        var m = void 0;\n        if (m = str.match(/^\\W*([0-9A-F]{3}([0-9A-F]{3})?)\\W*$/i)) {\n          // HEX notation\n          //\n\n          if (m[1].length === 6) {\n            // 6-char notation\n            this.fromRGB(parseInt(m[1].substr(0, 2), 16), parseInt(m[1].substr(2, 2), 16), parseInt(m[1].substr(4, 2), 16), flags);\n          } else {\n            // 3-char notation\n            this.fromRGB(parseInt(m[1].charAt(0) + m[1].charAt(0), 16), parseInt(m[1].charAt(1) + m[1].charAt(1), 16), parseInt(m[1].charAt(2) + m[1].charAt(2), 16), flags);\n          }\n          return true;\n        }\n        if (m = str.match(/^\\W*rgba?\\(([^)]*)\\)\\W*$/i)) {\n          var params = m[1].split(\",\");\n          var re = /^\\s*(\\d*)(\\.\\d+)?\\s*$/;\n          var mR = void 0;\n          var mG = void 0;\n          var mB = void 0;\n          if (params.length >= 3 && (mR = params[0].match(re)) && (mG = params[1].match(re)) && (mB = params[2].match(re))) {\n            var r = parseFloat((mR[1] || \"0\") + (mR[2] || \"\"));\n            var g = parseFloat((mG[1] || \"0\") + (mG[2] || \"\"));\n            var b = parseFloat((mB[1] || \"0\") + (mB[2] || \"\"));\n            this.fromRGB(r, g, b, flags);\n            return true;\n          }\n        }\n        return false;\n      };\n\n      this.toString = function () {\n        return (0x100 | Math.round(this.rgb[0])).toString(16).substr(1) + (0x100 | Math.round(this.rgb[1])).toString(16).substr(1) + (0x100 | Math.round(this.rgb[2])).toString(16).substr(1);\n      };\n\n      this.toHEXString = function () {\n        return \"#\" + this.toString().toUpperCase();\n      };\n\n      this.toRGBString = function () {\n        return \"rgb(\" + Math.round(this.rgb[0]) + \",\" + Math.round(this.rgb[1]) + \",\" + Math.round(this.rgb[2]) + \")\";\n      };\n\n      this.isLight = function () {\n        return 0.213 * this.rgb[0] + 0.715 * this.rgb[1] + 0.072 * this.rgb[2] > 255 / 2;\n      };\n\n      this._processParentElementsInDOM = function () {\n        if (this._linkedElementsProcessed) {\n          return;\n        }\n        this._linkedElementsProcessed = true;\n\n        var elm = this.targetElement;\n        do {\n          // If the target element or one of its parent nodes has fixed position,\n          // then use fixed positioning instead\n          //\n          // Note: In Firefox, getComputedStyle returns null in a hidden iframe,\n          // that's why we need to check if the returned style object is non-empty\n          var currStyle = jsc.getStyle(elm);\n          if (currStyle && currStyle.position.toLowerCase() === \"fixed\") {\n            this.fixed = true;\n          }\n\n          if (elm !== this.targetElement) {\n            // Ensure to attach onParentScroll only once to each parent element\n            // (multiple targetElements can share the same parent nodes)\n            //\n            // Note: It's not just offsetParents that can be scrollable,\n            // that's why we loop through all parent nodes\n            if (!elm._jscEventsAttached) {\n              jsc.attachEvent(elm, \"scroll\", jsc.onParentScroll);\n              elm._jscEventsAttached = true;\n            }\n          }\n        } while ((elm = elm.parentNode) && !jsc.isElementType(elm, \"body\"));\n      };\n\n      // r: 0-255\n      // g: 0-255\n      // b: 0-255\n      //\n      // returns: [ 0-360, 0-100, 0-100 ]\n      //\n      function RGB_HSV(r, g, b) {\n        r /= 255;\n        g /= 255;\n        b /= 255;\n        var n = Math.min(Math.min(r, g), b);\n        var v = Math.max(Math.max(r, g), b);\n        var m = v - n;\n        if (m === 0) {\n          return [null, 0, 100 * v];\n        }\n        var h = r === n ? 3 + (b - g) / m : g === n ? 5 + (r - b) / m : 1 + (g - r) / m;\n        return [60 * (h === 6 ? 0 : h), 100 * (m / v), 100 * v];\n      }\n\n      // h: 0-360\n      // s: 0-100\n      // v: 0-100\n      //\n      // returns: [ 0-255, 0-255, 0-255 ]\n      //\n      function HSV_RGB(h, s, v) {\n        var u = 255 * (v / 100);\n\n        if (h === null) {\n          return [u, u, u];\n        }\n\n        h /= 60;\n        s /= 100;\n\n        var i = Math.floor(h);\n        var f = i % 2 ? h - i : 1 - (h - i);\n        var m = u * (1 - s);\n        var n = u * (1 - s * f);\n        switch (i) {\n          case 6:\n          case 0:\n            return [u, n, m];\n          case 1:\n            return [n, u, m];\n          case 2:\n            return [m, u, n];\n          case 3:\n            return [m, n, u];\n          case 4:\n            return [n, m, u];\n          case 5:\n            return [u, m, n];\n        }\n      }\n\n      function detachPicker() {\n        jsc.unsetClass(THIS.targetElement, THIS.activeClass);\n        jsc.picker.wrap.parentNode.removeChild(jsc.picker.wrap);\n        delete jsc.picker.owner;\n      }\n\n      function drawPicker() {\n        // At this point, when drawing the picker, we know what the parent elements are\n        // and we can do all related DOM operations, such as registering events on them\n        // or checking their positioning\n        THIS._processParentElementsInDOM();\n\n        if (!jsc.picker) {\n          jsc.picker = {\n            owner: null,\n            wrap: document.createElement(\"div\"),\n            box: document.createElement(\"div\"),\n            boxS: document.createElement(\"div\"), // shadow area\n            boxB: document.createElement(\"div\"), // border\n            pad: document.createElement(\"div\"),\n            padB: document.createElement(\"div\"), // border\n            padM: document.createElement(\"div\"), // mouse/touch area\n            padPal: jsc.createPalette(),\n            cross: document.createElement(\"div\"),\n            crossBY: document.createElement(\"div\"), // border Y\n            crossBX: document.createElement(\"div\"), // border X\n            crossLY: document.createElement(\"div\"), // line Y\n            crossLX: document.createElement(\"div\"), // line X\n            sld: document.createElement(\"div\"),\n            sldB: document.createElement(\"div\"), // border\n            sldM: document.createElement(\"div\"), // mouse/touch area\n            sldGrad: jsc.createSliderGradient(),\n            sldPtrS: document.createElement(\"div\"), // slider pointer spacer\n            sldPtrIB: document.createElement(\"div\"), // slider pointer inner border\n            sldPtrMB: document.createElement(\"div\"), // slider pointer middle border\n            sldPtrOB: document.createElement(\"div\"), // slider pointer outer border\n            btn: document.createElement(\"div\"),\n            btnT: document.createElement(\"span\") // text\n          };\n\n          jsc.picker.pad.appendChild(jsc.picker.padPal.elm);\n          jsc.picker.padB.appendChild(jsc.picker.pad);\n          jsc.picker.cross.appendChild(jsc.picker.crossBY);\n          jsc.picker.cross.appendChild(jsc.picker.crossBX);\n          jsc.picker.cross.appendChild(jsc.picker.crossLY);\n          jsc.picker.cross.appendChild(jsc.picker.crossLX);\n          jsc.picker.padB.appendChild(jsc.picker.cross);\n          jsc.picker.box.appendChild(jsc.picker.padB);\n          jsc.picker.box.appendChild(jsc.picker.padM);\n\n          jsc.picker.sld.appendChild(jsc.picker.sldGrad.elm);\n          jsc.picker.sldB.appendChild(jsc.picker.sld);\n          jsc.picker.sldB.appendChild(jsc.picker.sldPtrOB);\n          jsc.picker.sldPtrOB.appendChild(jsc.picker.sldPtrMB);\n          jsc.picker.sldPtrMB.appendChild(jsc.picker.sldPtrIB);\n          jsc.picker.sldPtrIB.appendChild(jsc.picker.sldPtrS);\n          jsc.picker.box.appendChild(jsc.picker.sldB);\n          jsc.picker.box.appendChild(jsc.picker.sldM);\n\n          jsc.picker.btn.appendChild(jsc.picker.btnT);\n          jsc.picker.box.appendChild(jsc.picker.btn);\n\n          jsc.picker.boxB.appendChild(jsc.picker.box);\n          jsc.picker.wrap.appendChild(jsc.picker.boxS);\n          jsc.picker.wrap.appendChild(jsc.picker.boxB);\n        }\n\n        var p = jsc.picker;\n\n        var displaySlider = !!jsc.getSliderComponent(THIS);\n        var dims = jsc.getPickerDims(THIS);\n        var crossOuterSize = 2 * THIS.pointerBorderWidth + THIS.pointerThickness + 2 * THIS.crossSize;\n        var padToSliderPadding = jsc.getPadToSliderPadding(THIS);\n        var borderRadius = Math.min(THIS.borderRadius, Math.round(THIS.padding * Math.PI)); // px\n        var padCursor = \"crosshair\";\n\n        // wrap\n        p.wrap.style.clear = \"both\";\n        p.wrap.style.width = dims[0] + 2 * THIS.borderWidth + \"px\";\n        p.wrap.style.height = dims[1] + 2 * THIS.borderWidth + \"px\";\n        p.wrap.style.zIndex = THIS.zIndex;\n\n        // picker\n        p.box.style.width = dims[0] + \"px\";\n        p.box.style.height = dims[1] + \"px\";\n\n        p.boxS.style.position = \"absolute\";\n        p.boxS.style.left = \"0\";\n        p.boxS.style.top = \"0\";\n        p.boxS.style.width = \"100%\";\n        p.boxS.style.height = \"100%\";\n        jsc.setBorderRadius(p.boxS, borderRadius + \"px\");\n\n        // picker border\n        p.boxB.style.position = \"relative\";\n        p.boxB.style.border = THIS.borderWidth + \"px solid\";\n        p.boxB.style.borderColor = THIS.borderColor;\n        p.boxB.style.background = THIS.backgroundColor;\n        jsc.setBorderRadius(p.boxB, borderRadius + \"px\");\n\n        // IE hack:\n        // If the element is transparent, IE will trigger the event on the elements under it,\n        // e.g. on Canvas or on elements with border\n        p.padM.style.background = p.sldM.style.background = \"#FFF\";\n        jsc.setStyle(p.padM, \"opacity\", \"0\");\n        jsc.setStyle(p.sldM, \"opacity\", \"0\");\n\n        // pad\n        p.pad.style.position = \"relative\";\n        p.pad.style.width = THIS.width + \"px\";\n        p.pad.style.height = THIS.height + \"px\";\n\n        // pad palettes (HSV and HVS)\n        p.padPal.draw(THIS.width, THIS.height, jsc.getPadYComponent(THIS));\n\n        // pad border\n        p.padB.style.position = \"absolute\";\n        p.padB.style.left = THIS.padding + \"px\";\n        p.padB.style.top = THIS.padding + \"px\";\n        p.padB.style.border = THIS.insetWidth + \"px solid\";\n        p.padB.style.borderColor = THIS.insetColor;\n\n        // pad mouse area\n        p.padM.jscInstance = THIS;\n        p.padM.jscControlName = \"pad\";\n        p.padM.style.position = \"absolute\";\n        p.padM.style.left = \"0\";\n        p.padM.style.top = \"0\";\n        p.padM.style.width = THIS.padding + 2 * THIS.insetWidth + THIS.width + padToSliderPadding / 2 + \"px\";\n        p.padM.style.height = dims[1] + \"px\";\n        p.padM.style.cursor = padCursor;\n\n        // pad cross\n        p.cross.style.position = \"absolute\";\n        p.cross.style.left = p.cross.style.top = \"0\";\n        p.cross.style.width = p.cross.style.height = crossOuterSize + \"px\";\n\n        // pad cross border Y and X\n        p.crossBY.style.position = p.crossBX.style.position = \"absolute\";\n        p.crossBY.style.background = p.crossBX.style.background = THIS.pointerBorderColor;\n        p.crossBY.style.width = p.crossBX.style.height = 2 * THIS.pointerBorderWidth + THIS.pointerThickness + \"px\";\n        p.crossBY.style.height = p.crossBX.style.width = crossOuterSize + \"px\";\n        p.crossBY.style.left = p.crossBX.style.top = Math.floor(crossOuterSize / 2) - Math.floor(THIS.pointerThickness / 2) - THIS.pointerBorderWidth + \"px\";\n        p.crossBY.style.top = p.crossBX.style.left = \"0\";\n\n        // pad cross line Y and X\n        p.crossLY.style.position = p.crossLX.style.position = \"absolute\";\n        p.crossLY.style.background = p.crossLX.style.background = THIS.pointerColor;\n        p.crossLY.style.height = p.crossLX.style.width = crossOuterSize - 2 * THIS.pointerBorderWidth + \"px\";\n        p.crossLY.style.width = p.crossLX.style.height = THIS.pointerThickness + \"px\";\n        p.crossLY.style.left = p.crossLX.style.top = Math.floor(crossOuterSize / 2) - Math.floor(THIS.pointerThickness / 2) + \"px\";\n        p.crossLY.style.top = p.crossLX.style.left = THIS.pointerBorderWidth + \"px\";\n\n        // slider\n        p.sld.style.overflow = \"hidden\";\n        p.sld.style.width = THIS.sliderSize + \"px\";\n        p.sld.style.height = THIS.height + \"px\";\n\n        // slider gradient\n        p.sldGrad.draw(THIS.sliderSize, THIS.height, \"#000\", \"#000\");\n\n        // slider border\n        p.sldB.style.display = displaySlider ? \"block\" : \"none\";\n        p.sldB.style.position = \"absolute\";\n        p.sldB.style.right = THIS.padding + \"px\";\n        p.sldB.style.top = THIS.padding + \"px\";\n        p.sldB.style.border = THIS.insetWidth + \"px solid\";\n        p.sldB.style.borderColor = THIS.insetColor;\n\n        // slider mouse area\n        p.sldM.jscInstance = THIS;\n        p.sldM.jscControlName = \"sld\";\n        p.sldM.style.display = displaySlider ? \"block\" : \"none\";\n        p.sldM.style.position = \"absolute\";\n        p.sldM.style.right = \"0\";\n        p.sldM.style.top = \"0\";\n        p.sldM.style.width = THIS.sliderSize + padToSliderPadding / 2 + THIS.padding + 2 * THIS.insetWidth + \"px\";\n        p.sldM.style.height = dims[1] + \"px\";\n        p.sldM.style.cursor = \"default\";\n\n        // slider pointer inner and outer border\n        p.sldPtrIB.style.border = p.sldPtrOB.style.border = THIS.pointerBorderWidth + \"px solid \" + THIS.pointerBorderColor;\n\n        // slider pointer outer border\n        p.sldPtrOB.style.position = \"absolute\";\n        p.sldPtrOB.style.left = -(2 * THIS.pointerBorderWidth + THIS.pointerThickness) + \"px\";\n        p.sldPtrOB.style.top = \"0\";\n\n        // slider pointer middle border\n        p.sldPtrMB.style.border = THIS.pointerThickness + \"px solid \" + THIS.pointerColor;\n\n        // slider pointer spacer\n        p.sldPtrS.style.width = THIS.sliderSize + \"px\";\n        p.sldPtrS.style.height = sliderPtrSpace + \"px\";\n\n        // the Close button\n        function setBtnBorder() {\n          var insetColors = THIS.insetColor.split(/\\s+/);\n          var outsetColor = insetColors.length < 2 ? insetColors[0] : insetColors[1] + \" \" + insetColors[0] + \" \" + insetColors[0] + \" \" + insetColors[1];\n          p.btn.style.borderColor = outsetColor;\n        }\n        p.btn.style.display = THIS.closable ? \"block\" : \"none\";\n        p.btn.style.position = \"absolute\";\n        p.btn.style.left = THIS.padding + \"px\";\n        p.btn.style.bottom = THIS.padding + \"px\";\n        p.btn.style.padding = \"0 15px\";\n        p.btn.style.height = THIS.buttonHeight + \"px\";\n        p.btn.style.border = THIS.insetWidth + \"px solid\";\n        setBtnBorder();\n        p.btn.style.color = THIS.buttonColor;\n        p.btn.style.font = \"12px sans-serif\";\n        p.btn.style.textAlign = \"center\";\n        try {\n          p.btn.style.cursor = \"pointer\";\n        } catch (eOldIE) {\n          p.btn.style.cursor = \"hand\";\n        }\n        p.btn.onmousedown = function () {\n          THIS.hide();\n        };\n        p.btnT.style.lineHeight = THIS.buttonHeight + \"px\";\n        p.btnT.innerHTML = \"\";\n        p.btnT.appendChild(document.createTextNode(THIS.closeText));\n\n        // place pointers\n        redrawPad();\n        redrawSld();\n\n        // If we are changing the owner without first closing the picker,\n        // make sure to first deal with the old owner\n        if (jsc.picker.owner && jsc.picker.owner !== THIS) {\n          jsc.unsetClass(jsc.picker.owner.targetElement, THIS.activeClass);\n        }\n\n        // Set the new picker owner\n        jsc.picker.owner = THIS;\n\n        // The redrawPosition() method needs picker.owner to be set, that's why we call it here,\n        // after setting the owner\n        if (jsc.isElementType(container, \"body\")) {\n          jsc.redrawPosition();\n        } else {\n          jsc.drawPosition(THIS, 0, 0, \"relative\", false);\n        }\n\n        if (p.wrap.parentNode != container) {\n          container.appendChild(p.wrap);\n        }\n\n        jsc.setClass(THIS.targetElement, THIS.activeClass);\n      }\n\n      function redrawPad() {\n        // redraw the pad pointer\n        switch (jsc.getPadYComponent(THIS)) {\n          case \"s\":\n            var yComponent = 1;\n            break;\n          case \"v\":\n            var yComponent = 2;\n            break;\n        }\n        var x = Math.round(THIS.hsv[0] / 360 * (THIS.width - 1));\n        var y = Math.round((1 - THIS.hsv[yComponent] / 100) * (THIS.height - 1));\n        var crossOuterSize = 2 * THIS.pointerBorderWidth + THIS.pointerThickness + 2 * THIS.crossSize;\n        var ofs = -Math.floor(crossOuterSize / 2);\n        jsc.picker.cross.style.left = x + ofs + \"px\";\n        jsc.picker.cross.style.top = y + ofs + \"px\";\n\n        // redraw the slider\n        switch (jsc.getSliderComponent(THIS)) {\n          case \"s\":\n            var rgb1 = HSV_RGB(THIS.hsv[0], 100, THIS.hsv[2]);\n            var rgb2 = HSV_RGB(THIS.hsv[0], 0, THIS.hsv[2]);\n            var color1 = \"rgb(\" + Math.round(rgb1[0]) + \",\" + Math.round(rgb1[1]) + \",\" + Math.round(rgb1[2]) + \")\";\n            var color2 = \"rgb(\" + Math.round(rgb2[0]) + \",\" + Math.round(rgb2[1]) + \",\" + Math.round(rgb2[2]) + \")\";\n            jsc.picker.sldGrad.draw(THIS.sliderSize, THIS.height, color1, color2);\n            break;\n          case \"v\":\n            var rgb = HSV_RGB(THIS.hsv[0], THIS.hsv[1], 100);\n            var color1 = \"rgb(\" + Math.round(rgb[0]) + \",\" + Math.round(rgb[1]) + \",\" + Math.round(rgb[2]) + \")\";\n            var color2 = \"#000\";\n            jsc.picker.sldGrad.draw(THIS.sliderSize, THIS.height, color1, color2);\n            break;\n        }\n      }\n\n      function redrawSld() {\n        var sldComponent = jsc.getSliderComponent(THIS);\n        if (sldComponent) {\n          // redraw the slider pointer\n          switch (sldComponent) {\n            case \"s\":\n              var yComponent = 1;\n              break;\n            case \"v\":\n              var yComponent = 2;\n              break;\n          }\n          var y = Math.round((1 - THIS.hsv[yComponent] / 100) * (THIS.height - 1));\n          jsc.picker.sldPtrOB.style.top = y - (2 * THIS.pointerBorderWidth + THIS.pointerThickness) - Math.floor(sliderPtrSpace / 2) + \"px\";\n        }\n      }\n\n      function isPickerOwner() {\n        return jsc.picker && jsc.picker.owner === THIS;\n      }\n\n      function blurValue() {\n        THIS.importColor();\n      }\n\n      // Find the target element\n      if (typeof targetElement === \"string\") {\n        var id = targetElement;\n        var elm = document.getElementById(id);\n        if (elm) {\n          this.targetElement = elm;\n        } else {\n          jsc.warn(\"Could not find target element with ID '\" + id + \"'\");\n        }\n      } else if (targetElement) {\n        this.targetElement = targetElement;\n      } else {\n        jsc.warn(\"Invalid target element: '\" + targetElement + \"'\");\n      }\n\n      if (this.targetElement.jscLinkedInstance) {\n        jsc.warn(\"Cannot link jscolor twice to the same element. Skipping.\");\n        return;\n      }\n      this.targetElement.jscLinkedInstance = this;\n\n      // Find the value element\n      this.valueElement = jsc.fetchElement(this.valueElement);\n      // Find the style element\n      this.styleElement = jsc.fetchElement(this.styleElement);\n\n      var THIS = this;\n      var container = this.container ? jsc.fetchElement(this.container) : document.getElementsByTagName(\"body\")[0];\n      var sliderPtrSpace = 3; // px\n\n      // For BUTTON elements it's important to stop them from sending the form when clicked\n      // (e.g. in Safari)\n      if (jsc.isElementType(this.targetElement, \"button\")) {\n        if (this.targetElement.onclick) {\n          var origCallback = this.targetElement.onclick;\n          this.targetElement.onclick = function (evt) {\n            origCallback.call(this, evt);\n            return false;\n          };\n        } else {\n          this.targetElement.onclick = function () {\n            return false;\n          };\n        }\n      }\n\n      /*\n      var elm = this.targetElement;\n      do {\n      // If the target element or one of its offsetParents has fixed position,\n      // then use fixed positioning instead\n      //\n      // Note: In Firefox, getComputedStyle returns null in a hidden iframe,\n      // that's why we need to check if the returned style object is non-empty\n      var currStyle = jsc.getStyle(elm);\n      if (currStyle && currStyle.position.toLowerCase() === 'fixed') {\n      this.fixed = true;\n      }\n      if (elm !== this.targetElement) {\n      // attach onParentScroll so that we can recompute the picker position\n      // when one of the offsetParents is scrolled\n      if (!elm._jscEventsAttached) {\n      jsc.attachEvent(elm, 'scroll', jsc.onParentScroll);\n      elm._jscEventsAttached = true;\n      }\n      }\n      } while ((elm = elm.offsetParent) && !jsc.isElementType(elm, 'body'));\n      */\n\n      // valueElement\n      if (this.valueElement) {\n        if (jsc.isElementType(this.valueElement, \"input\")) {\n          var updateField = function updateField() {\n            THIS.fromString(THIS.valueElement.value, jsc.leaveValue);\n            jsc.dispatchFineChange(THIS);\n          };\n          jsc.attachEvent(this.valueElement, \"keyup\", updateField);\n          jsc.attachEvent(this.valueElement, \"input\", updateField);\n          jsc.attachEvent(this.valueElement, \"blur\", blurValue);\n          this.valueElement.setAttribute(\"autocomplete\", \"off\");\n        }\n      }\n\n      // styleElement\n      if (this.styleElement) {\n        this.styleElement._jscOrigStyle = {\n          backgroundImage: this.styleElement.style.backgroundImage,\n          backgroundColor: this.styleElement.style.backgroundColor,\n          color: this.styleElement.style.color\n        };\n      }\n\n      if (this.value) {\n        // Try to set the color from the .value option and if unsuccessful,\n        // export the current color\n        this.fromString(this.value) || this.exportColor();\n      } else {\n        this.importColor();\n      }\n    }\n  };\n\n  //= ===============================\n  // Public properties and methods\n  //= ===============================\n\n  // By default, search for all elements with class=\"jscolor\" and install a color picker on them.\n  //\n  // You can change what class name will be looked for by setting the property jscolor.lookupClass\n  // anywhere in your HTML document. To completely disable the automatic lookup, set it to null.\n  //\n  jsc.jscolor.lookupClass = \"jscolorPrev\";\n\n  jsc.jscolor.installByClassName = function (className) {\n    var inputElms = document.getElementsByTagName(\"input\");\n    var buttonElms = document.getElementsByTagName(\"button\");\n\n    jsc.tryInstallOnElements(inputElms, className);\n    jsc.tryInstallOnElements(buttonElms, className);\n  };\n\n  jsc.register();\n\n  return jsc.jscolor;\n}\n\nexports.default = chooseColor;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90b29scy9Ub29sc0Z1bmNzL2Nob29zZUNvbG9yUHJldmlvdXMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvdG9vbHMvVG9vbHNGdW5jcy9jaG9vc2VDb2xvclByZXZpb3VzLmpzPzhmODEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBqc2NvbG9yIC0gSmF2YVNjcmlwdCBDb2xvciBQaWNrZXJcbiAqXG4gKiBAbGluayAgICBodHRwOi8vanNjb2xvci5jb21cbiAqIEBsaWNlbnNlIEZvciBvcGVuIHNvdXJjZSB1c2U6IEdQTHYzXG4gKiAgICAgICAgICBGb3IgY29tbWVyY2lhbCB1c2U6IEpTQ29sb3IgQ29tbWVyY2lhbCBMaWNlbnNlXG4gKiBAYXV0aG9yICBKYW4gT2R2YXJrb1xuICogQHZlcnNpb24gMi4wLjVcbiAqXG4gKiBTZWUgdXNhZ2UgZXhhbXBsZXMgYXQgaHR0cDovL2pzY29sb3IuY29tL2V4YW1wbGVzL1xuICovXG5cbmZ1bmN0aW9uIGNob29zZUNvbG9yKCkge1xuICBjb25zdCBqc2MgPSB7XG4gICAgcmVnaXN0ZXIoKSB7XG4gICAgICBqc2MuYXR0YWNoRE9NUmVhZHlFdmVudChqc2MuaW5pdCk7XG4gICAgICBqc2MuYXR0YWNoRXZlbnQoZG9jdW1lbnQsIFwibW91c2Vkb3duXCIsIGpzYy5vbkRvY3VtZW50TW91c2VEb3duKTtcbiAgICAgIGpzYy5hdHRhY2hFdmVudChkb2N1bWVudCwgXCJ0b3VjaHN0YXJ0XCIsIGpzYy5vbkRvY3VtZW50VG91Y2hTdGFydCk7XG4gICAgICBqc2MuYXR0YWNoRXZlbnQod2luZG93LCBcInJlc2l6ZVwiLCBqc2Mub25XaW5kb3dSZXNpemUpO1xuICAgIH0sXG4gICAgaW5pdCgpIHtcbiAgICAgIGlmIChqc2MuanNjb2xvci5sb29rdXBDbGFzcykge1xuICAgICAgICBqc2MuanNjb2xvci5pbnN0YWxsQnlDbGFzc05hbWUoanNjLmpzY29sb3IubG9va3VwQ2xhc3MpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdHJ5SW5zdGFsbE9uRWxlbWVudHMoZWxtcywgY2xhc3NOYW1lKSB7XG4gICAgICBjb25zdCBtYXRjaENsYXNzID0gbmV3IFJlZ0V4cChcbiAgICAgICAgYChefFxcXFxzKSgke2NsYXNzTmFtZX0pKFxcXFxzKihcXFxce1tefV0qXFxcXH0pfFxcXFxzfCQpYCxcbiAgICAgICAgXCJpXCJcbiAgICAgICk7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxtcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBtID0gZWxtc1tpXS5jbGFzc05hbWUubWF0Y2gobWF0Y2hDbGFzcyk7XG4gICAgICAgIGlmICghZWxtc1tpXS5qc2NvbG9yICYmIGVsbXNbaV0uY2xhc3NOYW1lICYmIG0pIHtcbiAgICAgICAgICBjb25zdCB0YXJnZXRFbG0gPSBlbG1zW2ldO1xuICAgICAgICAgIGxldCBvcHRzU3RyID0gbnVsbDtcblxuICAgICAgICAgIGNvbnN0IGRhdGFPcHRpb25zID0ganNjLmdldERhdGFBdHRyKHRhcmdldEVsbSwgXCJqc2NvbG9yXCIpO1xuICAgICAgICAgIGlmIChkYXRhT3B0aW9ucyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgb3B0c1N0ciA9IGRhdGFPcHRpb25zO1xuICAgICAgICAgIH0gZWxzZSBpZiAobVs0XSkge1xuICAgICAgICAgICAgb3B0c1N0ciA9IG1bNF07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGV0IG9wdHMgPSB7fTtcbiAgICAgICAgICBpZiAob3B0c1N0cikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgb3B0cyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0c1N0cjtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVQYXJzZUVycm9yKSB7XG4gICAgICAgICAgICAgIGpzYy53YXJuKFxuICAgICAgICAgICAgICAgIGBFcnJvciBwYXJzaW5nIGpzY29sb3Igb3B0aW9uczogJHtlUGFyc2VFcnJvcn06XFxuJHtvcHRzU3RyfWBcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdGFyZ2V0RWxtLmpzY29sb3IgPSBuZXcganNjLmpzY29sb3IodGFyZ2V0RWxtLCBvcHRzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBpc0NvbG9yQXR0clN1cHBvcnRlZDogKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc3QgZWxtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgaWYgKGVsbS5zZXRBdHRyaWJ1dGUpIHtcbiAgICAgICAgZWxtLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJjb2xvclwiKTtcbiAgICAgICAgaWYgKGVsbS50eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiY29sb3JcIikge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSkoKSxcblxuICAgIGlzQ2FudmFzU3VwcG9ydGVkOiAoZnVuY3Rpb24oKSB7XG4gICAgICBjb25zdCBlbG0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgICAgcmV0dXJuICEhKGVsbS5nZXRDb250ZXh0ICYmIGVsbS5nZXRDb250ZXh0KFwiMmRcIikpO1xuICAgIH0pKCksXG5cbiAgICBmZXRjaEVsZW1lbnQobWl4ZWQpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgbWl4ZWQgPT09IFwic3RyaW5nXCIgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtaXhlZCkgOiBtaXhlZDtcbiAgICB9LFxuXG4gICAgaXNFbGVtZW50VHlwZShlbG0sIHR5cGUpIHtcbiAgICAgIHJldHVybiBlbG0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gdHlwZS50b0xvd2VyQ2FzZSgpO1xuICAgIH0sXG5cbiAgICBnZXREYXRhQXR0cihlbCwgbmFtZSkge1xuICAgICAgY29uc3QgYXR0ck5hbWUgPSBgZGF0YS0ke25hbWV9YDtcbiAgICAgIGNvbnN0IGF0dHJWYWx1ZSA9IGVsLmdldEF0dHJpYnV0ZShhdHRyTmFtZSk7XG4gICAgICBpZiAoYXR0clZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBhdHRyVmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuXG4gICAgYXR0YWNoRXZlbnQoZWwsIGV2bnQsIGZ1bmMpIHtcbiAgICAgIGlmIChlbC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZudCwgZnVuYywgZmFsc2UpO1xuICAgICAgfSBlbHNlIGlmIChlbC5hdHRhY2hFdmVudCkge1xuICAgICAgICBlbC5hdHRhY2hFdmVudChgb24ke2V2bnR9YCwgZnVuYyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGRldGFjaEV2ZW50KGVsLCBldm50LCBmdW5jKSB7XG4gICAgICBpZiAoZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2bnQsIGZ1bmMsIGZhbHNlKTtcbiAgICAgIH0gZWxzZSBpZiAoZWwuZGV0YWNoRXZlbnQpIHtcbiAgICAgICAgZWwuZGV0YWNoRXZlbnQoYG9uJHtldm50fWAsIGZ1bmMpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBhdHRhY2hlZEdyb3VwRXZlbnRzOiB7fSxcblxuICAgIGF0dGFjaEdyb3VwRXZlbnQoZ3JvdXBOYW1lLCBlbCwgZXZudCwgZnVuYykge1xuICAgICAgY29uc3QgaGFzR3JvdXBOYW1lID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKFxuICAgICAgICBqc2MuYXR0YWNoZWRHcm91cEV2ZW50cyxcbiAgICAgICAgZ3JvdXBOYW1lXG4gICAgICApO1xuICAgICAgaWYgKGhhc0dyb3VwTmFtZSkge1xuICAgICAgICBqc2MuYXR0YWNoZWRHcm91cEV2ZW50c1tncm91cE5hbWVdID0gW107XG4gICAgICB9XG4gICAgICBqc2MuYXR0YWNoZWRHcm91cEV2ZW50c1tncm91cE5hbWVdLnB1c2goW2VsLCBldm50LCBmdW5jXSk7XG4gICAgICBqc2MuYXR0YWNoRXZlbnQoZWwsIGV2bnQsIGZ1bmMpO1xuICAgIH0sXG5cbiAgICBkZXRhY2hHcm91cEV2ZW50cyhncm91cE5hbWUpIHtcbiAgICAgIGNvbnN0IGhhc0dyb3VwTmFtZSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChcbiAgICAgICAganNjLmF0dGFjaGVkR3JvdXBFdmVudHMsXG4gICAgICAgIGdyb3VwTmFtZVxuICAgICAgKTtcbiAgICAgIGlmIChoYXNHcm91cE5hbWUpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBqc2MuYXR0YWNoZWRHcm91cEV2ZW50c1tncm91cE5hbWVdLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgY29uc3QgZXZ0ID0ganNjLmF0dGFjaGVkR3JvdXBFdmVudHNbZ3JvdXBOYW1lXVtpXTtcbiAgICAgICAgICBqc2MuZGV0YWNoRXZlbnQoZXZ0WzBdLCBldnRbMV0sIGV2dFsyXSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIGpzYy5hdHRhY2hlZEdyb3VwRXZlbnRzW2dyb3VwTmFtZV07XG4gICAgICB9XG4gICAgfSxcblxuICAgIGF0dGFjaERPTVJlYWR5RXZlbnQoZnVuYykge1xuICAgICAgbGV0IGZpcmVkID0gZmFsc2U7XG4gICAgICBjb25zdCBmaXJlT25jZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIWZpcmVkKSB7XG4gICAgICAgICAgZmlyZWQgPSB0cnVlO1xuICAgICAgICAgIGZ1bmMoKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIikge1xuICAgICAgICBzZXRUaW1lb3V0KGZpcmVPbmNlLCAxKTsgLy8gYXN5bmNcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBmaXJlT25jZSwgZmFsc2UpO1xuXG4gICAgICAgIC8vIEZhbGxiYWNrXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmaXJlT25jZSwgZmFsc2UpO1xuICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5hdHRhY2hFdmVudCkge1xuICAgICAgICAvLyBJRVxuICAgICAgICBkb2N1bWVudC5hdHRhY2hFdmVudChcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJjb21wbGV0ZVwiKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5kZXRhY2hFdmVudChcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiLCBhcmd1bWVudHMuY2FsbGVlKTtcbiAgICAgICAgICAgIGZpcmVPbmNlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBGYWxsYmFja1xuICAgICAgICB3aW5kb3cuYXR0YWNoRXZlbnQoXCJvbmxvYWRcIiwgZmlyZU9uY2UpO1xuXG4gICAgICAgIC8vIElFNy84XG4gICAgICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwgJiYgd2luZG93ID09PSB3aW5kb3cudG9wKSB7XG4gICAgICAgICAgY29uc3QgdHJ5U2Nyb2xsID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbChcImxlZnRcIik7XG4gICAgICAgICAgICAgIGZpcmVPbmNlKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQodHJ5U2Nyb2xsLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIHRyeVNjcm9sbCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHdhcm4obXNnKSB7XG4gICAgICBpZiAod2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUud2Fybikge1xuICAgICAgICB3aW5kb3cuY29uc29sZS53YXJuKG1zZyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHByZXZlbnREZWZhdWx0KGUpIHtcbiAgICAgIGlmIChlLnByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICB9LFxuXG4gICAgY2FwdHVyZVRhcmdldCh0YXJnZXQpIHtcbiAgICAgIC8vIElFXG4gICAgICBpZiAodGFyZ2V0LnNldENhcHR1cmUpIHtcbiAgICAgICAganNjLmNhcHR1cmVkVGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICBqc2MuY2FwdHVyZWRUYXJnZXQuc2V0Q2FwdHVyZSgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICByZWxlYXNlVGFyZ2V0KCkge1xuICAgICAgLy8gSUVcbiAgICAgIGlmIChqc2MuY2FwdHVyZWRUYXJnZXQpIHtcbiAgICAgICAganNjLmNhcHR1cmVkVGFyZ2V0LnJlbGVhc2VDYXB0dXJlKCk7XG4gICAgICAgIGpzYy5jYXB0dXJlZFRhcmdldCA9IG51bGw7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGZpcmVFdmVudChlbCwgZXZudCkge1xuICAgICAgaWYgKCFlbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZG9jdW1lbnQuY3JlYXRlRXZlbnQpIHtcbiAgICAgICAgY29uc3QgZXYgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIkhUTUxFdmVudHNcIik7XG4gICAgICAgIGV2LmluaXRFdmVudChldm50LCB0cnVlLCB0cnVlKTtcbiAgICAgICAgZWwuZGlzcGF0Y2hFdmVudChldik7XG4gICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmNyZWF0ZUV2ZW50T2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IGV2ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnRPYmplY3QoKTtcbiAgICAgICAgZWwuZmlyZUV2ZW50KGBvbiR7ZXZudH1gLCBldik7XG4gICAgICB9IGVsc2UgaWYgKGVsW2BvbiR7ZXZudH1gXSkge1xuICAgICAgICAvLyBhbHRlcm5hdGl2ZWx5IHVzZSB0aGUgdHJhZGl0aW9uYWwgZXZlbnQgbW9kZWxcbiAgICAgICAgZWxbYG9uJHtldm50fWBdKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGNsYXNzTmFtZVRvTGlzdChjbGFzc05hbWUpIHtcbiAgICAgIHJldHVybiBjbGFzc05hbWUucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgXCJcIikuc3BsaXQoL1xccysvKTtcbiAgICB9LFxuXG4gICAgLy8gVGhlIGNsYXNzTmFtZSBwYXJhbWV0ZXIgKHN0cikgY2FuIG9ubHkgY29udGFpbiBhIHNpbmdsZSBjbGFzcyBuYW1lXG4gICAgaGFzQ2xhc3MoZWxtLCBjbGFzc05hbWUpIHtcbiAgICAgIGlmICghY2xhc3NOYW1lKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoXG4gICAgICAgIGAgJHtlbG0uY2xhc3NOYW1lLnJlcGxhY2UoL1xccysvZywgXCIgXCIpfSBgLmluZGV4T2YoYCAke2NsYXNzTmFtZX0gYCkgIT09XG4gICAgICAgIC0xXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvLyBUaGUgY2xhc3NOYW1lIHBhcmFtZXRlciAoc3RyKSBjYW4gY29udGFpbiBtdWx0aXBsZSBjbGFzcyBuYW1lcyBzZXBhcmF0ZWQgYnkgd2hpdGVzcGFjZVxuICAgIHNldENsYXNzKGVsbSwgY2xhc3NOYW1lKSB7XG4gICAgICBjb25zdCBjbGFzc0xpc3QgPSBqc2MuY2xhc3NOYW1lVG9MaXN0KGNsYXNzTmFtZSk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNsYXNzTGlzdC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAoIWpzYy5oYXNDbGFzcyhlbG0sIGNsYXNzTGlzdFtpXSkpIHtcbiAgICAgICAgICBlbG0uY2xhc3NOYW1lICs9IChlbG0uY2xhc3NOYW1lID8gXCIgXCIgOiBcIlwiKSArIGNsYXNzTGlzdFtpXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBUaGUgY2xhc3NOYW1lIHBhcmFtZXRlciAoc3RyKSBjYW4gY29udGFpbiBtdWx0aXBsZSBjbGFzcyBuYW1lcyBzZXBhcmF0ZWQgYnkgd2hpdGVzcGFjZVxuICAgIHVuc2V0Q2xhc3MoZWxtLCBjbGFzc05hbWUpIHtcbiAgICAgIGNvbnN0IGNsYXNzTGlzdCA9IGpzYy5jbGFzc05hbWVUb0xpc3QoY2xhc3NOYW1lKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2xhc3NMaXN0Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IHJlcGwgPSBuZXcgUmVnRXhwKFxuICAgICAgICAgIGBeXFxcXHMqJHtjbGFzc0xpc3RbaV19XFxcXHMqfGAgK1xuICAgICAgICAgICAgYFxcXFxzKiR7Y2xhc3NMaXN0W2ldfVxcXFxzKiR8YCArXG4gICAgICAgICAgICBgXFxcXHMrJHtjbGFzc0xpc3RbaV19KFxcXFxzKylgLFxuICAgICAgICAgIFwiZ1wiXG4gICAgICAgICk7XG4gICAgICAgIGVsbS5jbGFzc05hbWUgPSBlbG0uY2xhc3NOYW1lLnJlcGxhY2UocmVwbCwgXCIkMVwiKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZ2V0U3R5bGUoZWxtKSB7XG4gICAgICByZXR1cm4gd2luZG93LmdldENvbXB1dGVkU3R5bGVcbiAgICAgICAgPyB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbG0pXG4gICAgICAgIDogZWxtLmN1cnJlbnRTdHlsZTtcbiAgICB9LFxuXG4gICAgc2V0U3R5bGU6IChmdW5jdGlvbigpIHtcbiAgICAgIGNvbnN0IGhlbHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBjb25zdCBnZXRTdXBwb3J0ZWRQcm9wID0gZnVuY3Rpb24obmFtZXMpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgIGlmIChuYW1lc1tpXSBpbiBoZWxwZXIuc3R5bGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuYW1lc1tpXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9O1xuICAgICAgY29uc3QgcHJvcHMgPSB7XG4gICAgICAgIGJvcmRlclJhZGl1czogZ2V0U3VwcG9ydGVkUHJvcChbXG4gICAgICAgICAgXCJib3JkZXJSYWRpdXNcIixcbiAgICAgICAgICBcIk1vekJvcmRlclJhZGl1c1wiLFxuICAgICAgICAgIFwid2Via2l0Qm9yZGVyUmFkaXVzXCJcbiAgICAgICAgXSksXG4gICAgICAgIGJveFNoYWRvdzogZ2V0U3VwcG9ydGVkUHJvcChbXG4gICAgICAgICAgXCJib3hTaGFkb3dcIixcbiAgICAgICAgICBcIk1vekJveFNoYWRvd1wiLFxuICAgICAgICAgIFwid2Via2l0Qm94U2hhZG93XCJcbiAgICAgICAgXSlcbiAgICAgIH07XG4gICAgICByZXR1cm4gZnVuY3Rpb24oZWxtLCBwcm9wLCB2YWx1ZSkge1xuICAgICAgICBzd2l0Y2ggKHByb3AudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgIGNhc2UgXCJvcGFjaXR5XCI6IHtcbiAgICAgICAgICAgIGNvbnN0IGFscGhhT3BhY2l0eSA9IE1hdGgucm91bmQocGFyc2VGbG9hdCh2YWx1ZSkgKiAxMDApO1xuICAgICAgICAgICAgZWxtLnN0eWxlLm9wYWNpdHkgPSB2YWx1ZTtcbiAgICAgICAgICAgIGVsbS5zdHlsZS5maWx0ZXIgPSBgYWxwaGEob3BhY2l0eT0ke2FscGhhT3BhY2l0eX0pYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgZWxtLnN0eWxlW3Byb3BzW3Byb3BdXSA9IHZhbHVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSkoKSxcblxuICAgIHNldEJvcmRlclJhZGl1cyhlbG0sIHZhbHVlKSB7XG4gICAgICBqc2Muc2V0U3R5bGUoZWxtLCBcImJvcmRlclJhZGl1c1wiLCB2YWx1ZSB8fCBcIjBcIik7XG4gICAgfSxcblxuICAgIHNldEJveFNoYWRvdyhlbG0sIHZhbHVlKSB7XG4gICAgICBqc2Muc2V0U3R5bGUoZWxtLCBcImJveFNoYWRvd1wiLCB2YWx1ZSB8fCBcIm5vbmVcIik7XG4gICAgfSxcblxuICAgIGdldEVsZW1lbnRQb3MoZSwgcmVsYXRpdmVUb1ZpZXdwb3J0KSB7XG4gICAgICBsZXQgeCA9IDA7XG4gICAgICBsZXQgeSA9IDA7XG4gICAgICBjb25zdCByZWN0ID0gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHggPSByZWN0LmxlZnQ7XG4gICAgICB5ID0gcmVjdC50b3A7XG4gICAgICBpZiAoIXJlbGF0aXZlVG9WaWV3cG9ydCkge1xuICAgICAgICBjb25zdCB2aWV3UG9zID0ganNjLmdldFZpZXdQb3MoKTtcbiAgICAgICAgeCArPSB2aWV3UG9zWzBdO1xuICAgICAgICB5ICs9IHZpZXdQb3NbMV07XG4gICAgICB9XG4gICAgICByZXR1cm4gW3gsIHldO1xuICAgIH0sXG5cbiAgICBnZXRFbGVtZW50U2l6ZShlKSB7XG4gICAgICByZXR1cm4gW2Uub2Zmc2V0V2lkdGgsIGUub2Zmc2V0SGVpZ2h0XTtcbiAgICB9LFxuXG4gICAgLy8gZ2V0IHBvaW50ZXIncyBYL1kgY29vcmRpbmF0ZXMgcmVsYXRpdmUgdG8gdmlld3BvcnRcbiAgICBnZXRBYnNQb2ludGVyUG9zKGUpIHtcbiAgICAgIGxldCB4ID0gMDtcbiAgICAgIGxldCB5ID0gMDtcbiAgICAgIGlmICh0eXBlb2YgZS5jaGFuZ2VkVG91Y2hlcyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBlLmNoYW5nZWRUb3VjaGVzLmxlbmd0aCkge1xuICAgICAgICAvLyB0b3VjaCBkZXZpY2VzXG4gICAgICAgIHggPSBlLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICAgIHkgPSBlLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBlLmNsaWVudFggPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgeCA9IGUuY2xpZW50WDtcbiAgICAgICAgeSA9IGUuY2xpZW50WTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7IHgsIHkgfTtcbiAgICB9LFxuXG4gICAgLy8gZ2V0IHBvaW50ZXIncyBYL1kgY29vcmRpbmF0ZXMgcmVsYXRpdmUgdG8gdGFyZ2V0IGVsZW1lbnRcbiAgICBnZXRSZWxQb2ludGVyUG9zKGUpIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudDtcbiAgICAgIGNvbnN0IHRhcmdldFJlY3QgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgIGxldCB4ID0gMDtcbiAgICAgIGxldCB5ID0gMDtcblxuICAgICAgbGV0IGNsaWVudFggPSAwO1xuICAgICAgbGV0IGNsaWVudFkgPSAwO1xuICAgICAgaWYgKHR5cGVvZiBlLmNoYW5nZWRUb3VjaGVzICE9PSBcInVuZGVmaW5lZFwiICYmIGUuY2hhbmdlZFRvdWNoZXMubGVuZ3RoKSB7XG4gICAgICAgIC8vIHRvdWNoIGRldmljZXNcbiAgICAgICAgY2xpZW50WCA9IGUuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgICAgY2xpZW50WSA9IGUuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGUuY2xpZW50WCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICBjbGllbnRYID0gZS5jbGllbnRYO1xuICAgICAgICBjbGllbnRZID0gZS5jbGllbnRZO1xuICAgICAgfVxuXG4gICAgICB4ID0gY2xpZW50WCAtIHRhcmdldFJlY3QubGVmdDtcbiAgICAgIHkgPSBjbGllbnRZIC0gdGFyZ2V0UmVjdC50b3A7XG4gICAgICByZXR1cm4geyB4LCB5IH07XG4gICAgfSxcblxuICAgIGdldFZpZXdQb3MoKSB7XG4gICAgICBjb25zdCBkb2MgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICByZXR1cm4gW1xuICAgICAgICAod2luZG93LnBhZ2VYT2Zmc2V0IHx8IGRvYy5zY3JvbGxMZWZ0KSAtIChkb2MuY2xpZW50TGVmdCB8fCAwKSxcbiAgICAgICAgKHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2Muc2Nyb2xsVG9wKSAtIChkb2MuY2xpZW50VG9wIHx8IDApXG4gICAgICBdO1xuICAgIH0sXG5cbiAgICBnZXRWaWV3U2l6ZSgpIHtcbiAgICAgIGNvbnN0IGRvYyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIHdpbmRvdy5pbm5lcldpZHRoIHx8IGRvYy5jbGllbnRXaWR0aCxcbiAgICAgICAgd2luZG93LmlubmVySGVpZ2h0IHx8IGRvYy5jbGllbnRIZWlnaHRcbiAgICAgIF07XG4gICAgfSxcblxuICAgIHJlZHJhd1Bvc2l0aW9uKCkge1xuICAgICAgaWYgKGpzYy5waWNrZXIgJiYganNjLnBpY2tlci5vd25lcikge1xuICAgICAgICBjb25zdCB0aGlzT2JqID0ganNjLnBpY2tlci5vd25lcjtcblxuICAgICAgICBsZXQgdHA7XG4gICAgICAgIGxldCB2cDtcblxuICAgICAgICBpZiAodGhpc09iai5maXhlZCkge1xuICAgICAgICAgIC8vIEZpeGVkIGVsZW1lbnRzIGFyZSBwb3NpdGlvbmVkIHJlbGF0aXZlIHRvIHZpZXdwb3J0LFxuICAgICAgICAgIC8vIHRoZXJlZm9yZSB3ZSBjYW4gaWdub3JlIHRoZSBzY3JvbGwgb2Zmc2V0XG4gICAgICAgICAgdHAgPSBqc2MuZ2V0RWxlbWVudFBvcyh0aGlzT2JqLnRhcmdldEVsZW1lbnQsIHRydWUpOyAvLyB0YXJnZXQgcG9zXG4gICAgICAgICAgdnAgPSBbMCwgMF07IC8vIHZpZXcgcG9zXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHAgPSBqc2MuZ2V0RWxlbWVudFBvcyh0aGlzT2JqLnRhcmdldEVsZW1lbnQpOyAvLyB0YXJnZXQgcG9zXG4gICAgICAgICAgdnAgPSBqc2MuZ2V0Vmlld1BvcygpOyAvLyB2aWV3IHBvc1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdHMgPSBqc2MuZ2V0RWxlbWVudFNpemUodGhpc09iai50YXJnZXRFbGVtZW50KTsgLy8gdGFyZ2V0IHNpemVcbiAgICAgICAgY29uc3QgdnMgPSBqc2MuZ2V0Vmlld1NpemUoKTsgLy8gdmlldyBzaXplXG4gICAgICAgIGNvbnN0IHBzID0ganNjLmdldFBpY2tlck91dGVyRGltcyh0aGlzT2JqKTsgLy8gcGlja2VyIHNpemVcbiAgICAgICAgbGV0IGE7XG4gICAgICAgIGxldCBiO1xuICAgICAgICBsZXQgYztcbiAgICAgICAgc3dpdGNoICh0aGlzT2JqLnBvc2l0aW9uLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICBjYXNlIFwibGVmdFwiOlxuICAgICAgICAgICAgYSA9IDE7XG4gICAgICAgICAgICBiID0gMDtcbiAgICAgICAgICAgIGMgPSAtMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJyaWdodFwiOlxuICAgICAgICAgICAgYSA9IDE7XG4gICAgICAgICAgICBiID0gMDtcbiAgICAgICAgICAgIGMgPSAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInRvcFwiOlxuICAgICAgICAgICAgYSA9IDA7XG4gICAgICAgICAgICBiID0gMTtcbiAgICAgICAgICAgIGMgPSAtMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBhID0gMDtcbiAgICAgICAgICAgIGIgPSAxO1xuICAgICAgICAgICAgYyA9IDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsID0gKHRzW2JdICsgcHNbYl0pIC8gMjtcblxuICAgICAgICBsZXQgcHAgPSBbXTtcbiAgICAgICAgaWYgKCF0aGlzT2JqLnNtYXJ0UG9zaXRpb24pIHtcbiAgICAgICAgICBwcCA9IFt0cFthXSwgdHBbYl0gKyB0c1tiXSAtIGwgKyBsICogY107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHAgPSBbXG4gICAgICAgICAgICAtdnBbYV0gKyB0cFthXSArIHBzW2FdID4gdnNbYV1cbiAgICAgICAgICAgICAgPyAtdnBbYV0gKyB0cFthXSArIHRzW2FdIC8gMiA+IHZzW2FdIC8gMiAmJlxuICAgICAgICAgICAgICAgIHRwW2FdICsgdHNbYV0gLSBwc1thXSA+PSAwXG4gICAgICAgICAgICAgICAgPyB0cFthXSArIHRzW2FdIC0gcHNbYV1cbiAgICAgICAgICAgICAgICA6IHRwW2FdXG4gICAgICAgICAgICAgIDogdHBbYV0sXG4gICAgICAgICAgICAtdnBbYl0gKyB0cFtiXSArIHRzW2JdICsgcHNbYl0gLSBsICsgbCAqIGMgPiB2c1tiXVxuICAgICAgICAgICAgICA/IC12cFtiXSArIHRwW2JdICsgdHNbYl0gLyAyID4gdnNbYl0gLyAyICYmXG4gICAgICAgICAgICAgICAgdHBbYl0gKyB0c1tiXSAtIGwgLSBsICogYyA+PSAwXG4gICAgICAgICAgICAgICAgPyB0cFtiXSArIHRzW2JdIC0gbCAtIGwgKiBjXG4gICAgICAgICAgICAgICAgOiB0cFtiXSArIHRzW2JdIC0gbCArIGwgKiBjXG4gICAgICAgICAgICAgIDogdHBbYl0gKyB0c1tiXSAtIGwgKyBsICogYyA+PSAwXG4gICAgICAgICAgICAgID8gdHBbYl0gKyB0c1tiXSAtIGwgKyBsICogY1xuICAgICAgICAgICAgICA6IHRwW2JdICsgdHNbYl0gLSBsIC0gbCAqIGNcbiAgICAgICAgICBdO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeCA9IHBwW2FdO1xuICAgICAgICBjb25zdCB5ID0gcHBbYl07XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uVmFsdWUgPSB0aGlzT2JqLmZpeGVkID8gXCJmaXhlZFwiIDogXCJhYnNvbHV0ZVwiO1xuICAgICAgICBjb25zdCBjb250cmFjdFNoYWRvdyA9XG4gICAgICAgICAgKHBwWzBdICsgcHNbMF0gPiB0cFswXSB8fCBwcFswXSA8IHRwWzBdICsgdHNbMF0pICYmXG4gICAgICAgICAgcHBbMV0gKyBwc1sxXSA8IHRwWzFdICsgdHNbMV07XG5cbiAgICAgICAganNjLmRyYXdQb3NpdGlvbih0aGlzT2JqLCB4LCB5LCBwb3NpdGlvblZhbHVlLCBjb250cmFjdFNoYWRvdyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGRyYXdQb3NpdGlvbih0aGlzT2JqLCB4LCB5LCBwb3NpdGlvblZhbHVlLCBjb250cmFjdFNoYWRvdykge1xuICAgICAgY29uc3QgdlNoYWRvdyA9IGNvbnRyYWN0U2hhZG93ID8gMCA6IHRoaXNPYmouc2hhZG93Qmx1cjsgLy8gcHhcblxuICAgICAganNjLnBpY2tlci53cmFwLnN0eWxlLnBvc2l0aW9uID0gcG9zaXRpb25WYWx1ZTtcbiAgICAgIGpzYy5waWNrZXIud3JhcC5zdHlsZS5sZWZ0ID0gYCR7eH1weGA7XG4gICAgICBqc2MucGlja2VyLndyYXAuc3R5bGUudG9wID0gYCR7eX1weGA7XG5cbiAgICAgIGpzYy5zZXRCb3hTaGFkb3coXG4gICAgICAgIGpzYy5waWNrZXIuYm94UyxcbiAgICAgICAgdGhpc09iai5zaGFkb3dcbiAgICAgICAgICA/IG5ldyBqc2MuQm94U2hhZG93KFxuICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICB2U2hhZG93LFxuICAgICAgICAgICAgICB0aGlzT2JqLnNoYWRvd0JsdXIsXG4gICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgIHRoaXNPYmouc2hhZG93Q29sb3JcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IG51bGxcbiAgICAgICk7XG4gICAgfSxcblxuICAgIGdldFBpY2tlckRpbXModGhpc09iaikge1xuICAgICAgY29uc3QgZGlzcGxheVNsaWRlciA9ICEhanNjLmdldFNsaWRlckNvbXBvbmVudCh0aGlzT2JqKTtcbiAgICAgIGNvbnN0IGRpbXMgPSBbXG4gICAgICAgIDIgKiB0aGlzT2JqLmluc2V0V2lkdGggK1xuICAgICAgICAgIDIgKiB0aGlzT2JqLnBhZGRpbmcgK1xuICAgICAgICAgIHRoaXNPYmoud2lkdGggK1xuICAgICAgICAgIChkaXNwbGF5U2xpZGVyXG4gICAgICAgICAgICA/IDIgKiB0aGlzT2JqLmluc2V0V2lkdGggK1xuICAgICAgICAgICAgICBqc2MuZ2V0UGFkVG9TbGlkZXJQYWRkaW5nKHRoaXNPYmopICtcbiAgICAgICAgICAgICAgdGhpc09iai5zbGlkZXJTaXplXG4gICAgICAgICAgICA6IDApLFxuICAgICAgICAyICogdGhpc09iai5pbnNldFdpZHRoICtcbiAgICAgICAgICAyICogdGhpc09iai5wYWRkaW5nICtcbiAgICAgICAgICB0aGlzT2JqLmhlaWdodCArXG4gICAgICAgICAgKHRoaXNPYmouY2xvc2FibGVcbiAgICAgICAgICAgID8gMiAqIHRoaXNPYmouaW5zZXRXaWR0aCArIHRoaXNPYmoucGFkZGluZyArIHRoaXNPYmouYnV0dG9uSGVpZ2h0XG4gICAgICAgICAgICA6IDApXG4gICAgICBdO1xuICAgICAgcmV0dXJuIGRpbXM7XG4gICAgfSxcblxuICAgIGdldFBpY2tlck91dGVyRGltcyh0aGlzT2JqKSB7XG4gICAgICBjb25zdCBkaW1zID0ganNjLmdldFBpY2tlckRpbXModGhpc09iaik7XG4gICAgICByZXR1cm4gW1xuICAgICAgICBkaW1zWzBdICsgMiAqIHRoaXNPYmouYm9yZGVyV2lkdGgsXG4gICAgICAgIGRpbXNbMV0gKyAyICogdGhpc09iai5ib3JkZXJXaWR0aFxuICAgICAgXTtcbiAgICB9LFxuXG4gICAgZ2V0UGFkVG9TbGlkZXJQYWRkaW5nKHRoaXNPYmopIHtcbiAgICAgIHJldHVybiBNYXRoLm1heChcbiAgICAgICAgdGhpc09iai5wYWRkaW5nLFxuICAgICAgICAxLjUgKiAoMiAqIHRoaXNPYmoucG9pbnRlckJvcmRlcldpZHRoICsgdGhpc09iai5wb2ludGVyVGhpY2tuZXNzKVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgZ2V0UGFkWUNvbXBvbmVudCh0aGlzT2JqKSB7XG4gICAgICBzd2l0Y2ggKHRoaXNPYmoubW9kZS5jaGFyQXQoMSkudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICBjYXNlIFwidlwiOlxuICAgICAgICAgIHJldHVybiBcInZcIjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJldHVybiBcInNcIjtcbiAgICB9LFxuXG4gICAgZ2V0U2xpZGVyQ29tcG9uZW50KHRoaXNPYmopIHtcbiAgICAgIGlmICh0aGlzT2JqLm1vZGUubGVuZ3RoID4gMikge1xuICAgICAgICBzd2l0Y2ggKHRoaXNPYmoubW9kZS5jaGFyQXQoMikudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgIGNhc2UgXCJzXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJzXCI7XG5cbiAgICAgICAgICBjYXNlIFwidlwiOlxuICAgICAgICAgICAgcmV0dXJuIFwidlwiO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuXG4gICAgb25Eb2N1bWVudE1vdXNlRG93bihlKSB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQ7XG5cbiAgICAgIGlmICh0YXJnZXQuanNjTGlua2VkSW5zdGFuY2UpIHtcbiAgICAgICAgaWYgKHRhcmdldC5qc2NMaW5rZWRJbnN0YW5jZS5zaG93T25DbGljaykge1xuICAgICAgICAgIHRhcmdldC5qc2NMaW5rZWRJbnN0YW5jZS5zaG93KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGFyZ2V0LmpzY0NvbnRyb2xOYW1lKSB7XG4gICAgICAgIGpzYy5vbkNvbnRyb2xQb2ludGVyU3RhcnQoZSwgdGFyZ2V0LCB0YXJnZXQuanNjQ29udHJvbE5hbWUsIFwibW91c2VcIik7XG4gICAgICB9IGVsc2UgaWYgKGpzYy5waWNrZXIgJiYganNjLnBpY2tlci5vd25lcikge1xuICAgICAgICBqc2MucGlja2VyLm93bmVyLmhpZGUoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgb25Eb2N1bWVudFRvdWNoU3RhcnQoZSkge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50O1xuXG4gICAgICBpZiAodGFyZ2V0LmpzY0xpbmtlZEluc3RhbmNlKSB7XG4gICAgICAgIGlmICh0YXJnZXQuanNjTGlua2VkSW5zdGFuY2Uuc2hvd09uQ2xpY2spIHtcbiAgICAgICAgICB0YXJnZXQuanNjTGlua2VkSW5zdGFuY2Uuc2hvdygpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRhcmdldC5qc2NDb250cm9sTmFtZSkge1xuICAgICAgICBqc2Mub25Db250cm9sUG9pbnRlclN0YXJ0KGUsIHRhcmdldCwgdGFyZ2V0LmpzY0NvbnRyb2xOYW1lLCBcInRvdWNoXCIpO1xuICAgICAgfSBlbHNlIGlmIChqc2MucGlja2VyICYmIGpzYy5waWNrZXIub3duZXIpIHtcbiAgICAgICAganNjLnBpY2tlci5vd25lci5oaWRlKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIG9uV2luZG93UmVzaXplKCkge1xuICAgICAganNjLnJlZHJhd1Bvc2l0aW9uKCk7XG4gICAgfSxcblxuICAgIG9uUGFyZW50U2Nyb2xsKCkge1xuICAgICAgLy8gaGlkZSB0aGUgcGlja2VyIHdoZW4gb25lIG9mIHRoZSBwYXJlbnQgZWxlbWVudHMgaXMgc2Nyb2xsZWRcbiAgICAgIGlmIChqc2MucGlja2VyICYmIGpzYy5waWNrZXIub3duZXIpIHtcbiAgICAgICAganNjLnBpY2tlci5vd25lci5oaWRlKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHBvaW50ZXJNb3ZlRXZlbnQ6IHtcbiAgICAgIG1vdXNlOiBcIm1vdXNlbW92ZVwiLFxuICAgICAgdG91Y2g6IFwidG91Y2htb3ZlXCJcbiAgICB9LFxuICAgIHBvaW50ZXJFbmRFdmVudDoge1xuICAgICAgbW91c2U6IFwibW91c2V1cFwiLFxuICAgICAgdG91Y2g6IFwidG91Y2hlbmRcIlxuICAgIH0sXG5cbiAgICBwb2ludGVyT3JpZ2luOiBudWxsLFxuICAgIGNhcHR1cmVkVGFyZ2V0OiBudWxsLFxuXG4gICAgb25Db250cm9sUG9pbnRlclN0YXJ0KGUsIHRhcmdldCwgY29udHJvbE5hbWUsIHBvaW50ZXJUeXBlKSB7XG4gICAgICBjb25zdCB0aGlzT2JqID0gdGFyZ2V0LmpzY0luc3RhbmNlO1xuXG4gICAgICBqc2MucHJldmVudERlZmF1bHQoZSk7XG4gICAgICBqc2MuY2FwdHVyZVRhcmdldCh0YXJnZXQpO1xuXG4gICAgICBjb25zdCByZWdpc3RlckRyYWdFdmVudHMgPSBmdW5jdGlvbihkb2MsIG9mZnNldCkge1xuICAgICAgICBqc2MuYXR0YWNoR3JvdXBFdmVudChcbiAgICAgICAgICBcImRyYWdcIixcbiAgICAgICAgICBkb2MsXG4gICAgICAgICAganNjLnBvaW50ZXJNb3ZlRXZlbnRbcG9pbnRlclR5cGVdLFxuICAgICAgICAgIGpzYy5vbkRvY3VtZW50UG9pbnRlck1vdmUoZSwgdGFyZ2V0LCBjb250cm9sTmFtZSwgcG9pbnRlclR5cGUsIG9mZnNldClcbiAgICAgICAgKTtcbiAgICAgICAganNjLmF0dGFjaEdyb3VwRXZlbnQoXG4gICAgICAgICAgXCJkcmFnXCIsXG4gICAgICAgICAgZG9jLFxuICAgICAgICAgIGpzYy5wb2ludGVyRW5kRXZlbnRbcG9pbnRlclR5cGVdLFxuICAgICAgICAgIGpzYy5vbkRvY3VtZW50UG9pbnRlckVuZChlLCB0YXJnZXQsIGNvbnRyb2xOYW1lLCBwb2ludGVyVHlwZSlcbiAgICAgICAgKTtcbiAgICAgIH07XG5cbiAgICAgIHJlZ2lzdGVyRHJhZ0V2ZW50cyhkb2N1bWVudCwgWzAsIDBdKTtcblxuICAgICAgaWYgKHdpbmRvdy5wYXJlbnQgJiYgd2luZG93LmZyYW1lRWxlbWVudCkge1xuICAgICAgICBjb25zdCByZWN0ID0gd2luZG93LmZyYW1lRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3Qgb2ZzID0gWy1yZWN0LmxlZnQsIC1yZWN0LnRvcF07XG4gICAgICAgIHJlZ2lzdGVyRHJhZ0V2ZW50cyh3aW5kb3cucGFyZW50LndpbmRvdy5kb2N1bWVudCwgb2ZzKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYWJzID0ganNjLmdldEFic1BvaW50ZXJQb3MoZSk7XG4gICAgICBjb25zdCByZWwgPSBqc2MuZ2V0UmVsUG9pbnRlclBvcyhlKTtcbiAgICAgIGpzYy5wb2ludGVyT3JpZ2luID0ge1xuICAgICAgICB4OiBhYnMueCAtIHJlbC54LFxuICAgICAgICB5OiBhYnMueSAtIHJlbC55XG4gICAgICB9O1xuXG4gICAgICBzd2l0Y2ggKGNvbnRyb2xOYW1lKSB7XG4gICAgICAgIGNhc2UgXCJwYWRcIjpcbiAgICAgICAgICAvLyBpZiB0aGUgc2xpZGVyIGlzIGF0IHRoZSBib3R0b20sIG1vdmUgaXQgdXBcbiAgICAgICAgICBzd2l0Y2ggKGpzYy5nZXRTbGlkZXJDb21wb25lbnQodGhpc09iaikpIHtcbiAgICAgICAgICAgIGNhc2UgXCJzXCI6XG4gICAgICAgICAgICAgIGlmICh0aGlzT2JqLmhzdlsxXSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXNPYmouZnJvbUhTVihudWxsLCAxMDAsIG51bGwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInZcIjpcbiAgICAgICAgICAgICAgaWYgKHRoaXNPYmouaHN2WzJdID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpc09iai5mcm9tSFNWKG51bGwsIG51bGwsIDEwMCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAganNjLnNldFBhZCh0aGlzT2JqLCBlLCAwLCAwKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwic2xkXCI6XG4gICAgICAgICAganNjLnNldFNsZCh0aGlzT2JqLCBlLCAwKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAganNjLmRpc3BhdGNoRmluZUNoYW5nZSh0aGlzT2JqKTtcbiAgICB9LFxuXG4gICAgb25Eb2N1bWVudFBvaW50ZXJNb3ZlKGUsIHRhcmdldCwgY29udHJvbE5hbWUsIHBvaW50ZXJUeXBlLCBvZmZzZXQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihlKSB7XG4gICAgICAgIGNvbnN0IHRoaXNPYmogPSB0YXJnZXQuanNjSW5zdGFuY2U7XG4gICAgICAgIHN3aXRjaCAoY29udHJvbE5hbWUpIHtcbiAgICAgICAgICBjYXNlIFwicGFkXCI6XG4gICAgICAgICAgICBqc2Muc2V0UGFkKHRoaXNPYmosIGUsIG9mZnNldFswXSwgb2Zmc2V0WzFdKTtcbiAgICAgICAgICAgIGpzYy5kaXNwYXRjaEZpbmVDaGFuZ2UodGhpc09iaik7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgXCJzbGRcIjpcbiAgICAgICAgICAgIGpzYy5zZXRTbGQodGhpc09iaiwgZSwgb2Zmc2V0WzFdKTtcbiAgICAgICAgICAgIGpzYy5kaXNwYXRjaEZpbmVDaGFuZ2UodGhpc09iaik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSxcblxuICAgIG9uRG9jdW1lbnRQb2ludGVyRW5kKGUsIHRhcmdldCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zdCB0aGlzT2JqID0gdGFyZ2V0LmpzY0luc3RhbmNlO1xuICAgICAgICBqc2MuZGV0YWNoR3JvdXBFdmVudHMoXCJkcmFnXCIpO1xuICAgICAgICBqc2MucmVsZWFzZVRhcmdldCgpO1xuICAgICAgICAvLyBBbHdheXMgZGlzcGF0Y2ggY2hhbmdlcyBhZnRlciBkZXRhY2hpbmcgb3V0c3RhbmRpbmcgbW91c2UgaGFuZGxlcnMsXG4gICAgICAgIC8vIGluIGNhc2Ugc29tZSB1c2VyIGludGVyYWN0aW9uIHdpbGwgb2NjdXIgaW4gdXNlcidzIG9uY2hhbmdlIGNhbGxiYWNrXG4gICAgICAgIC8vIHRoYXQgd291bGQgaW50cnVkZSB3aXRoIGN1cnJlbnQgbW91c2UgZXZlbnRzXG4gICAgICAgIGpzYy5kaXNwYXRjaENoYW5nZSh0aGlzT2JqKTtcbiAgICAgIH07XG4gICAgfSxcblxuICAgIGRpc3BhdGNoQ2hhbmdlKHRoaXNPYmopIHtcbiAgICAgIGlmICh0aGlzT2JqLnZhbHVlRWxlbWVudCkge1xuICAgICAgICBpZiAoanNjLmlzRWxlbWVudFR5cGUodGhpc09iai52YWx1ZUVsZW1lbnQsIFwiaW5wdXRcIikpIHtcbiAgICAgICAgICBqc2MuZmlyZUV2ZW50KHRoaXNPYmoudmFsdWVFbGVtZW50LCBcImNoYW5nZVwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBkaXNwYXRjaEZpbmVDaGFuZ2UodGhpc09iaikge1xuICAgICAgaWYgKHRoaXNPYmoub25GaW5lQ2hhbmdlKSB7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrID0gdGhpc09iai5vbkZpbmVDaGFuZ2U7XG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc09iaik7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHNldFBhZCh0aGlzT2JqLCBlLCBvZnNYLCBvZnNZKSB7XG4gICAgICBjb25zdCBwb2ludGVyQWJzID0ganNjLmdldEFic1BvaW50ZXJQb3MoZSk7XG4gICAgICBjb25zdCB4ID1cbiAgICAgICAgb2ZzWCArXG4gICAgICAgIHBvaW50ZXJBYnMueCAtXG4gICAgICAgIGpzYy5wb2ludGVyT3JpZ2luLnggLVxuICAgICAgICB0aGlzT2JqLnBhZGRpbmcgLVxuICAgICAgICB0aGlzT2JqLmluc2V0V2lkdGg7XG4gICAgICBjb25zdCB5ID1cbiAgICAgICAgb2ZzWSArXG4gICAgICAgIHBvaW50ZXJBYnMueSAtXG4gICAgICAgIGpzYy5wb2ludGVyT3JpZ2luLnkgLVxuICAgICAgICB0aGlzT2JqLnBhZGRpbmcgLVxuICAgICAgICB0aGlzT2JqLmluc2V0V2lkdGg7XG5cbiAgICAgIGNvbnN0IHhWYWwgPSB4ICogKDM2MCAvICh0aGlzT2JqLndpZHRoIC0gMSkpO1xuICAgICAgY29uc3QgeVZhbCA9IDEwMCAtIHkgKiAoMTAwIC8gKHRoaXNPYmouaGVpZ2h0IC0gMSkpO1xuXG4gICAgICBzd2l0Y2ggKGpzYy5nZXRQYWRZQ29tcG9uZW50KHRoaXNPYmopKSB7XG4gICAgICAgIGNhc2UgXCJzXCI6XG4gICAgICAgICAgdGhpc09iai5mcm9tSFNWKHhWYWwsIHlWYWwsIG51bGwsIGpzYy5sZWF2ZVNsZCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ2XCI6XG4gICAgICAgICAgdGhpc09iai5mcm9tSFNWKHhWYWwsIG51bGwsIHlWYWwsIGpzYy5sZWF2ZVNsZCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHNldFNsZCh0aGlzT2JqLCBlLCBvZnNZKSB7XG4gICAgICBjb25zdCBwb2ludGVyQWJzID0ganNjLmdldEFic1BvaW50ZXJQb3MoZSk7XG4gICAgICBjb25zdCB5ID1cbiAgICAgICAgb2ZzWSArXG4gICAgICAgIHBvaW50ZXJBYnMueSAtXG4gICAgICAgIGpzYy5wb2ludGVyT3JpZ2luLnkgLVxuICAgICAgICB0aGlzT2JqLnBhZGRpbmcgLVxuICAgICAgICB0aGlzT2JqLmluc2V0V2lkdGg7XG5cbiAgICAgIGNvbnN0IHlWYWwgPSAxMDAgLSB5ICogKDEwMCAvICh0aGlzT2JqLmhlaWdodCAtIDEpKTtcblxuICAgICAgc3dpdGNoIChqc2MuZ2V0U2xpZGVyQ29tcG9uZW50KHRoaXNPYmopKSB7XG4gICAgICAgIGNhc2UgXCJzXCI6XG4gICAgICAgICAgdGhpc09iai5mcm9tSFNWKG51bGwsIHlWYWwsIG51bGwsIGpzYy5sZWF2ZVBhZCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ2XCI6XG4gICAgICAgICAgdGhpc09iai5mcm9tSFNWKG51bGwsIG51bGwsIHlWYWwsIGpzYy5sZWF2ZVBhZCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHZtbE5TOiBcImpzY192bWxfXCIsXG4gICAgdm1sQ1NTOiBcImpzY192bWxfY3NzX1wiLFxuICAgIHZtbFJlYWR5OiBmYWxzZSxcblxuICAgIGluaXRWTUwoKSB7XG4gICAgICBpZiAoIWpzYy52bWxSZWFkeSkge1xuICAgICAgICAvLyBpbml0IFZNTCBuYW1lc3BhY2VcbiAgICAgICAgY29uc3QgZG9jID0gZG9jdW1lbnQ7XG4gICAgICAgIGlmICghZG9jLm5hbWVzcGFjZXNbanNjLnZtbE5TXSkge1xuICAgICAgICAgIGRvYy5uYW1lc3BhY2VzLmFkZChqc2Mudm1sTlMsIFwidXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTp2bWxcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkb2Muc3R5bGVTaGVldHNbanNjLnZtbENTU10pIHtcbiAgICAgICAgICBjb25zdCB0YWdzID0gW1xuICAgICAgICAgICAgXCJzaGFwZVwiLFxuICAgICAgICAgICAgXCJzaGFwZXR5cGVcIixcbiAgICAgICAgICAgIFwiZ3JvdXBcIixcbiAgICAgICAgICAgIFwiYmFja2dyb3VuZFwiLFxuICAgICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAgICBcImZvcm11bGFzXCIsXG4gICAgICAgICAgICBcImhhbmRsZXNcIixcbiAgICAgICAgICAgIFwiZmlsbFwiLFxuICAgICAgICAgICAgXCJzdHJva2VcIixcbiAgICAgICAgICAgIFwic2hhZG93XCIsXG4gICAgICAgICAgICBcInRleHRib3hcIixcbiAgICAgICAgICAgIFwidGV4dHBhdGhcIixcbiAgICAgICAgICAgIFwiaW1hZ2VkYXRhXCIsXG4gICAgICAgICAgICBcImxpbmVcIixcbiAgICAgICAgICAgIFwicG9seWxpbmVcIixcbiAgICAgICAgICAgIFwiY3VydmVcIixcbiAgICAgICAgICAgIFwicmVjdFwiLFxuICAgICAgICAgICAgXCJyb3VuZHJlY3RcIixcbiAgICAgICAgICAgIFwib3ZhbFwiLFxuICAgICAgICAgICAgXCJhcmNcIixcbiAgICAgICAgICAgIFwiaW1hZ2VcIlxuICAgICAgICAgIF07XG4gICAgICAgICAgY29uc3Qgc3MgPSBkb2MuY3JlYXRlU3R5bGVTaGVldCgpO1xuICAgICAgICAgIHNzLm93bmluZ0VsZW1lbnQuaWQgPSBqc2Mudm1sQ1NTO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFncy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgc3MuYWRkUnVsZShcbiAgICAgICAgICAgICAgYCR7anNjLnZtbE5TfVxcXFw6JHt0YWdzW2ldfWAsXG4gICAgICAgICAgICAgIFwiYmVoYXZpb3I6dXJsKCNkZWZhdWx0I1ZNTCk7XCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGpzYy52bWxSZWFkeSA9IHRydWU7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGNyZWF0ZVBhbGV0dGUoKSB7XG4gICAgICBjb25zdCBwYWxldHRlT2JqID0ge1xuICAgICAgICBlbG06IG51bGwsXG4gICAgICAgIGRyYXc6IG51bGxcbiAgICAgIH07XG5cbiAgICAgIGlmIChqc2MuaXNDYW52YXNTdXBwb3J0ZWQpIHtcbiAgICAgICAgLy8gQ2FudmFzIGltcGxlbWVudGF0aW9uIGZvciBtb2Rlcm4gYnJvd3NlcnNcblxuICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gICAgICAgIGNvbnN0IGRyYXdGdW5jID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgdHlwZSkge1xuICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG5cbiAgICAgICAgICBjb25zdCBoR3JhZCA9IGN0eC5jcmVhdGVMaW5lYXJHcmFkaWVudCgwLCAwLCBjYW52YXMud2lkdGgsIDApO1xuICAgICAgICAgIGhHcmFkLmFkZENvbG9yU3RvcCgwIC8gNiwgXCIjRjAwXCIpO1xuICAgICAgICAgIGhHcmFkLmFkZENvbG9yU3RvcCgxIC8gNiwgXCIjRkYwXCIpO1xuICAgICAgICAgIGhHcmFkLmFkZENvbG9yU3RvcCgyIC8gNiwgXCIjMEYwXCIpO1xuICAgICAgICAgIGhHcmFkLmFkZENvbG9yU3RvcCgzIC8gNiwgXCIjMEZGXCIpO1xuICAgICAgICAgIGhHcmFkLmFkZENvbG9yU3RvcCg0IC8gNiwgXCIjMDBGXCIpO1xuICAgICAgICAgIGhHcmFkLmFkZENvbG9yU3RvcCg1IC8gNiwgXCIjRjBGXCIpO1xuICAgICAgICAgIGhHcmFkLmFkZENvbG9yU3RvcCg2IC8gNiwgXCIjRjAwXCIpO1xuXG4gICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGhHcmFkO1xuICAgICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuXG4gICAgICAgICAgY29uc3QgdkdyYWQgPSBjdHguY3JlYXRlTGluZWFyR3JhZGllbnQoMCwgMCwgMCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgc3dpdGNoICh0eXBlLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIGNhc2UgXCJzXCI6XG4gICAgICAgICAgICAgIHZHcmFkLmFkZENvbG9yU3RvcCgwLCBcInJnYmEoMjU1LDI1NSwyNTUsMClcIik7XG4gICAgICAgICAgICAgIHZHcmFkLmFkZENvbG9yU3RvcCgxLCBcInJnYmEoMjU1LDI1NSwyNTUsMSlcIik7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInZcIjpcbiAgICAgICAgICAgICAgdkdyYWQuYWRkQ29sb3JTdG9wKDAsIFwicmdiYSgwLDAsMCwwKVwiKTtcbiAgICAgICAgICAgICAgdkdyYWQuYWRkQ29sb3JTdG9wKDEsIFwicmdiYSgwLDAsMCwxKVwiKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHZHcmFkO1xuICAgICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHBhbGV0dGVPYmouZWxtID0gY2FudmFzO1xuICAgICAgICBwYWxldHRlT2JqLmRyYXcgPSBkcmF3RnVuYztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFZNTCBmYWxsYmFjayBmb3IgSUUgNyBhbmQgOFxuXG4gICAgICAgIGpzYy5pbml0Vk1MKCk7XG5cbiAgICAgICAgY29uc3Qgdm1sQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdm1sQ29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xuICAgICAgICB2bWxDb250YWluZXIuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuXG4gICAgICAgIGNvbnN0IGhHcmFkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgJHtqc2Mudm1sTlN9OmZpbGxgKTtcbiAgICAgICAgaEdyYWQudHlwZSA9IFwiZ3JhZGllbnRcIjtcbiAgICAgICAgaEdyYWQubWV0aG9kID0gXCJsaW5lYXJcIjtcbiAgICAgICAgaEdyYWQuYW5nbGUgPSBcIjkwXCI7XG4gICAgICAgIGhHcmFkLmNvbG9ycyA9XG4gICAgICAgICAgXCIxNi42NyUgI0YwRiwgMzMuMzMlICMwMEYsIDUwJSAjMEZGLCA2Ni42NyUgIzBGMCwgODMuMzMlICNGRjBcIjtcblxuICAgICAgICBjb25zdCBoUmVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYCR7anNjLnZtbE5TfTpyZWN0YCk7XG4gICAgICAgIGhSZWN0LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICBoUmVjdC5zdHlsZS5sZWZ0ID0gYCR7LTF9cHhgO1xuICAgICAgICBoUmVjdC5zdHlsZS50b3AgPSBgJHstMX1weGA7XG4gICAgICAgIGhSZWN0LnN0cm9rZWQgPSBmYWxzZTtcbiAgICAgICAgaFJlY3QuYXBwZW5kQ2hpbGQoaEdyYWQpO1xuICAgICAgICB2bWxDb250YWluZXIuYXBwZW5kQ2hpbGQoaFJlY3QpO1xuXG4gICAgICAgIGNvbnN0IHZHcmFkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgJHtqc2Mudm1sTlN9OmZpbGxgKTtcbiAgICAgICAgdkdyYWQudHlwZSA9IFwiZ3JhZGllbnRcIjtcbiAgICAgICAgdkdyYWQubWV0aG9kID0gXCJsaW5lYXJcIjtcbiAgICAgICAgdkdyYWQuYW5nbGUgPSBcIjE4MFwiO1xuICAgICAgICB2R3JhZC5vcGFjaXR5ID0gXCIwXCI7XG5cbiAgICAgICAgY29uc3QgdlJlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGAke2pzYy52bWxOU306cmVjdGApO1xuICAgICAgICB2UmVjdC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgICAgdlJlY3Quc3R5bGUubGVmdCA9IGAkey0xfXB4YDtcbiAgICAgICAgdlJlY3Quc3R5bGUudG9wID0gYCR7LTF9cHhgO1xuICAgICAgICB2UmVjdC5zdHJva2VkID0gZmFsc2U7XG4gICAgICAgIHZSZWN0LmFwcGVuZENoaWxkKHZHcmFkKTtcbiAgICAgICAgdm1sQ29udGFpbmVyLmFwcGVuZENoaWxkKHZSZWN0KTtcblxuICAgICAgICBjb25zdCBkcmF3RnVuYyA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIHR5cGUpIHtcbiAgICAgICAgICB2bWxDb250YWluZXIuc3R5bGUud2lkdGggPSBgJHt3aWR0aH1weGA7XG4gICAgICAgICAgdm1sQ29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGAke2hlaWdodH1weGA7XG5cbiAgICAgICAgICBoUmVjdC5zdHlsZS53aWR0aCA9IGAke3dpZHRoICsgMX1weGA7XG4gICAgICAgICAgdlJlY3Quc3R5bGUud2lkdGggPSBgJHt3aWR0aCArIDF9cHhgO1xuICAgICAgICAgIGhSZWN0LnN0eWxlLmhlaWdodCA9IGAke2hlaWdodCArIDF9cHhgO1xuICAgICAgICAgIHZSZWN0LnN0eWxlLmhlaWdodCA9IGAke2hlaWdodCArIDF9cHhgO1xuXG4gICAgICAgICAgLy8gQ29sb3JzIG11c3QgYmUgc3BlY2lmaWVkIGR1cmluZyBldmVyeSByZWRyYXcsIG90aGVyd2lzZSBJRSB3b24ndCBkaXNwbGF5XG4gICAgICAgICAgLy8gYSBmdWxsIGdyYWRpZW50IGR1cmluZyBhIHN1YnNlcXVlbnRpYWwgcmVkcmF3XG4gICAgICAgICAgaEdyYWQuY29sb3IgPSBcIiNGMDBcIjtcbiAgICAgICAgICBoR3JhZC5jb2xvcjIgPSBcIiNGMDBcIjtcblxuICAgICAgICAgIHN3aXRjaCAodHlwZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICBjYXNlIFwic1wiOlxuICAgICAgICAgICAgICB2R3JhZC5jb2xvciA9IFwiI0ZGRlwiO1xuICAgICAgICAgICAgICB2R3JhZC5jb2xvcjIgPSBcIiNGRkZcIjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwidlwiOlxuICAgICAgICAgICAgICB2R3JhZC5jb2xvciA9IFwiIzAwMFwiO1xuICAgICAgICAgICAgICB2R3JhZC5jb2xvcjIgPSBcIiMwMDBcIjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcGFsZXR0ZU9iai5lbG0gPSB2bWxDb250YWluZXI7XG4gICAgICAgIHBhbGV0dGVPYmouZHJhdyA9IGRyYXdGdW5jO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGFsZXR0ZU9iajtcbiAgICB9LFxuXG4gICAgY3JlYXRlU2xpZGVyR3JhZGllbnQoKSB7XG4gICAgICBjb25zdCBzbGlkZXJPYmogPSB7XG4gICAgICAgIGVsbTogbnVsbCxcbiAgICAgICAgZHJhdzogbnVsbFxuICAgICAgfTtcblxuICAgICAgaWYgKGpzYy5pc0NhbnZhc1N1cHBvcnRlZCkge1xuICAgICAgICAvLyBDYW52YXMgaW1wbGVtZW50YXRpb24gZm9yIG1vZGVybiBicm93c2Vyc1xuXG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG5cbiAgICAgICAgY29uc3QgZHJhd0Z1bmMgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0LCBjb2xvcjEsIGNvbG9yMikge1xuICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG5cbiAgICAgICAgICBjb25zdCBncmFkID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsIDAsIDAsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgIGdyYWQuYWRkQ29sb3JTdG9wKDAsIGNvbG9yMSk7XG4gICAgICAgICAgZ3JhZC5hZGRDb2xvclN0b3AoMSwgY29sb3IyKTtcblxuICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBncmFkO1xuICAgICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHNsaWRlck9iai5lbG0gPSBjYW52YXM7XG4gICAgICAgIHNsaWRlck9iai5kcmF3ID0gZHJhd0Z1bmM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBWTUwgZmFsbGJhY2sgZm9yIElFIDcgYW5kIDhcblxuICAgICAgICBqc2MuaW5pdFZNTCgpO1xuXG4gICAgICAgIGNvbnN0IHZtbENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHZtbENvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcbiAgICAgICAgdm1sQ29udGFpbmVyLnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcblxuICAgICAgICBjb25zdCBncmFkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgJHtqc2Mudm1sTlN9OmZpbGxgKTtcbiAgICAgICAgZ3JhZC50eXBlID0gXCJncmFkaWVudFwiO1xuICAgICAgICBncmFkLm1ldGhvZCA9IFwibGluZWFyXCI7XG4gICAgICAgIGdyYWQuYW5nbGUgPSBcIjE4MFwiO1xuXG4gICAgICAgIGNvbnN0IHJlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGAke2pzYy52bWxOU306cmVjdGApO1xuICAgICAgICByZWN0LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICByZWN0LnN0eWxlLmxlZnQgPSBgJHstMX1weGA7XG4gICAgICAgIHJlY3Quc3R5bGUudG9wID0gYCR7LTF9cHhgO1xuICAgICAgICByZWN0LnN0cm9rZWQgPSBmYWxzZTtcbiAgICAgICAgcmVjdC5hcHBlbmRDaGlsZChncmFkKTtcbiAgICAgICAgdm1sQ29udGFpbmVyLmFwcGVuZENoaWxkKHJlY3QpO1xuXG4gICAgICAgIGNvbnN0IGRyYXdGdW5jID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgY29sb3IxLCBjb2xvcjIpIHtcbiAgICAgICAgICB2bWxDb250YWluZXIuc3R5bGUud2lkdGggPSBgJHt3aWR0aH1weGA7XG4gICAgICAgICAgdm1sQ29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGAke2hlaWdodH1weGA7XG5cbiAgICAgICAgICByZWN0LnN0eWxlLndpZHRoID0gYCR7d2lkdGggKyAxfXB4YDtcbiAgICAgICAgICByZWN0LnN0eWxlLmhlaWdodCA9IGAke2hlaWdodCArIDF9cHhgO1xuXG4gICAgICAgICAgZ3JhZC5jb2xvciA9IGNvbG9yMTtcbiAgICAgICAgICBncmFkLmNvbG9yMiA9IGNvbG9yMjtcbiAgICAgICAgfTtcblxuICAgICAgICBzbGlkZXJPYmouZWxtID0gdm1sQ29udGFpbmVyO1xuICAgICAgICBzbGlkZXJPYmouZHJhdyA9IGRyYXdGdW5jO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2xpZGVyT2JqO1xuICAgIH0sXG5cbiAgICBsZWF2ZVZhbHVlOiAxIDw8IDAsXG4gICAgbGVhdmVTdHlsZTogMSA8PCAxLFxuICAgIGxlYXZlUGFkOiAxIDw8IDIsXG4gICAgbGVhdmVTbGQ6IDEgPDwgMyxcblxuICAgIEJveFNoYWRvdzogKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc3QgQm94U2hhZG93ID0gZnVuY3Rpb24oaFNoYWRvdywgdlNoYWRvdywgYmx1ciwgc3ByZWFkLCBjb2xvciwgaW5zZXQpIHtcbiAgICAgICAgdGhpcy5oU2hhZG93ID0gaFNoYWRvdztcbiAgICAgICAgdGhpcy52U2hhZG93ID0gdlNoYWRvdztcbiAgICAgICAgdGhpcy5ibHVyID0gYmx1cjtcbiAgICAgICAgdGhpcy5zcHJlYWQgPSBzcHJlYWQ7XG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcbiAgICAgICAgdGhpcy5pbnNldCA9ICEhaW5zZXQ7XG4gICAgICB9O1xuXG4gICAgICBCb3hTaGFkb3cucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnN0IHZhbHMgPSBbXG4gICAgICAgICAgYCR7TWF0aC5yb3VuZCh0aGlzLmhTaGFkb3cpfXB4YCxcbiAgICAgICAgICBgJHtNYXRoLnJvdW5kKHRoaXMudlNoYWRvdyl9cHhgLFxuICAgICAgICAgIGAke01hdGgucm91bmQodGhpcy5ibHVyKX1weGAsXG4gICAgICAgICAgYCR7TWF0aC5yb3VuZCh0aGlzLnNwcmVhZCl9cHhgLFxuICAgICAgICAgIHRoaXMuY29sb3JcbiAgICAgICAgXTtcbiAgICAgICAgaWYgKHRoaXMuaW5zZXQpIHtcbiAgICAgICAgICB2YWxzLnB1c2goXCJpbnNldFwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFscy5qb2luKFwiIFwiKTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBCb3hTaGFkb3c7XG4gICAgfSkoKSxcblxuICAgIC8vXG4gICAgLy8gVXNhZ2U6XG4gICAgLy8gdmFyIG15Q29sb3IgPSBuZXcganNjb2xvcig8dGFyZ2V0RWxlbWVudD4gWywgPG9wdGlvbnM+XSlcbiAgICAvL1xuXG4gICAganNjb2xvcih0YXJnZXRFbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAvLyBHZW5lcmFsIG9wdGlvbnNcbiAgICAgIC8vXG4gICAgICB0aGlzLnZhbHVlID0gbnVsbDsgLy8gaW5pdGlhbCBIRVggY29sb3IuIFRvIGNoYW5nZSBpdCBsYXRlciwgdXNlIG1ldGhvZHMgZnJvbVN0cmluZygpLCBmcm9tSFNWKCkgYW5kIGZyb21SR0IoKVxuICAgICAgdGhpcy52YWx1ZUVsZW1lbnQgPSB0YXJnZXRFbGVtZW50OyAvLyBlbGVtZW50IHRoYXQgd2lsbCBiZSB1c2VkIHRvIGRpc3BsYXkgYW5kIGlucHV0IHRoZSBjb2xvciBjb2RlXG4gICAgICB0aGlzLnN0eWxlRWxlbWVudCA9IHRhcmdldEVsZW1lbnQ7IC8vIGVsZW1lbnQgdGhhdCB3aWxsIHByZXZpZXcgdGhlIHBpY2tlZCBjb2xvciB1c2luZyBDU1MgYmFja2dyb3VuZENvbG9yXG4gICAgICB0aGlzLnJlcXVpcmVkID0gdHJ1ZTsgLy8gd2hldGhlciB0aGUgYXNzb2NpYXRlZCB0ZXh0IDxpbnB1dD4gY2FuIGJlIGxlZnQgZW1wdHlcbiAgICAgIHRoaXMucmVmaW5lID0gdHJ1ZTsgLy8gd2hldGhlciB0byByZWZpbmUgdGhlIGVudGVyZWQgY29sb3IgY29kZSAoZS5nLiB1cHBlcmNhc2UgaXQgYW5kIHJlbW92ZSB3aGl0ZXNwYWNlKVxuICAgICAgdGhpcy5oYXNoID0gZmFsc2U7IC8vIHdoZXRoZXIgdG8gcHJlZml4IHRoZSBIRVggY29sb3IgY29kZSB3aXRoICMgc3ltYm9sXG4gICAgICB0aGlzLnVwcGVyY2FzZSA9IHRydWU7IC8vIHdoZXRoZXIgdG8gc2hvdyB0aGUgY29sb3IgY29kZSBpbiB1cHBlciBjYXNlXG4gICAgICB0aGlzLm9uRmluZUNoYW5nZSA9IG51bGw7IC8vIGNhbGxlZCBpbnN0YW50bHkgZXZlcnkgdGltZSB0aGUgY29sb3IgY2hhbmdlcyAodmFsdWUgY2FuIGJlIGVpdGhlciBhIGZ1bmN0aW9uIG9yIGEgc3RyaW5nIHdpdGggamF2YXNjcmlwdCBjb2RlKVxuICAgICAgdGhpcy5hY3RpdmVDbGFzcyA9IFwianNjb2xvci1hY3RpdmVQcmV2XCI7IC8vIGNsYXNzIHRvIGJlIHNldCB0byB0aGUgdGFyZ2V0IGVsZW1lbnQgd2hlbiBhIHBpY2tlciB3aW5kb3cgaXMgb3BlbiBvbiBpdFxuICAgICAgdGhpcy5vdmVyd3JpdGVJbXBvcnRhbnQgPSBmYWxzZTsgLy8gd2hldGhlciB0byBvdmVyd3JpdGUgY29sb3JzIG9mIHN0eWxlRWxlbWVudCB1c2luZyAhaW1wb3J0YW50XG4gICAgICB0aGlzLm1pblMgPSAwOyAvLyBtaW4gYWxsb3dlZCBzYXR1cmF0aW9uICgwIC0gMTAwKVxuICAgICAgdGhpcy5tYXhTID0gMTAwOyAvLyBtYXggYWxsb3dlZCBzYXR1cmF0aW9uICgwIC0gMTAwKVxuICAgICAgdGhpcy5taW5WID0gMDsgLy8gbWluIGFsbG93ZWQgdmFsdWUgKGJyaWdodG5lc3MpICgwIC0gMTAwKVxuICAgICAgdGhpcy5tYXhWID0gMTAwOyAvLyBtYXggYWxsb3dlZCB2YWx1ZSAoYnJpZ2h0bmVzcykgKDAgLSAxMDApXG5cbiAgICAgIC8vIEFjY2Vzc2luZyB0aGUgcGlja2VkIGNvbG9yXG4gICAgICAvL1xuICAgICAgdGhpcy5oc3YgPSBbMCwgMCwgMTAwXTsgLy8gcmVhZC1vbmx5ICBbMC0zNjAsIDAtMTAwLCAwLTEwMF1cbiAgICAgIHRoaXMucmdiID0gWzI1NSwgMjU1LCAyNTVdOyAvLyByZWFkLW9ubHkgIFswLTI1NSwgMC0yNTUsIDAtMjU1XVxuXG4gICAgICAvLyBDb2xvciBQaWNrZXIgb3B0aW9uc1xuICAgICAgLy9cbiAgICAgIHRoaXMud2lkdGggPSAxODE7IC8vIHdpZHRoIG9mIGNvbG9yIHBhbGV0dGUgKGluIHB4KVxuICAgICAgdGhpcy5oZWlnaHQgPSAxMDE7IC8vIGhlaWdodCBvZiBjb2xvciBwYWxldHRlIChpbiBweClcbiAgICAgIHRoaXMuc2hvd09uQ2xpY2sgPSB0cnVlOyAvLyB3aGV0aGVyIHRvIGRpc3BsYXkgdGhlIGNvbG9yIHBpY2tlciB3aGVuIHVzZXIgY2xpY2tzIG9uIGl0cyB0YXJnZXQgZWxlbWVudFxuICAgICAgdGhpcy5tb2RlID0gXCJIU1ZcIjsgLy8gSFNWIHwgSFZTIHwgSFMgfCBIViAtIGxheW91dCBvZiB0aGUgY29sb3IgcGlja2VyIGNvbnRyb2xzXG4gICAgICB0aGlzLnBvc2l0aW9uID0gXCJib3R0b21cIjsgLy8gbGVmdCB8IHJpZ2h0IHwgdG9wIHwgYm90dG9tIC0gcG9zaXRpb24gcmVsYXRpdmUgdG8gdGhlIHRhcmdldCBlbGVtZW50XG4gICAgICB0aGlzLnNtYXJ0UG9zaXRpb24gPSB0cnVlOyAvLyBhdXRvbWF0aWNhbGx5IGNoYW5nZSBwaWNrZXIgcG9zaXRpb24gd2hlbiB0aGVyZSBpcyBub3QgZW5vdWdoIHNwYWNlIGZvciBpdFxuICAgICAgdGhpcy5zbGlkZXJTaXplID0gMTY7IC8vIHB4XG4gICAgICB0aGlzLmNyb3NzU2l6ZSA9IDg7IC8vIHB4XG4gICAgICB0aGlzLmNsb3NhYmxlID0gZmFsc2U7IC8vIHdoZXRoZXIgdG8gZGlzcGxheSB0aGUgQ2xvc2UgYnV0dG9uXG4gICAgICB0aGlzLmNsb3NlVGV4dCA9IFwiQ2xvc2VcIjtcbiAgICAgIHRoaXMuYnV0dG9uQ29sb3IgPSBcIiMwMDAwMDBcIjsgLy8gQ1NTIGNvbG9yXG4gICAgICB0aGlzLmJ1dHRvbkhlaWdodCA9IDE4OyAvLyBweFxuICAgICAgdGhpcy5wYWRkaW5nID0gMTI7IC8vIHB4XG4gICAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9IFwiIzFBMUExQVwiOyAvLyBDU1MgY29sb3JcbiAgICAgIHRoaXMuYm9yZGVyV2lkdGggPSAxOyAvLyBweFxuICAgICAgdGhpcy5ib3JkZXJDb2xvciA9IFwiIzQ0NDQ0NFwiOyAvLyBDU1MgY29sb3JcbiAgICAgIHRoaXMuYm9yZGVyUmFkaXVzID0gODsgLy8gcHhcbiAgICAgIHRoaXMuaW5zZXRXaWR0aCA9IDE7IC8vIHB4XG4gICAgICB0aGlzLmluc2V0Q29sb3IgPSBcIiNCQkJCQkJcIjsgLy8gQ1NTIGNvbG9yXG4gICAgICB0aGlzLnNoYWRvdyA9IHRydWU7IC8vIHdoZXRoZXIgdG8gZGlzcGxheSBzaGFkb3dcbiAgICAgIHRoaXMuc2hhZG93Qmx1ciA9IDE1OyAvLyBweFxuICAgICAgdGhpcy5zaGFkb3dDb2xvciA9IFwicmdiYSgwLDAsMCwwLjIpXCI7IC8vIENTUyBjb2xvclxuICAgICAgdGhpcy5wb2ludGVyQ29sb3IgPSBcIiM0QzRDNENcIjsgLy8gcHhcbiAgICAgIHRoaXMucG9pbnRlckJvcmRlckNvbG9yID0gXCIjRkZGRkZGXCI7IC8vIHB4XG4gICAgICB0aGlzLnBvaW50ZXJCb3JkZXJXaWR0aCA9IDE7IC8vIHB4XG4gICAgICB0aGlzLnBvaW50ZXJUaGlja25lc3MgPSAyOyAvLyBweFxuICAgICAgdGhpcy56SW5kZXggPSAxMDAwO1xuICAgICAgdGhpcy5jb250YWluZXIgPSBudWxsOyAvLyB3aGVyZSB0byBhcHBlbmQgdGhlIGNvbG9yIHBpY2tlciAoQk9EWSBlbGVtZW50IGJ5IGRlZmF1bHQpXG5cbiAgICAgIGZvciAoY29uc3Qgb3B0IGluIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0KSkge1xuICAgICAgICAgIHRoaXNbb3B0XSA9IG9wdGlvbnNbb3B0XTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLmhpZGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGlzUGlja2VyT3duZXIoKSkge1xuICAgICAgICAgIGRldGFjaFBpY2tlcigpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB0aGlzLnNob3cgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZHJhd1BpY2tlcigpO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5yZWRyYXcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGlzUGlja2VyT3duZXIoKSkge1xuICAgICAgICAgIGRyYXdQaWNrZXIoKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdGhpcy5pbXBvcnRDb2xvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMudmFsdWVFbGVtZW50KSB7XG4gICAgICAgICAgdGhpcy5leHBvcnRDb2xvcigpO1xuICAgICAgICB9IGVsc2UgaWYgKGpzYy5pc0VsZW1lbnRUeXBlKHRoaXMudmFsdWVFbGVtZW50LCBcImlucHV0XCIpKSB7XG4gICAgICAgICAgaWYgKCF0aGlzLnJlZmluZSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmZyb21TdHJpbmcodGhpcy52YWx1ZUVsZW1lbnQudmFsdWUsIGpzYy5sZWF2ZVZhbHVlKSkge1xuICAgICAgICAgICAgICBpZiAodGhpcy5zdHlsZUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSB0aGlzLnN0eWxlRWxlbWVudC5fanNjT3JpZ1N0eWxlLmJhY2tncm91bmRJbWFnZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLnN0eWxlRWxlbWVudC5fanNjT3JpZ1N0eWxlLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlRWxlbWVudC5zdHlsZS5jb2xvciA9IHRoaXMuc3R5bGVFbGVtZW50Ll9qc2NPcmlnU3R5bGUuY29sb3I7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGhpcy5leHBvcnRDb2xvcihqc2MubGVhdmVWYWx1ZSB8IGpzYy5sZWF2ZVN0eWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLnJlcXVpcmVkICYmIC9eXFxzKiQvLnRlc3QodGhpcy52YWx1ZUVsZW1lbnQudmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlRWxlbWVudC52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICBpZiAodGhpcy5zdHlsZUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgdGhpcy5zdHlsZUVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gdGhpcy5zdHlsZUVsZW1lbnQuX2pzY09yaWdTdHlsZS5iYWNrZ3JvdW5kSW1hZ2U7XG4gICAgICAgICAgICAgIHRoaXMuc3R5bGVFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHRoaXMuc3R5bGVFbGVtZW50Ll9qc2NPcmlnU3R5bGUuYmFja2dyb3VuZENvbG9yO1xuICAgICAgICAgICAgICB0aGlzLnN0eWxlRWxlbWVudC5zdHlsZS5jb2xvciA9IHRoaXMuc3R5bGVFbGVtZW50Ll9qc2NPcmlnU3R5bGUuY29sb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmV4cG9ydENvbG9yKGpzYy5sZWF2ZVZhbHVlIHwganNjLmxlYXZlU3R5bGUpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5mcm9tU3RyaW5nKHRoaXMudmFsdWVFbGVtZW50LnZhbHVlKSkge1xuICAgICAgICAgICAgLy8gbWFuYWdlZCB0byBpbXBvcnQgY29sb3Igc3VjY2Vzc2Z1bGx5IGZyb20gdGhlIHZhbHVlIC0+IE9LLCBkb24ndCBkbyBhbnl0aGluZ1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmV4cG9ydENvbG9yKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIG5vdCBhbiBpbnB1dCBlbGVtZW50IC0+IGRvZXNuJ3QgaGF2ZSBhbnkgdmFsdWVcbiAgICAgICAgICB0aGlzLmV4cG9ydENvbG9yKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHRoaXMuZXhwb3J0Q29sb3IgPSBmdW5jdGlvbihmbGFncykge1xuICAgICAgICBpZiAoIShmbGFncyAmIGpzYy5sZWF2ZVZhbHVlKSAmJiB0aGlzLnZhbHVlRWxlbWVudCkge1xuICAgICAgICAgIGxldCB2YWx1ZSA9IHRoaXMudG9TdHJpbmcoKTtcbiAgICAgICAgICBpZiAodGhpcy51cHBlcmNhc2UpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMuaGFzaCkge1xuICAgICAgICAgICAgdmFsdWUgPSBgIyR7dmFsdWV9YDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoanNjLmlzRWxlbWVudFR5cGUodGhpcy52YWx1ZUVsZW1lbnQsIFwiaW5wdXRcIikpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWVFbGVtZW50LnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWVFbGVtZW50LmlubmVySFRNTCA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIShmbGFncyAmIGpzYy5sZWF2ZVN0eWxlKSkge1xuICAgICAgICAgIGlmICh0aGlzLnN0eWxlRWxlbWVudCkge1xuICAgICAgICAgICAgY29uc3QgYmdDb2xvciA9IGAjJHt0aGlzLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIGNvbnN0IGZnQ29sb3IgPSB0aGlzLmlzTGlnaHQoKSA/IFwiIzAwMFwiIDogXCIjRkZGXCI7XG5cbiAgICAgICAgICAgIHRoaXMuc3R5bGVFbGVtZW50LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgdGhpcy5zdHlsZUVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYmdDb2xvcjtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVFbGVtZW50LnN0eWxlLmNvbG9yID0gZmdDb2xvcjtcblxuICAgICAgICAgICAgaWYgKHRoaXMub3ZlcndyaXRlSW1wb3J0YW50KSB7XG4gICAgICAgICAgICAgIHRoaXMuc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICBcInN0eWxlXCIsXG4gICAgICAgICAgICAgICAgYGJhY2tncm91bmQ6ICR7YmdDb2xvcn0gIWltcG9ydGFudDsgYCArXG4gICAgICAgICAgICAgICAgICBgY29sb3I6ICR7ZmdDb2xvcn0gIWltcG9ydGFudDtgXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghKGZsYWdzICYganNjLmxlYXZlUGFkKSAmJiBpc1BpY2tlck93bmVyKCkpIHtcbiAgICAgICAgICByZWRyYXdQYWQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIShmbGFncyAmIGpzYy5sZWF2ZVNsZCkgJiYgaXNQaWNrZXJPd25lcigpKSB7XG4gICAgICAgICAgcmVkcmF3U2xkKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIC8vIGg6IDAtMzYwXG4gICAgICAvLyBzOiAwLTEwMFxuICAgICAgLy8gdjogMC0xMDBcbiAgICAgIC8vXG4gICAgICB0aGlzLmZyb21IU1YgPSBmdW5jdGlvbihoLCBzLCB2LCBmbGFncykge1xuICAgICAgICAvLyBudWxsID0gZG9uJ3QgY2hhbmdlXG4gICAgICAgIGlmIChoICE9PSBudWxsKSB7XG4gICAgICAgICAgaWYgKGlzTmFOKGgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGggPSBNYXRoLm1heCgwLCBNYXRoLm1pbigzNjAsIGgpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocyAhPT0gbnVsbCkge1xuICAgICAgICAgIGlmIChpc05hTihzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMTAwLCB0aGlzLm1heFMsIHMpLCB0aGlzLm1pblMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2ICE9PSBudWxsKSB7XG4gICAgICAgICAgaWYgKGlzTmFOKHYpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHYgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxMDAsIHRoaXMubWF4ViwgdiksIHRoaXMubWluVik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJnYiA9IEhTVl9SR0IoXG4gICAgICAgICAgaCA9PT0gbnVsbCA/IHRoaXMuaHN2WzBdIDogKHRoaXMuaHN2WzBdID0gaCksXG4gICAgICAgICAgcyA9PT0gbnVsbCA/IHRoaXMuaHN2WzFdIDogKHRoaXMuaHN2WzFdID0gcyksXG4gICAgICAgICAgdiA9PT0gbnVsbCA/IHRoaXMuaHN2WzJdIDogKHRoaXMuaHN2WzJdID0gdilcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmV4cG9ydENvbG9yKGZsYWdzKTtcbiAgICAgIH07XG5cbiAgICAgIC8vIHI6IDAtMjU1XG4gICAgICAvLyBnOiAwLTI1NVxuICAgICAgLy8gYjogMC0yNTVcbiAgICAgIC8vXG4gICAgICB0aGlzLmZyb21SR0IgPSBmdW5jdGlvbihyLCBnLCBiLCBmbGFncykge1xuICAgICAgICAvLyBudWxsID0gZG9uJ3QgY2hhbmdlXG4gICAgICAgIGlmIChyICE9PSBudWxsKSB7XG4gICAgICAgICAgaWYgKGlzTmFOKHIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHIgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigyNTUsIHIpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZyAhPT0gbnVsbCkge1xuICAgICAgICAgIGlmIChpc05hTihnKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBnID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMjU1LCBnKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGIgIT09IG51bGwpIHtcbiAgICAgICAgICBpZiAoaXNOYU4oYikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYiA9IE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgYikpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaHN2ID0gUkdCX0hTVihcbiAgICAgICAgICByID09PSBudWxsID8gdGhpcy5yZ2JbMF0gOiByLFxuICAgICAgICAgIGcgPT09IG51bGwgPyB0aGlzLnJnYlsxXSA6IGcsXG4gICAgICAgICAgYiA9PT0gbnVsbCA/IHRoaXMucmdiWzJdIDogYlxuICAgICAgICApO1xuICAgICAgICBpZiAoaHN2WzBdICE9PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5oc3ZbMF0gPSBNYXRoLm1heCgwLCBNYXRoLm1pbigzNjAsIGhzdlswXSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoc3ZbMl0gIT09IDApIHtcbiAgICAgICAgICB0aGlzLmhzdlsxXSA9XG4gICAgICAgICAgICBoc3ZbMV0gPT09IG51bGxcbiAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgIDogTWF0aC5tYXgoMCwgdGhpcy5taW5TLCBNYXRoLm1pbigxMDAsIHRoaXMubWF4UywgaHN2WzFdKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oc3ZbMl0gPVxuICAgICAgICAgIGhzdlsyXSA9PT0gbnVsbFxuICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICA6IE1hdGgubWF4KDAsIHRoaXMubWluViwgTWF0aC5taW4oMTAwLCB0aGlzLm1heFYsIGhzdlsyXSkpO1xuXG4gICAgICAgIC8vIHVwZGF0ZSBSR0IgYWNjb3JkaW5nIHRvIGZpbmFsIEhTViwgYXMgc29tZSB2YWx1ZXMgbWlnaHQgYmUgdHJpbW1lZFxuICAgICAgICBjb25zdCByZ2IgPSBIU1ZfUkdCKHRoaXMuaHN2WzBdLCB0aGlzLmhzdlsxXSwgdGhpcy5oc3ZbMl0pO1xuICAgICAgICB0aGlzLnJnYlswXSA9IHJnYlswXTtcbiAgICAgICAgdGhpcy5yZ2JbMV0gPSByZ2JbMV07XG4gICAgICAgIHRoaXMucmdiWzJdID0gcmdiWzJdO1xuXG4gICAgICAgIHRoaXMuZXhwb3J0Q29sb3IoZmxhZ3MpO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5mcm9tU3RyaW5nID0gZnVuY3Rpb24oc3RyLCBmbGFncykge1xuICAgICAgICBsZXQgbTtcbiAgICAgICAgaWYgKChtID0gc3RyLm1hdGNoKC9eXFxXKihbMC05QS1GXXszfShbMC05QS1GXXszfSk/KVxcVyokL2kpKSkge1xuICAgICAgICAgIC8vIEhFWCBub3RhdGlvblxuICAgICAgICAgIC8vXG5cbiAgICAgICAgICBpZiAobVsxXS5sZW5ndGggPT09IDYpIHtcbiAgICAgICAgICAgIC8vIDYtY2hhciBub3RhdGlvblxuICAgICAgICAgICAgdGhpcy5mcm9tUkdCKFxuICAgICAgICAgICAgICBwYXJzZUludChtWzFdLnN1YnN0cigwLCAyKSwgMTYpLFxuICAgICAgICAgICAgICBwYXJzZUludChtWzFdLnN1YnN0cigyLCAyKSwgMTYpLFxuICAgICAgICAgICAgICBwYXJzZUludChtWzFdLnN1YnN0cig0LCAyKSwgMTYpLFxuICAgICAgICAgICAgICBmbGFnc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gMy1jaGFyIG5vdGF0aW9uXG4gICAgICAgICAgICB0aGlzLmZyb21SR0IoXG4gICAgICAgICAgICAgIHBhcnNlSW50KG1bMV0uY2hhckF0KDApICsgbVsxXS5jaGFyQXQoMCksIDE2KSxcbiAgICAgICAgICAgICAgcGFyc2VJbnQobVsxXS5jaGFyQXQoMSkgKyBtWzFdLmNoYXJBdCgxKSwgMTYpLFxuICAgICAgICAgICAgICBwYXJzZUludChtWzFdLmNoYXJBdCgyKSArIG1bMV0uY2hhckF0KDIpLCAxNiksXG4gICAgICAgICAgICAgIGZsYWdzXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKG0gPSBzdHIubWF0Y2goL15cXFcqcmdiYT9cXCgoW14pXSopXFwpXFxXKiQvaSkpKSB7XG4gICAgICAgICAgY29uc3QgcGFyYW1zID0gbVsxXS5zcGxpdChcIixcIik7XG4gICAgICAgICAgY29uc3QgcmUgPSAvXlxccyooXFxkKikoXFwuXFxkKyk/XFxzKiQvO1xuICAgICAgICAgIGxldCBtUjtcbiAgICAgICAgICBsZXQgbUc7XG4gICAgICAgICAgbGV0IG1CO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHBhcmFtcy5sZW5ndGggPj0gMyAmJlxuICAgICAgICAgICAgKG1SID0gcGFyYW1zWzBdLm1hdGNoKHJlKSkgJiZcbiAgICAgICAgICAgIChtRyA9IHBhcmFtc1sxXS5tYXRjaChyZSkpICYmXG4gICAgICAgICAgICAobUIgPSBwYXJhbXNbMl0ubWF0Y2gocmUpKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY29uc3QgciA9IHBhcnNlRmxvYXQoKG1SWzFdIHx8IFwiMFwiKSArIChtUlsyXSB8fCBcIlwiKSk7XG4gICAgICAgICAgICBjb25zdCBnID0gcGFyc2VGbG9hdCgobUdbMV0gfHwgXCIwXCIpICsgKG1HWzJdIHx8IFwiXCIpKTtcbiAgICAgICAgICAgIGNvbnN0IGIgPSBwYXJzZUZsb2F0KChtQlsxXSB8fCBcIjBcIikgKyAobUJbMl0gfHwgXCJcIikpO1xuICAgICAgICAgICAgdGhpcy5mcm9tUkdCKHIsIGcsIGIsIGZsYWdzKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgKDB4MTAwIHwgTWF0aC5yb3VuZCh0aGlzLnJnYlswXSkpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSkgK1xuICAgICAgICAgICgweDEwMCB8IE1hdGgucm91bmQodGhpcy5yZ2JbMV0pKS50b1N0cmluZygxNikuc3Vic3RyKDEpICtcbiAgICAgICAgICAoMHgxMDAgfCBNYXRoLnJvdW5kKHRoaXMucmdiWzJdKSkudG9TdHJpbmcoMTYpLnN1YnN0cigxKVxuICAgICAgICApO1xuICAgICAgfTtcblxuICAgICAgdGhpcy50b0hFWFN0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gYCMke3RoaXMudG9TdHJpbmcoKS50b1VwcGVyQ2FzZSgpfWA7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLnRvUkdCU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBgcmdiKCR7TWF0aC5yb3VuZCh0aGlzLnJnYlswXSl9LCR7TWF0aC5yb3VuZChcbiAgICAgICAgICB0aGlzLnJnYlsxXVxuICAgICAgICApfSwke01hdGgucm91bmQodGhpcy5yZ2JbMl0pfSlgO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5pc0xpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgMC4yMTMgKiB0aGlzLnJnYlswXSArIDAuNzE1ICogdGhpcy5yZ2JbMV0gKyAwLjA3MiAqIHRoaXMucmdiWzJdID5cbiAgICAgICAgICAyNTUgLyAyXG4gICAgICAgICk7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLl9wcm9jZXNzUGFyZW50RWxlbWVudHNJbkRPTSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fbGlua2VkRWxlbWVudHNQcm9jZXNzZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbGlua2VkRWxlbWVudHNQcm9jZXNzZWQgPSB0cnVlO1xuXG4gICAgICAgIGxldCBlbG0gPSB0aGlzLnRhcmdldEVsZW1lbnQ7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAvLyBJZiB0aGUgdGFyZ2V0IGVsZW1lbnQgb3Igb25lIG9mIGl0cyBwYXJlbnQgbm9kZXMgaGFzIGZpeGVkIHBvc2l0aW9uLFxuICAgICAgICAgIC8vIHRoZW4gdXNlIGZpeGVkIHBvc2l0aW9uaW5nIGluc3RlYWRcbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vIE5vdGU6IEluIEZpcmVmb3gsIGdldENvbXB1dGVkU3R5bGUgcmV0dXJucyBudWxsIGluIGEgaGlkZGVuIGlmcmFtZSxcbiAgICAgICAgICAvLyB0aGF0J3Mgd2h5IHdlIG5lZWQgdG8gY2hlY2sgaWYgdGhlIHJldHVybmVkIHN0eWxlIG9iamVjdCBpcyBub24tZW1wdHlcbiAgICAgICAgICBjb25zdCBjdXJyU3R5bGUgPSBqc2MuZ2V0U3R5bGUoZWxtKTtcbiAgICAgICAgICBpZiAoY3VyclN0eWxlICYmIGN1cnJTdHlsZS5wb3NpdGlvbi50b0xvd2VyQ2FzZSgpID09PSBcImZpeGVkXCIpIHtcbiAgICAgICAgICAgIHRoaXMuZml4ZWQgPSB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChlbG0gIT09IHRoaXMudGFyZ2V0RWxlbWVudCkge1xuICAgICAgICAgICAgLy8gRW5zdXJlIHRvIGF0dGFjaCBvblBhcmVudFNjcm9sbCBvbmx5IG9uY2UgdG8gZWFjaCBwYXJlbnQgZWxlbWVudFxuICAgICAgICAgICAgLy8gKG11bHRpcGxlIHRhcmdldEVsZW1lbnRzIGNhbiBzaGFyZSB0aGUgc2FtZSBwYXJlbnQgbm9kZXMpXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gTm90ZTogSXQncyBub3QganVzdCBvZmZzZXRQYXJlbnRzIHRoYXQgY2FuIGJlIHNjcm9sbGFibGUsXG4gICAgICAgICAgICAvLyB0aGF0J3Mgd2h5IHdlIGxvb3AgdGhyb3VnaCBhbGwgcGFyZW50IG5vZGVzXG4gICAgICAgICAgICBpZiAoIWVsbS5fanNjRXZlbnRzQXR0YWNoZWQpIHtcbiAgICAgICAgICAgICAganNjLmF0dGFjaEV2ZW50KGVsbSwgXCJzY3JvbGxcIiwganNjLm9uUGFyZW50U2Nyb2xsKTtcbiAgICAgICAgICAgICAgZWxtLl9qc2NFdmVudHNBdHRhY2hlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlICgoZWxtID0gZWxtLnBhcmVudE5vZGUpICYmICFqc2MuaXNFbGVtZW50VHlwZShlbG0sIFwiYm9keVwiKSk7XG4gICAgICB9O1xuXG4gICAgICAvLyByOiAwLTI1NVxuICAgICAgLy8gZzogMC0yNTVcbiAgICAgIC8vIGI6IDAtMjU1XG4gICAgICAvL1xuICAgICAgLy8gcmV0dXJuczogWyAwLTM2MCwgMC0xMDAsIDAtMTAwIF1cbiAgICAgIC8vXG4gICAgICBmdW5jdGlvbiBSR0JfSFNWKHIsIGcsIGIpIHtcbiAgICAgICAgciAvPSAyNTU7XG4gICAgICAgIGcgLz0gMjU1O1xuICAgICAgICBiIC89IDI1NTtcbiAgICAgICAgY29uc3QgbiA9IE1hdGgubWluKE1hdGgubWluKHIsIGcpLCBiKTtcbiAgICAgICAgY29uc3QgdiA9IE1hdGgubWF4KE1hdGgubWF4KHIsIGcpLCBiKTtcbiAgICAgICAgY29uc3QgbSA9IHYgLSBuO1xuICAgICAgICBpZiAobSA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBbbnVsbCwgMCwgMTAwICogdl07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaCA9XG4gICAgICAgICAgciA9PT0gblxuICAgICAgICAgICAgPyAzICsgKGIgLSBnKSAvIG1cbiAgICAgICAgICAgIDogZyA9PT0gblxuICAgICAgICAgICAgPyA1ICsgKHIgLSBiKSAvIG1cbiAgICAgICAgICAgIDogMSArIChnIC0gcikgLyBtO1xuICAgICAgICByZXR1cm4gWzYwICogKGggPT09IDYgPyAwIDogaCksIDEwMCAqIChtIC8gdiksIDEwMCAqIHZdO1xuICAgICAgfVxuXG4gICAgICAvLyBoOiAwLTM2MFxuICAgICAgLy8gczogMC0xMDBcbiAgICAgIC8vIHY6IDAtMTAwXG4gICAgICAvL1xuICAgICAgLy8gcmV0dXJuczogWyAwLTI1NSwgMC0yNTUsIDAtMjU1IF1cbiAgICAgIC8vXG4gICAgICBmdW5jdGlvbiBIU1ZfUkdCKGgsIHMsIHYpIHtcbiAgICAgICAgY29uc3QgdSA9IDI1NSAqICh2IC8gMTAwKTtcblxuICAgICAgICBpZiAoaCA9PT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBbdSwgdSwgdV07XG4gICAgICAgIH1cblxuICAgICAgICBoIC89IDYwO1xuICAgICAgICBzIC89IDEwMDtcblxuICAgICAgICBjb25zdCBpID0gTWF0aC5mbG9vcihoKTtcbiAgICAgICAgY29uc3QgZiA9IGkgJSAyID8gaCAtIGkgOiAxIC0gKGggLSBpKTtcbiAgICAgICAgY29uc3QgbSA9IHUgKiAoMSAtIHMpO1xuICAgICAgICBjb25zdCBuID0gdSAqICgxIC0gcyAqIGYpO1xuICAgICAgICBzd2l0Y2ggKGkpIHtcbiAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgcmV0dXJuIFt1LCBuLCBtXTtcbiAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICByZXR1cm4gW24sIHUsIG1dO1xuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHJldHVybiBbbSwgdSwgbl07XG4gICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgcmV0dXJuIFttLCBuLCB1XTtcbiAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICByZXR1cm4gW24sIG0sIHVdO1xuICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgIHJldHVybiBbdSwgbSwgbl07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZGV0YWNoUGlja2VyKCkge1xuICAgICAgICBqc2MudW5zZXRDbGFzcyhUSElTLnRhcmdldEVsZW1lbnQsIFRISVMuYWN0aXZlQ2xhc3MpO1xuICAgICAgICBqc2MucGlja2VyLndyYXAucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChqc2MucGlja2VyLndyYXApO1xuICAgICAgICBkZWxldGUganNjLnBpY2tlci5vd25lcjtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZHJhd1BpY2tlcigpIHtcbiAgICAgICAgLy8gQXQgdGhpcyBwb2ludCwgd2hlbiBkcmF3aW5nIHRoZSBwaWNrZXIsIHdlIGtub3cgd2hhdCB0aGUgcGFyZW50IGVsZW1lbnRzIGFyZVxuICAgICAgICAvLyBhbmQgd2UgY2FuIGRvIGFsbCByZWxhdGVkIERPTSBvcGVyYXRpb25zLCBzdWNoIGFzIHJlZ2lzdGVyaW5nIGV2ZW50cyBvbiB0aGVtXG4gICAgICAgIC8vIG9yIGNoZWNraW5nIHRoZWlyIHBvc2l0aW9uaW5nXG4gICAgICAgIFRISVMuX3Byb2Nlc3NQYXJlbnRFbGVtZW50c0luRE9NKCk7XG5cbiAgICAgICAgaWYgKCFqc2MucGlja2VyKSB7XG4gICAgICAgICAganNjLnBpY2tlciA9IHtcbiAgICAgICAgICAgIG93bmVyOiBudWxsLFxuICAgICAgICAgICAgd3JhcDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgICAgICAgIGJveDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgICAgICAgIGJveFM6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIC8vIHNoYWRvdyBhcmVhXG4gICAgICAgICAgICBib3hCOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLCAvLyBib3JkZXJcbiAgICAgICAgICAgIHBhZDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgICAgICAgIHBhZEI6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIC8vIGJvcmRlclxuICAgICAgICAgICAgcGFkTTogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSwgLy8gbW91c2UvdG91Y2ggYXJlYVxuICAgICAgICAgICAgcGFkUGFsOiBqc2MuY3JlYXRlUGFsZXR0ZSgpLFxuICAgICAgICAgICAgY3Jvc3M6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICAgICAgICBjcm9zc0JZOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLCAvLyBib3JkZXIgWVxuICAgICAgICAgICAgY3Jvc3NCWDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSwgLy8gYm9yZGVyIFhcbiAgICAgICAgICAgIGNyb3NzTFk6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIC8vIGxpbmUgWVxuICAgICAgICAgICAgY3Jvc3NMWDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSwgLy8gbGluZSBYXG4gICAgICAgICAgICBzbGQ6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICAgICAgICBzbGRCOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLCAvLyBib3JkZXJcbiAgICAgICAgICAgIHNsZE06IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIC8vIG1vdXNlL3RvdWNoIGFyZWFcbiAgICAgICAgICAgIHNsZEdyYWQ6IGpzYy5jcmVhdGVTbGlkZXJHcmFkaWVudCgpLFxuICAgICAgICAgICAgc2xkUHRyUzogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSwgLy8gc2xpZGVyIHBvaW50ZXIgc3BhY2VyXG4gICAgICAgICAgICBzbGRQdHJJQjogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSwgLy8gc2xpZGVyIHBvaW50ZXIgaW5uZXIgYm9yZGVyXG4gICAgICAgICAgICBzbGRQdHJNQjogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSwgLy8gc2xpZGVyIHBvaW50ZXIgbWlkZGxlIGJvcmRlclxuICAgICAgICAgICAgc2xkUHRyT0I6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIC8vIHNsaWRlciBwb2ludGVyIG91dGVyIGJvcmRlclxuICAgICAgICAgICAgYnRuOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgICAgICAgYnRuVDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIikgLy8gdGV4dFxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBqc2MucGlja2VyLnBhZC5hcHBlbmRDaGlsZChqc2MucGlja2VyLnBhZFBhbC5lbG0pO1xuICAgICAgICAgIGpzYy5waWNrZXIucGFkQi5hcHBlbmRDaGlsZChqc2MucGlja2VyLnBhZCk7XG4gICAgICAgICAganNjLnBpY2tlci5jcm9zcy5hcHBlbmRDaGlsZChqc2MucGlja2VyLmNyb3NzQlkpO1xuICAgICAgICAgIGpzYy5waWNrZXIuY3Jvc3MuYXBwZW5kQ2hpbGQoanNjLnBpY2tlci5jcm9zc0JYKTtcbiAgICAgICAgICBqc2MucGlja2VyLmNyb3NzLmFwcGVuZENoaWxkKGpzYy5waWNrZXIuY3Jvc3NMWSk7XG4gICAgICAgICAganNjLnBpY2tlci5jcm9zcy5hcHBlbmRDaGlsZChqc2MucGlja2VyLmNyb3NzTFgpO1xuICAgICAgICAgIGpzYy5waWNrZXIucGFkQi5hcHBlbmRDaGlsZChqc2MucGlja2VyLmNyb3NzKTtcbiAgICAgICAgICBqc2MucGlja2VyLmJveC5hcHBlbmRDaGlsZChqc2MucGlja2VyLnBhZEIpO1xuICAgICAgICAgIGpzYy5waWNrZXIuYm94LmFwcGVuZENoaWxkKGpzYy5waWNrZXIucGFkTSk7XG5cbiAgICAgICAgICBqc2MucGlja2VyLnNsZC5hcHBlbmRDaGlsZChqc2MucGlja2VyLnNsZEdyYWQuZWxtKTtcbiAgICAgICAgICBqc2MucGlja2VyLnNsZEIuYXBwZW5kQ2hpbGQoanNjLnBpY2tlci5zbGQpO1xuICAgICAgICAgIGpzYy5waWNrZXIuc2xkQi5hcHBlbmRDaGlsZChqc2MucGlja2VyLnNsZFB0ck9CKTtcbiAgICAgICAgICBqc2MucGlja2VyLnNsZFB0ck9CLmFwcGVuZENoaWxkKGpzYy5waWNrZXIuc2xkUHRyTUIpO1xuICAgICAgICAgIGpzYy5waWNrZXIuc2xkUHRyTUIuYXBwZW5kQ2hpbGQoanNjLnBpY2tlci5zbGRQdHJJQik7XG4gICAgICAgICAganNjLnBpY2tlci5zbGRQdHJJQi5hcHBlbmRDaGlsZChqc2MucGlja2VyLnNsZFB0clMpO1xuICAgICAgICAgIGpzYy5waWNrZXIuYm94LmFwcGVuZENoaWxkKGpzYy5waWNrZXIuc2xkQik7XG4gICAgICAgICAganNjLnBpY2tlci5ib3guYXBwZW5kQ2hpbGQoanNjLnBpY2tlci5zbGRNKTtcblxuICAgICAgICAgIGpzYy5waWNrZXIuYnRuLmFwcGVuZENoaWxkKGpzYy5waWNrZXIuYnRuVCk7XG4gICAgICAgICAganNjLnBpY2tlci5ib3guYXBwZW5kQ2hpbGQoanNjLnBpY2tlci5idG4pO1xuXG4gICAgICAgICAganNjLnBpY2tlci5ib3hCLmFwcGVuZENoaWxkKGpzYy5waWNrZXIuYm94KTtcbiAgICAgICAgICBqc2MucGlja2VyLndyYXAuYXBwZW5kQ2hpbGQoanNjLnBpY2tlci5ib3hTKTtcbiAgICAgICAgICBqc2MucGlja2VyLndyYXAuYXBwZW5kQ2hpbGQoanNjLnBpY2tlci5ib3hCKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHAgPSBqc2MucGlja2VyO1xuXG4gICAgICAgIGNvbnN0IGRpc3BsYXlTbGlkZXIgPSAhIWpzYy5nZXRTbGlkZXJDb21wb25lbnQoVEhJUyk7XG4gICAgICAgIGNvbnN0IGRpbXMgPSBqc2MuZ2V0UGlja2VyRGltcyhUSElTKTtcbiAgICAgICAgY29uc3QgY3Jvc3NPdXRlclNpemUgPVxuICAgICAgICAgIDIgKiBUSElTLnBvaW50ZXJCb3JkZXJXaWR0aCArXG4gICAgICAgICAgVEhJUy5wb2ludGVyVGhpY2tuZXNzICtcbiAgICAgICAgICAyICogVEhJUy5jcm9zc1NpemU7XG4gICAgICAgIGNvbnN0IHBhZFRvU2xpZGVyUGFkZGluZyA9IGpzYy5nZXRQYWRUb1NsaWRlclBhZGRpbmcoVEhJUyk7XG4gICAgICAgIGNvbnN0IGJvcmRlclJhZGl1cyA9IE1hdGgubWluKFxuICAgICAgICAgIFRISVMuYm9yZGVyUmFkaXVzLFxuICAgICAgICAgIE1hdGgucm91bmQoVEhJUy5wYWRkaW5nICogTWF0aC5QSSlcbiAgICAgICAgKTsgLy8gcHhcbiAgICAgICAgY29uc3QgcGFkQ3Vyc29yID0gXCJjcm9zc2hhaXJcIjtcblxuICAgICAgICAvLyB3cmFwXG4gICAgICAgIHAud3JhcC5zdHlsZS5jbGVhciA9IFwiYm90aFwiO1xuICAgICAgICBwLndyYXAuc3R5bGUud2lkdGggPSBgJHtkaW1zWzBdICsgMiAqIFRISVMuYm9yZGVyV2lkdGh9cHhgO1xuICAgICAgICBwLndyYXAuc3R5bGUuaGVpZ2h0ID0gYCR7ZGltc1sxXSArIDIgKiBUSElTLmJvcmRlcldpZHRofXB4YDtcbiAgICAgICAgcC53cmFwLnN0eWxlLnpJbmRleCA9IFRISVMuekluZGV4O1xuXG4gICAgICAgIC8vIHBpY2tlclxuICAgICAgICBwLmJveC5zdHlsZS53aWR0aCA9IGAke2RpbXNbMF19cHhgO1xuICAgICAgICBwLmJveC5zdHlsZS5oZWlnaHQgPSBgJHtkaW1zWzFdfXB4YDtcblxuICAgICAgICBwLmJveFMuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgIHAuYm94Uy5zdHlsZS5sZWZ0ID0gXCIwXCI7XG4gICAgICAgIHAuYm94Uy5zdHlsZS50b3AgPSBcIjBcIjtcbiAgICAgICAgcC5ib3hTLnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XG4gICAgICAgIHAuYm94Uy5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcbiAgICAgICAganNjLnNldEJvcmRlclJhZGl1cyhwLmJveFMsIGAke2JvcmRlclJhZGl1c31weGApO1xuXG4gICAgICAgIC8vIHBpY2tlciBib3JkZXJcbiAgICAgICAgcC5ib3hCLnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xuICAgICAgICBwLmJveEIuc3R5bGUuYm9yZGVyID0gYCR7VEhJUy5ib3JkZXJXaWR0aH1weCBzb2xpZGA7XG4gICAgICAgIHAuYm94Qi5zdHlsZS5ib3JkZXJDb2xvciA9IFRISVMuYm9yZGVyQ29sb3I7XG4gICAgICAgIHAuYm94Qi5zdHlsZS5iYWNrZ3JvdW5kID0gVEhJUy5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIGpzYy5zZXRCb3JkZXJSYWRpdXMocC5ib3hCLCBgJHtib3JkZXJSYWRpdXN9cHhgKTtcblxuICAgICAgICAvLyBJRSBoYWNrOlxuICAgICAgICAvLyBJZiB0aGUgZWxlbWVudCBpcyB0cmFuc3BhcmVudCwgSUUgd2lsbCB0cmlnZ2VyIHRoZSBldmVudCBvbiB0aGUgZWxlbWVudHMgdW5kZXIgaXQsXG4gICAgICAgIC8vIGUuZy4gb24gQ2FudmFzIG9yIG9uIGVsZW1lbnRzIHdpdGggYm9yZGVyXG4gICAgICAgIHAucGFkTS5zdHlsZS5iYWNrZ3JvdW5kID0gcC5zbGRNLnN0eWxlLmJhY2tncm91bmQgPSBcIiNGRkZcIjtcbiAgICAgICAganNjLnNldFN0eWxlKHAucGFkTSwgXCJvcGFjaXR5XCIsIFwiMFwiKTtcbiAgICAgICAganNjLnNldFN0eWxlKHAuc2xkTSwgXCJvcGFjaXR5XCIsIFwiMFwiKTtcblxuICAgICAgICAvLyBwYWRcbiAgICAgICAgcC5wYWQuc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7XG4gICAgICAgIHAucGFkLnN0eWxlLndpZHRoID0gYCR7VEhJUy53aWR0aH1weGA7XG4gICAgICAgIHAucGFkLnN0eWxlLmhlaWdodCA9IGAke1RISVMuaGVpZ2h0fXB4YDtcblxuICAgICAgICAvLyBwYWQgcGFsZXR0ZXMgKEhTViBhbmQgSFZTKVxuICAgICAgICBwLnBhZFBhbC5kcmF3KFRISVMud2lkdGgsIFRISVMuaGVpZ2h0LCBqc2MuZ2V0UGFkWUNvbXBvbmVudChUSElTKSk7XG5cbiAgICAgICAgLy8gcGFkIGJvcmRlclxuICAgICAgICBwLnBhZEIuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgIHAucGFkQi5zdHlsZS5sZWZ0ID0gYCR7VEhJUy5wYWRkaW5nfXB4YDtcbiAgICAgICAgcC5wYWRCLnN0eWxlLnRvcCA9IGAke1RISVMucGFkZGluZ31weGA7XG4gICAgICAgIHAucGFkQi5zdHlsZS5ib3JkZXIgPSBgJHtUSElTLmluc2V0V2lkdGh9cHggc29saWRgO1xuICAgICAgICBwLnBhZEIuc3R5bGUuYm9yZGVyQ29sb3IgPSBUSElTLmluc2V0Q29sb3I7XG5cbiAgICAgICAgLy8gcGFkIG1vdXNlIGFyZWFcbiAgICAgICAgcC5wYWRNLmpzY0luc3RhbmNlID0gVEhJUztcbiAgICAgICAgcC5wYWRNLmpzY0NvbnRyb2xOYW1lID0gXCJwYWRcIjtcbiAgICAgICAgcC5wYWRNLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICBwLnBhZE0uc3R5bGUubGVmdCA9IFwiMFwiO1xuICAgICAgICBwLnBhZE0uc3R5bGUudG9wID0gXCIwXCI7XG4gICAgICAgIHAucGFkTS5zdHlsZS53aWR0aCA9IGAke1RISVMucGFkZGluZyArXG4gICAgICAgICAgMiAqIFRISVMuaW5zZXRXaWR0aCArXG4gICAgICAgICAgVEhJUy53aWR0aCArXG4gICAgICAgICAgcGFkVG9TbGlkZXJQYWRkaW5nIC8gMn1weGA7XG4gICAgICAgIHAucGFkTS5zdHlsZS5oZWlnaHQgPSBgJHtkaW1zWzFdfXB4YDtcbiAgICAgICAgcC5wYWRNLnN0eWxlLmN1cnNvciA9IHBhZEN1cnNvcjtcblxuICAgICAgICAvLyBwYWQgY3Jvc3NcbiAgICAgICAgcC5jcm9zcy5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgICAgcC5jcm9zcy5zdHlsZS5sZWZ0ID0gcC5jcm9zcy5zdHlsZS50b3AgPSBcIjBcIjtcbiAgICAgICAgcC5jcm9zcy5zdHlsZS53aWR0aCA9IHAuY3Jvc3Muc3R5bGUuaGVpZ2h0ID0gYCR7Y3Jvc3NPdXRlclNpemV9cHhgO1xuXG4gICAgICAgIC8vIHBhZCBjcm9zcyBib3JkZXIgWSBhbmQgWFxuICAgICAgICBwLmNyb3NzQlkuc3R5bGUucG9zaXRpb24gPSBwLmNyb3NzQlguc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgIHAuY3Jvc3NCWS5zdHlsZS5iYWNrZ3JvdW5kID0gcC5jcm9zc0JYLnN0eWxlLmJhY2tncm91bmQgPVxuICAgICAgICAgIFRISVMucG9pbnRlckJvcmRlckNvbG9yO1xuICAgICAgICBwLmNyb3NzQlkuc3R5bGUud2lkdGggPSBwLmNyb3NzQlguc3R5bGUuaGVpZ2h0ID0gYCR7MiAqXG4gICAgICAgICAgVEhJUy5wb2ludGVyQm9yZGVyV2lkdGggK1xuICAgICAgICAgIFRISVMucG9pbnRlclRoaWNrbmVzc31weGA7XG4gICAgICAgIHAuY3Jvc3NCWS5zdHlsZS5oZWlnaHQgPSBwLmNyb3NzQlguc3R5bGUud2lkdGggPSBgJHtjcm9zc091dGVyU2l6ZX1weGA7XG4gICAgICAgIHAuY3Jvc3NCWS5zdHlsZS5sZWZ0ID0gcC5jcm9zc0JYLnN0eWxlLnRvcCA9IGAke01hdGguZmxvb3IoXG4gICAgICAgICAgY3Jvc3NPdXRlclNpemUgLyAyXG4gICAgICAgICkgLVxuICAgICAgICAgIE1hdGguZmxvb3IoVEhJUy5wb2ludGVyVGhpY2tuZXNzIC8gMikgLVxuICAgICAgICAgIFRISVMucG9pbnRlckJvcmRlcldpZHRofXB4YDtcbiAgICAgICAgcC5jcm9zc0JZLnN0eWxlLnRvcCA9IHAuY3Jvc3NCWC5zdHlsZS5sZWZ0ID0gXCIwXCI7XG5cbiAgICAgICAgLy8gcGFkIGNyb3NzIGxpbmUgWSBhbmQgWFxuICAgICAgICBwLmNyb3NzTFkuc3R5bGUucG9zaXRpb24gPSBwLmNyb3NzTFguc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgIHAuY3Jvc3NMWS5zdHlsZS5iYWNrZ3JvdW5kID0gcC5jcm9zc0xYLnN0eWxlLmJhY2tncm91bmQgPVxuICAgICAgICAgIFRISVMucG9pbnRlckNvbG9yO1xuICAgICAgICBwLmNyb3NzTFkuc3R5bGUuaGVpZ2h0ID0gcC5jcm9zc0xYLnN0eWxlLndpZHRoID0gYCR7Y3Jvc3NPdXRlclNpemUgLVxuICAgICAgICAgIDIgKiBUSElTLnBvaW50ZXJCb3JkZXJXaWR0aH1weGA7XG4gICAgICAgIHAuY3Jvc3NMWS5zdHlsZS53aWR0aCA9IHAuY3Jvc3NMWC5zdHlsZS5oZWlnaHQgPSBgJHtUSElTLnBvaW50ZXJUaGlja25lc3N9cHhgO1xuICAgICAgICBwLmNyb3NzTFkuc3R5bGUubGVmdCA9IHAuY3Jvc3NMWC5zdHlsZS50b3AgPSBgJHtNYXRoLmZsb29yKFxuICAgICAgICAgIGNyb3NzT3V0ZXJTaXplIC8gMlxuICAgICAgICApIC0gTWF0aC5mbG9vcihUSElTLnBvaW50ZXJUaGlja25lc3MgLyAyKX1weGA7XG4gICAgICAgIHAuY3Jvc3NMWS5zdHlsZS50b3AgPSBwLmNyb3NzTFguc3R5bGUubGVmdCA9IGAke1RISVMucG9pbnRlckJvcmRlcldpZHRofXB4YDtcblxuICAgICAgICAvLyBzbGlkZXJcbiAgICAgICAgcC5zbGQuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuICAgICAgICBwLnNsZC5zdHlsZS53aWR0aCA9IGAke1RISVMuc2xpZGVyU2l6ZX1weGA7XG4gICAgICAgIHAuc2xkLnN0eWxlLmhlaWdodCA9IGAke1RISVMuaGVpZ2h0fXB4YDtcblxuICAgICAgICAvLyBzbGlkZXIgZ3JhZGllbnRcbiAgICAgICAgcC5zbGRHcmFkLmRyYXcoVEhJUy5zbGlkZXJTaXplLCBUSElTLmhlaWdodCwgXCIjMDAwXCIsIFwiIzAwMFwiKTtcblxuICAgICAgICAvLyBzbGlkZXIgYm9yZGVyXG4gICAgICAgIHAuc2xkQi5zdHlsZS5kaXNwbGF5ID0gZGlzcGxheVNsaWRlciA/IFwiYmxvY2tcIiA6IFwibm9uZVwiO1xuICAgICAgICBwLnNsZEIuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgIHAuc2xkQi5zdHlsZS5yaWdodCA9IGAke1RISVMucGFkZGluZ31weGA7XG4gICAgICAgIHAuc2xkQi5zdHlsZS50b3AgPSBgJHtUSElTLnBhZGRpbmd9cHhgO1xuICAgICAgICBwLnNsZEIuc3R5bGUuYm9yZGVyID0gYCR7VEhJUy5pbnNldFdpZHRofXB4IHNvbGlkYDtcbiAgICAgICAgcC5zbGRCLnN0eWxlLmJvcmRlckNvbG9yID0gVEhJUy5pbnNldENvbG9yO1xuXG4gICAgICAgIC8vIHNsaWRlciBtb3VzZSBhcmVhXG4gICAgICAgIHAuc2xkTS5qc2NJbnN0YW5jZSA9IFRISVM7XG4gICAgICAgIHAuc2xkTS5qc2NDb250cm9sTmFtZSA9IFwic2xkXCI7XG4gICAgICAgIHAuc2xkTS5zdHlsZS5kaXNwbGF5ID0gZGlzcGxheVNsaWRlciA/IFwiYmxvY2tcIiA6IFwibm9uZVwiO1xuICAgICAgICBwLnNsZE0uc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgIHAuc2xkTS5zdHlsZS5yaWdodCA9IFwiMFwiO1xuICAgICAgICBwLnNsZE0uc3R5bGUudG9wID0gXCIwXCI7XG4gICAgICAgIHAuc2xkTS5zdHlsZS53aWR0aCA9IGAke1RISVMuc2xpZGVyU2l6ZSArXG4gICAgICAgICAgcGFkVG9TbGlkZXJQYWRkaW5nIC8gMiArXG4gICAgICAgICAgVEhJUy5wYWRkaW5nICtcbiAgICAgICAgICAyICogVEhJUy5pbnNldFdpZHRofXB4YDtcbiAgICAgICAgcC5zbGRNLnN0eWxlLmhlaWdodCA9IGAke2RpbXNbMV19cHhgO1xuICAgICAgICBwLnNsZE0uc3R5bGUuY3Vyc29yID0gXCJkZWZhdWx0XCI7XG5cbiAgICAgICAgLy8gc2xpZGVyIHBvaW50ZXIgaW5uZXIgYW5kIG91dGVyIGJvcmRlclxuICAgICAgICBwLnNsZFB0cklCLnN0eWxlLmJvcmRlciA9IHAuc2xkUHRyT0Iuc3R5bGUuYm9yZGVyID0gYCR7VEhJUy5wb2ludGVyQm9yZGVyV2lkdGh9cHggc29saWQgJHtUSElTLnBvaW50ZXJCb3JkZXJDb2xvcn1gO1xuXG4gICAgICAgIC8vIHNsaWRlciBwb2ludGVyIG91dGVyIGJvcmRlclxuICAgICAgICBwLnNsZFB0ck9CLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICBwLnNsZFB0ck9CLnN0eWxlLmxlZnQgPSBgJHstKFxuICAgICAgICAgIDIgKiBUSElTLnBvaW50ZXJCb3JkZXJXaWR0aCArXG4gICAgICAgICAgVEhJUy5wb2ludGVyVGhpY2tuZXNzXG4gICAgICAgICl9cHhgO1xuICAgICAgICBwLnNsZFB0ck9CLnN0eWxlLnRvcCA9IFwiMFwiO1xuXG4gICAgICAgIC8vIHNsaWRlciBwb2ludGVyIG1pZGRsZSBib3JkZXJcbiAgICAgICAgcC5zbGRQdHJNQi5zdHlsZS5ib3JkZXIgPSBgJHtUSElTLnBvaW50ZXJUaGlja25lc3N9cHggc29saWQgJHtUSElTLnBvaW50ZXJDb2xvcn1gO1xuXG4gICAgICAgIC8vIHNsaWRlciBwb2ludGVyIHNwYWNlclxuICAgICAgICBwLnNsZFB0clMuc3R5bGUud2lkdGggPSBgJHtUSElTLnNsaWRlclNpemV9cHhgO1xuICAgICAgICBwLnNsZFB0clMuc3R5bGUuaGVpZ2h0ID0gYCR7c2xpZGVyUHRyU3BhY2V9cHhgO1xuXG4gICAgICAgIC8vIHRoZSBDbG9zZSBidXR0b25cbiAgICAgICAgZnVuY3Rpb24gc2V0QnRuQm9yZGVyKCkge1xuICAgICAgICAgIGNvbnN0IGluc2V0Q29sb3JzID0gVEhJUy5pbnNldENvbG9yLnNwbGl0KC9cXHMrLyk7XG4gICAgICAgICAgY29uc3Qgb3V0c2V0Q29sb3IgPVxuICAgICAgICAgICAgaW5zZXRDb2xvcnMubGVuZ3RoIDwgMlxuICAgICAgICAgICAgICA/IGluc2V0Q29sb3JzWzBdXG4gICAgICAgICAgICAgIDogYCR7aW5zZXRDb2xvcnNbMV19ICR7aW5zZXRDb2xvcnNbMF19ICR7aW5zZXRDb2xvcnNbMF19ICR7aW5zZXRDb2xvcnNbMV19YDtcbiAgICAgICAgICBwLmJ0bi5zdHlsZS5ib3JkZXJDb2xvciA9IG91dHNldENvbG9yO1xuICAgICAgICB9XG4gICAgICAgIHAuYnRuLnN0eWxlLmRpc3BsYXkgPSBUSElTLmNsb3NhYmxlID8gXCJibG9ja1wiIDogXCJub25lXCI7XG4gICAgICAgIHAuYnRuLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICBwLmJ0bi5zdHlsZS5sZWZ0ID0gYCR7VEhJUy5wYWRkaW5nfXB4YDtcbiAgICAgICAgcC5idG4uc3R5bGUuYm90dG9tID0gYCR7VEhJUy5wYWRkaW5nfXB4YDtcbiAgICAgICAgcC5idG4uc3R5bGUucGFkZGluZyA9IFwiMCAxNXB4XCI7XG4gICAgICAgIHAuYnRuLnN0eWxlLmhlaWdodCA9IGAke1RISVMuYnV0dG9uSGVpZ2h0fXB4YDtcbiAgICAgICAgcC5idG4uc3R5bGUuYm9yZGVyID0gYCR7VEhJUy5pbnNldFdpZHRofXB4IHNvbGlkYDtcbiAgICAgICAgc2V0QnRuQm9yZGVyKCk7XG4gICAgICAgIHAuYnRuLnN0eWxlLmNvbG9yID0gVEhJUy5idXR0b25Db2xvcjtcbiAgICAgICAgcC5idG4uc3R5bGUuZm9udCA9IFwiMTJweCBzYW5zLXNlcmlmXCI7XG4gICAgICAgIHAuYnRuLnN0eWxlLnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcC5idG4uc3R5bGUuY3Vyc29yID0gXCJwb2ludGVyXCI7XG4gICAgICAgIH0gY2F0Y2ggKGVPbGRJRSkge1xuICAgICAgICAgIHAuYnRuLnN0eWxlLmN1cnNvciA9IFwiaGFuZFwiO1xuICAgICAgICB9XG4gICAgICAgIHAuYnRuLm9ubW91c2Vkb3duID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgVEhJUy5oaWRlKCk7XG4gICAgICAgIH07XG4gICAgICAgIHAuYnRuVC5zdHlsZS5saW5lSGVpZ2h0ID0gYCR7VEhJUy5idXR0b25IZWlnaHR9cHhgO1xuICAgICAgICBwLmJ0blQuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgcC5idG5ULmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFRISVMuY2xvc2VUZXh0KSk7XG5cbiAgICAgICAgLy8gcGxhY2UgcG9pbnRlcnNcbiAgICAgICAgcmVkcmF3UGFkKCk7XG4gICAgICAgIHJlZHJhd1NsZCgpO1xuXG4gICAgICAgIC8vIElmIHdlIGFyZSBjaGFuZ2luZyB0aGUgb3duZXIgd2l0aG91dCBmaXJzdCBjbG9zaW5nIHRoZSBwaWNrZXIsXG4gICAgICAgIC8vIG1ha2Ugc3VyZSB0byBmaXJzdCBkZWFsIHdpdGggdGhlIG9sZCBvd25lclxuICAgICAgICBpZiAoanNjLnBpY2tlci5vd25lciAmJiBqc2MucGlja2VyLm93bmVyICE9PSBUSElTKSB7XG4gICAgICAgICAganNjLnVuc2V0Q2xhc3MoanNjLnBpY2tlci5vd25lci50YXJnZXRFbGVtZW50LCBUSElTLmFjdGl2ZUNsYXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCB0aGUgbmV3IHBpY2tlciBvd25lclxuICAgICAgICBqc2MucGlja2VyLm93bmVyID0gVEhJUztcblxuICAgICAgICAvLyBUaGUgcmVkcmF3UG9zaXRpb24oKSBtZXRob2QgbmVlZHMgcGlja2VyLm93bmVyIHRvIGJlIHNldCwgdGhhdCdzIHdoeSB3ZSBjYWxsIGl0IGhlcmUsXG4gICAgICAgIC8vIGFmdGVyIHNldHRpbmcgdGhlIG93bmVyXG4gICAgICAgIGlmIChqc2MuaXNFbGVtZW50VHlwZShjb250YWluZXIsIFwiYm9keVwiKSkge1xuICAgICAgICAgIGpzYy5yZWRyYXdQb3NpdGlvbigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGpzYy5kcmF3UG9zaXRpb24oVEhJUywgMCwgMCwgXCJyZWxhdGl2ZVwiLCBmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocC53cmFwLnBhcmVudE5vZGUgIT0gY29udGFpbmVyKSB7XG4gICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHAud3JhcCk7XG4gICAgICAgIH1cblxuICAgICAgICBqc2Muc2V0Q2xhc3MoVEhJUy50YXJnZXRFbGVtZW50LCBUSElTLmFjdGl2ZUNsYXNzKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcmVkcmF3UGFkKCkge1xuICAgICAgICAvLyByZWRyYXcgdGhlIHBhZCBwb2ludGVyXG4gICAgICAgIHN3aXRjaCAoanNjLmdldFBhZFlDb21wb25lbnQoVEhJUykpIHtcbiAgICAgICAgICBjYXNlIFwic1wiOlxuICAgICAgICAgICAgdmFyIHlDb21wb25lbnQgPSAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInZcIjpcbiAgICAgICAgICAgIHZhciB5Q29tcG9uZW50ID0gMjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHggPSBNYXRoLnJvdW5kKChUSElTLmhzdlswXSAvIDM2MCkgKiAoVEhJUy53aWR0aCAtIDEpKTtcbiAgICAgICAgY29uc3QgeSA9IE1hdGgucm91bmQoXG4gICAgICAgICAgKDEgLSBUSElTLmhzdlt5Q29tcG9uZW50XSAvIDEwMCkgKiAoVEhJUy5oZWlnaHQgLSAxKVxuICAgICAgICApO1xuICAgICAgICBjb25zdCBjcm9zc091dGVyU2l6ZSA9XG4gICAgICAgICAgMiAqIFRISVMucG9pbnRlckJvcmRlcldpZHRoICtcbiAgICAgICAgICBUSElTLnBvaW50ZXJUaGlja25lc3MgK1xuICAgICAgICAgIDIgKiBUSElTLmNyb3NzU2l6ZTtcbiAgICAgICAgY29uc3Qgb2ZzID0gLU1hdGguZmxvb3IoY3Jvc3NPdXRlclNpemUgLyAyKTtcbiAgICAgICAganNjLnBpY2tlci5jcm9zcy5zdHlsZS5sZWZ0ID0gYCR7eCArIG9mc31weGA7XG4gICAgICAgIGpzYy5waWNrZXIuY3Jvc3Muc3R5bGUudG9wID0gYCR7eSArIG9mc31weGA7XG5cbiAgICAgICAgLy8gcmVkcmF3IHRoZSBzbGlkZXJcbiAgICAgICAgc3dpdGNoIChqc2MuZ2V0U2xpZGVyQ29tcG9uZW50KFRISVMpKSB7XG4gICAgICAgICAgY2FzZSBcInNcIjpcbiAgICAgICAgICAgIHZhciByZ2IxID0gSFNWX1JHQihUSElTLmhzdlswXSwgMTAwLCBUSElTLmhzdlsyXSk7XG4gICAgICAgICAgICB2YXIgcmdiMiA9IEhTVl9SR0IoVEhJUy5oc3ZbMF0sIDAsIFRISVMuaHN2WzJdKTtcbiAgICAgICAgICAgIHZhciBjb2xvcjEgPSBgcmdiKCR7TWF0aC5yb3VuZChyZ2IxWzBdKX0sJHtNYXRoLnJvdW5kKFxuICAgICAgICAgICAgICByZ2IxWzFdXG4gICAgICAgICAgICApfSwke01hdGgucm91bmQocmdiMVsyXSl9KWA7XG4gICAgICAgICAgICB2YXIgY29sb3IyID0gYHJnYigke01hdGgucm91bmQocmdiMlswXSl9LCR7TWF0aC5yb3VuZChcbiAgICAgICAgICAgICAgcmdiMlsxXVxuICAgICAgICAgICAgKX0sJHtNYXRoLnJvdW5kKHJnYjJbMl0pfSlgO1xuICAgICAgICAgICAganNjLnBpY2tlci5zbGRHcmFkLmRyYXcoXG4gICAgICAgICAgICAgIFRISVMuc2xpZGVyU2l6ZSxcbiAgICAgICAgICAgICAgVEhJUy5oZWlnaHQsXG4gICAgICAgICAgICAgIGNvbG9yMSxcbiAgICAgICAgICAgICAgY29sb3IyXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInZcIjpcbiAgICAgICAgICAgIHZhciByZ2IgPSBIU1ZfUkdCKFRISVMuaHN2WzBdLCBUSElTLmhzdlsxXSwgMTAwKTtcbiAgICAgICAgICAgIHZhciBjb2xvcjEgPSBgcmdiKCR7TWF0aC5yb3VuZChyZ2JbMF0pfSwke01hdGgucm91bmQoXG4gICAgICAgICAgICAgIHJnYlsxXVxuICAgICAgICAgICAgKX0sJHtNYXRoLnJvdW5kKHJnYlsyXSl9KWA7XG4gICAgICAgICAgICB2YXIgY29sb3IyID0gXCIjMDAwXCI7XG4gICAgICAgICAgICBqc2MucGlja2VyLnNsZEdyYWQuZHJhdyhcbiAgICAgICAgICAgICAgVEhJUy5zbGlkZXJTaXplLFxuICAgICAgICAgICAgICBUSElTLmhlaWdodCxcbiAgICAgICAgICAgICAgY29sb3IxLFxuICAgICAgICAgICAgICBjb2xvcjJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiByZWRyYXdTbGQoKSB7XG4gICAgICAgIGNvbnN0IHNsZENvbXBvbmVudCA9IGpzYy5nZXRTbGlkZXJDb21wb25lbnQoVEhJUyk7XG4gICAgICAgIGlmIChzbGRDb21wb25lbnQpIHtcbiAgICAgICAgICAvLyByZWRyYXcgdGhlIHNsaWRlciBwb2ludGVyXG4gICAgICAgICAgc3dpdGNoIChzbGRDb21wb25lbnQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJzXCI6XG4gICAgICAgICAgICAgIHZhciB5Q29tcG9uZW50ID0gMTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwidlwiOlxuICAgICAgICAgICAgICB2YXIgeUNvbXBvbmVudCA9IDI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCB5ID0gTWF0aC5yb3VuZChcbiAgICAgICAgICAgICgxIC0gVEhJUy5oc3ZbeUNvbXBvbmVudF0gLyAxMDApICogKFRISVMuaGVpZ2h0IC0gMSlcbiAgICAgICAgICApO1xuICAgICAgICAgIGpzYy5waWNrZXIuc2xkUHRyT0Iuc3R5bGUudG9wID0gYCR7eSAtXG4gICAgICAgICAgICAoMiAqIFRISVMucG9pbnRlckJvcmRlcldpZHRoICsgVEhJUy5wb2ludGVyVGhpY2tuZXNzKSAtXG4gICAgICAgICAgICBNYXRoLmZsb29yKHNsaWRlclB0clNwYWNlIC8gMil9cHhgO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGlzUGlja2VyT3duZXIoKSB7XG4gICAgICAgIHJldHVybiBqc2MucGlja2VyICYmIGpzYy5waWNrZXIub3duZXIgPT09IFRISVM7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGJsdXJWYWx1ZSgpIHtcbiAgICAgICAgVEhJUy5pbXBvcnRDb2xvcigpO1xuICAgICAgfVxuXG4gICAgICAvLyBGaW5kIHRoZSB0YXJnZXQgZWxlbWVudFxuICAgICAgaWYgKHR5cGVvZiB0YXJnZXRFbGVtZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGNvbnN0IGlkID0gdGFyZ2V0RWxlbWVudDtcbiAgICAgICAgY29uc3QgZWxtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgICAgICBpZiAoZWxtKSB7XG4gICAgICAgICAgdGhpcy50YXJnZXRFbGVtZW50ID0gZWxtO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGpzYy53YXJuKGBDb3VsZCBub3QgZmluZCB0YXJnZXQgZWxlbWVudCB3aXRoIElEICcke2lkfSdgKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0YXJnZXRFbGVtZW50KSB7XG4gICAgICAgIHRoaXMudGFyZ2V0RWxlbWVudCA9IHRhcmdldEVsZW1lbnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBqc2Mud2FybihgSW52YWxpZCB0YXJnZXQgZWxlbWVudDogJyR7dGFyZ2V0RWxlbWVudH0nYCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnRhcmdldEVsZW1lbnQuanNjTGlua2VkSW5zdGFuY2UpIHtcbiAgICAgICAganNjLndhcm4oXCJDYW5ub3QgbGluayBqc2NvbG9yIHR3aWNlIHRvIHRoZSBzYW1lIGVsZW1lbnQuIFNraXBwaW5nLlwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy50YXJnZXRFbGVtZW50LmpzY0xpbmtlZEluc3RhbmNlID0gdGhpcztcblxuICAgICAgLy8gRmluZCB0aGUgdmFsdWUgZWxlbWVudFxuICAgICAgdGhpcy52YWx1ZUVsZW1lbnQgPSBqc2MuZmV0Y2hFbGVtZW50KHRoaXMudmFsdWVFbGVtZW50KTtcbiAgICAgIC8vIEZpbmQgdGhlIHN0eWxlIGVsZW1lbnRcbiAgICAgIHRoaXMuc3R5bGVFbGVtZW50ID0ganNjLmZldGNoRWxlbWVudCh0aGlzLnN0eWxlRWxlbWVudCk7XG5cbiAgICAgIHZhciBUSElTID0gdGhpcztcbiAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lclxuICAgICAgICA/IGpzYy5mZXRjaEVsZW1lbnQodGhpcy5jb250YWluZXIpXG4gICAgICAgIDogZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdO1xuICAgICAgdmFyIHNsaWRlclB0clNwYWNlID0gMzsgLy8gcHhcblxuICAgICAgLy8gRm9yIEJVVFRPTiBlbGVtZW50cyBpdCdzIGltcG9ydGFudCB0byBzdG9wIHRoZW0gZnJvbSBzZW5kaW5nIHRoZSBmb3JtIHdoZW4gY2xpY2tlZFxuICAgICAgLy8gKGUuZy4gaW4gU2FmYXJpKVxuICAgICAgaWYgKGpzYy5pc0VsZW1lbnRUeXBlKHRoaXMudGFyZ2V0RWxlbWVudCwgXCJidXR0b25cIikpIHtcbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0RWxlbWVudC5vbmNsaWNrKSB7XG4gICAgICAgICAgY29uc3Qgb3JpZ0NhbGxiYWNrID0gdGhpcy50YXJnZXRFbGVtZW50Lm9uY2xpY2s7XG4gICAgICAgICAgdGhpcy50YXJnZXRFbGVtZW50Lm9uY2xpY2sgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICAgIG9yaWdDYWxsYmFjay5jYWxsKHRoaXMsIGV2dCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnRhcmdldEVsZW1lbnQub25jbGljayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLypcblx0XHR2YXIgZWxtID0gdGhpcy50YXJnZXRFbGVtZW50O1xuXHRcdGRvIHtcblx0XHRcdC8vIElmIHRoZSB0YXJnZXQgZWxlbWVudCBvciBvbmUgb2YgaXRzIG9mZnNldFBhcmVudHMgaGFzIGZpeGVkIHBvc2l0aW9uLFxuXHRcdFx0Ly8gdGhlbiB1c2UgZml4ZWQgcG9zaXRpb25pbmcgaW5zdGVhZFxuXHRcdFx0Ly9cblx0XHRcdC8vIE5vdGU6IEluIEZpcmVmb3gsIGdldENvbXB1dGVkU3R5bGUgcmV0dXJucyBudWxsIGluIGEgaGlkZGVuIGlmcmFtZSxcblx0XHRcdC8vIHRoYXQncyB3aHkgd2UgbmVlZCB0byBjaGVjayBpZiB0aGUgcmV0dXJuZWQgc3R5bGUgb2JqZWN0IGlzIG5vbi1lbXB0eVxuXHRcdFx0dmFyIGN1cnJTdHlsZSA9IGpzYy5nZXRTdHlsZShlbG0pO1xuXHRcdFx0aWYgKGN1cnJTdHlsZSAmJiBjdXJyU3R5bGUucG9zaXRpb24udG9Mb3dlckNhc2UoKSA9PT0gJ2ZpeGVkJykge1xuXHRcdFx0XHR0aGlzLmZpeGVkID0gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGVsbSAhPT0gdGhpcy50YXJnZXRFbGVtZW50KSB7XG5cdFx0XHRcdC8vIGF0dGFjaCBvblBhcmVudFNjcm9sbCBzbyB0aGF0IHdlIGNhbiByZWNvbXB1dGUgdGhlIHBpY2tlciBwb3NpdGlvblxuXHRcdFx0XHQvLyB3aGVuIG9uZSBvZiB0aGUgb2Zmc2V0UGFyZW50cyBpcyBzY3JvbGxlZFxuXHRcdFx0XHRpZiAoIWVsbS5fanNjRXZlbnRzQXR0YWNoZWQpIHtcblx0XHRcdFx0XHRqc2MuYXR0YWNoRXZlbnQoZWxtLCAnc2Nyb2xsJywganNjLm9uUGFyZW50U2Nyb2xsKTtcblx0XHRcdFx0XHRlbG0uX2pzY0V2ZW50c0F0dGFjaGVkID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gd2hpbGUgKChlbG0gPSBlbG0ub2Zmc2V0UGFyZW50KSAmJiAhanNjLmlzRWxlbWVudFR5cGUoZWxtLCAnYm9keScpKTtcblx0XHQqL1xuXG4gICAgICAvLyB2YWx1ZUVsZW1lbnRcbiAgICAgIGlmICh0aGlzLnZhbHVlRWxlbWVudCkge1xuICAgICAgICBpZiAoanNjLmlzRWxlbWVudFR5cGUodGhpcy52YWx1ZUVsZW1lbnQsIFwiaW5wdXRcIikpIHtcbiAgICAgICAgICBjb25zdCB1cGRhdGVGaWVsZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgVEhJUy5mcm9tU3RyaW5nKFRISVMudmFsdWVFbGVtZW50LnZhbHVlLCBqc2MubGVhdmVWYWx1ZSk7XG4gICAgICAgICAgICBqc2MuZGlzcGF0Y2hGaW5lQ2hhbmdlKFRISVMpO1xuICAgICAgICAgIH07XG4gICAgICAgICAganNjLmF0dGFjaEV2ZW50KHRoaXMudmFsdWVFbGVtZW50LCBcImtleXVwXCIsIHVwZGF0ZUZpZWxkKTtcbiAgICAgICAgICBqc2MuYXR0YWNoRXZlbnQodGhpcy52YWx1ZUVsZW1lbnQsIFwiaW5wdXRcIiwgdXBkYXRlRmllbGQpO1xuICAgICAgICAgIGpzYy5hdHRhY2hFdmVudCh0aGlzLnZhbHVlRWxlbWVudCwgXCJibHVyXCIsIGJsdXJWYWx1ZSk7XG4gICAgICAgICAgdGhpcy52YWx1ZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXV0b2NvbXBsZXRlXCIsIFwib2ZmXCIpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIHN0eWxlRWxlbWVudFxuICAgICAgaWYgKHRoaXMuc3R5bGVFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuc3R5bGVFbGVtZW50Ll9qc2NPcmlnU3R5bGUgPSB7XG4gICAgICAgICAgYmFja2dyb3VuZEltYWdlOiB0aGlzLnN0eWxlRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UsXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGlzLnN0eWxlRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgY29sb3I6IHRoaXMuc3R5bGVFbGVtZW50LnN0eWxlLmNvbG9yXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnZhbHVlKSB7XG4gICAgICAgIC8vIFRyeSB0byBzZXQgdGhlIGNvbG9yIGZyb20gdGhlIC52YWx1ZSBvcHRpb24gYW5kIGlmIHVuc3VjY2Vzc2Z1bCxcbiAgICAgICAgLy8gZXhwb3J0IHRoZSBjdXJyZW50IGNvbG9yXG4gICAgICAgIHRoaXMuZnJvbVN0cmluZyh0aGlzLnZhbHVlKSB8fCB0aGlzLmV4cG9ydENvbG9yKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmltcG9ydENvbG9yKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vPSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFB1YmxpYyBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzXG4gIC8vPSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLy8gQnkgZGVmYXVsdCwgc2VhcmNoIGZvciBhbGwgZWxlbWVudHMgd2l0aCBjbGFzcz1cImpzY29sb3JcIiBhbmQgaW5zdGFsbCBhIGNvbG9yIHBpY2tlciBvbiB0aGVtLlxuICAvL1xuICAvLyBZb3UgY2FuIGNoYW5nZSB3aGF0IGNsYXNzIG5hbWUgd2lsbCBiZSBsb29rZWQgZm9yIGJ5IHNldHRpbmcgdGhlIHByb3BlcnR5IGpzY29sb3IubG9va3VwQ2xhc3NcbiAgLy8gYW55d2hlcmUgaW4geW91ciBIVE1MIGRvY3VtZW50LiBUbyBjb21wbGV0ZWx5IGRpc2FibGUgdGhlIGF1dG9tYXRpYyBsb29rdXAsIHNldCBpdCB0byBudWxsLlxuICAvL1xuICBqc2MuanNjb2xvci5sb29rdXBDbGFzcyA9IFwianNjb2xvclByZXZcIjtcblxuICBqc2MuanNjb2xvci5pbnN0YWxsQnlDbGFzc05hbWUgPSBmdW5jdGlvbihjbGFzc05hbWUpIHtcbiAgICBjb25zdCBpbnB1dEVsbXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImlucHV0XCIpO1xuICAgIGNvbnN0IGJ1dHRvbkVsbXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJ1dHRvblwiKTtcblxuICAgIGpzYy50cnlJbnN0YWxsT25FbGVtZW50cyhpbnB1dEVsbXMsIGNsYXNzTmFtZSk7XG4gICAganNjLnRyeUluc3RhbGxPbkVsZW1lbnRzKGJ1dHRvbkVsbXMsIGNsYXNzTmFtZSk7XG4gIH07XG5cbiAganNjLnJlZ2lzdGVyKCk7XG5cbiAgcmV0dXJuIGpzYy5qc2NvbG9yO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjaG9vc2VDb2xvcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7O0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQXZCQTtBQXdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQU5BO0FBWUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVEE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXBCQTtBQXNCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFZQTtBQUVBO0FBQ0E7QUFDQTtBQWdCQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFVQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVpBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXhCQTtBQUNBO0FBMEJBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFYQTtBQWFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFVQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBVUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF1QkE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVkE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVkE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBYkE7QUFlQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXhCQTtBQUNBO0FBMEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQVFBO0FBQ0E7QUFHQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQU1BO0FBN0JBO0FBK0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFRQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBd0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBcDNEQTtBQUNBO0FBczNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/tools/ToolsFuncs/chooseColorPrevious.js\n");

/***/ }),

/***/ "./src/components/tools/ToolsFuncs/eraserToolFunc.js":
/*!***********************************************************!*\
  !*** ./src/components/tools/ToolsFuncs/eraserToolFunc.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction eraserToolFunc(state, setState, that) {\n  function eraserTool(e) {\n    var canvas = this;\n    var pixelSize = Math.ceil(canvas.scrollWidth / that.state.canvasSettings.rows);\n    var penWidth = state.penWidth;\n\n    var curColor = \"transparent\";\n    var ctx = this.getContext(\"2d\");\n\n    function msMove(e) {\n      var x = Math.floor(e.offsetX / (canvas.scrollWidth / state.canvasSettings.rows));\n      var y = Math.floor(e.offsetY / (canvas.scrollWidth / state.canvasSettings.columns));\n      switch (penWidth) {\n        case 1:\n          state.frames[state.currFrame].matrix[x][y] = curColor;\n          break;\n        case 2:\n          state.frames[state.currFrame].matrix[x][y] = curColor;\n          state.frames[state.currFrame].matrix[x][y - 1] = curColor;\n          state.frames[state.currFrame].matrix[x - 1][y] = curColor;\n          state.frames[state.currFrame].matrix[x - 1][y - 1] = curColor;\n          break;\n        case 3:\n          state.frames[state.currFrame].matrix[x][y] = curColor;\n          state.frames[state.currFrame].matrix[x][y + 1] = curColor;\n          state.frames[state.currFrame].matrix[x][y - 1] = curColor;\n          state.frames[state.currFrame].matrix[x - 1][y] = curColor;\n          state.frames[state.currFrame].matrix[x - 1][y + 1] = curColor;\n          state.frames[state.currFrame].matrix[x - 1][y - 1] = curColor;\n          state.frames[state.currFrame].matrix[x + 1][y] = curColor;\n          state.frames[state.currFrame].matrix[x + 1][y + 1] = curColor;\n          state.frames[state.currFrame].matrix[x + 1][y - 1] = curColor;\n          break;\n        case 4:\n          state.frames[state.currFrame].matrix[x][y] = curColor;\n          state.frames[state.currFrame].matrix[x][y + 1] = curColor;\n          state.frames[state.currFrame].matrix[x][y - 1] = curColor;\n          state.frames[state.currFrame].matrix[x][y - 2] = curColor;\n          state.frames[state.currFrame].matrix[x + 1][y] = curColor;\n          state.frames[state.currFrame].matrix[x + 1][y + 1] = curColor;\n          state.frames[state.currFrame].matrix[x + 1][y - 1] = curColor;\n          state.frames[state.currFrame].matrix[x + 1][y - 2] = curColor;\n          state.frames[state.currFrame].matrix[x - 1][y] = curColor;\n          state.frames[state.currFrame].matrix[x - 1][y + 1] = curColor;\n          state.frames[state.currFrame].matrix[x - 1][y - 1] = curColor;\n          state.frames[state.currFrame].matrix[x - 1][y - 2] = curColor;\n          state.frames[state.currFrame].matrix[x - 2][y] = curColor;\n          state.frames[state.currFrame].matrix[x - 2][y + 1] = curColor;\n          state.frames[state.currFrame].matrix[x - 2][y - 1] = curColor;\n          state.frames[state.currFrame].matrix[x - 2][y - 2] = curColor;\n          break;\n        default:\n          break;\n      }\n\n      ctx.clearRect(0, 0, canvas.scrollWidth, canvas.scrollHeight);\n\n      for (var i = 0; i < state.frames[state.currFrame].matrix.length; i += 1) {\n        for (var q = 0; q < state.frames[state.currFrame].matrix[i].length; q += 1) {\n          ctx.fillStyle = state.frames[state.currFrame].matrix[i][q];\n          ctx.fillRect(i * pixelSize, q * pixelSize, pixelSize, pixelSize);\n        }\n      }\n    }\n\n    function msUp() {\n      canvas.removeEventListener(\"mousemove\", msMove);\n      window.removeEventListener(\"mouseup\", msUp);\n      that.setState(state);\n    }\n\n    msMove(e);\n\n    canvas.addEventListener(\"mousemove\", msMove);\n    window.addEventListener(\"mouseup\", msUp);\n  }\n  return function () {\n    state.canvasEventFunc = eraserTool;\n    that.setState(state);\n  };\n}\nexports.default = eraserToolFunc;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90b29scy9Ub29sc0Z1bmNzL2VyYXNlclRvb2xGdW5jLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL3Rvb2xzL1Rvb2xzRnVuY3MvZXJhc2VyVG9vbEZ1bmMuanM/OGYzYiJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBlcmFzZXJUb29sRnVuYyhzdGF0ZSwgc2V0U3RhdGUsIHRoYXQpIHtcbiAgZnVuY3Rpb24gZXJhc2VyVG9vbChlKSB7XG4gICAgY29uc3QgY2FudmFzID0gdGhpcztcbiAgICBjb25zdCBwaXhlbFNpemUgPSBNYXRoLmNlaWwoXG4gICAgICBjYW52YXMuc2Nyb2xsV2lkdGggLyB0aGF0LnN0YXRlLmNhbnZhc1NldHRpbmdzLnJvd3NcbiAgICApO1xuICAgIGNvbnN0IHsgcGVuV2lkdGggfSA9IHN0YXRlO1xuICAgIGNvbnN0IGN1ckNvbG9yID0gXCJ0cmFuc3BhcmVudFwiO1xuICAgIGNvbnN0IGN0eCA9IHRoaXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gICAgZnVuY3Rpb24gbXNNb3ZlKGUpIHtcbiAgICAgIGNvbnN0IHggPSBNYXRoLmZsb29yKFxuICAgICAgICBlLm9mZnNldFggLyAoY2FudmFzLnNjcm9sbFdpZHRoIC8gc3RhdGUuY2FudmFzU2V0dGluZ3Mucm93cylcbiAgICAgICk7XG4gICAgICBjb25zdCB5ID0gTWF0aC5mbG9vcihcbiAgICAgICAgZS5vZmZzZXRZIC8gKGNhbnZhcy5zY3JvbGxXaWR0aCAvIHN0YXRlLmNhbnZhc1NldHRpbmdzLmNvbHVtbnMpXG4gICAgICApO1xuICAgICAgc3dpdGNoIChwZW5XaWR0aCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgc3RhdGUuZnJhbWVzW3N0YXRlLmN1cnJGcmFtZV0ubWF0cml4W3hdW3ldID0gY3VyQ29sb3I7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBzdGF0ZS5mcmFtZXNbc3RhdGUuY3VyckZyYW1lXS5tYXRyaXhbeF1beV0gPSBjdXJDb2xvcjtcbiAgICAgICAgICBzdGF0ZS5mcmFtZXNbc3RhdGUuY3VyckZyYW1lXS5tYXRyaXhbeF1beSAtIDFdID0gY3VyQ29sb3I7XG4gICAgICAgICAgc3RhdGUuZnJhbWVzW3N0YXRlLmN1cnJGcmFtZV0ubWF0cml4W3ggLSAxXVt5XSA9IGN1ckNvbG9yO1xuICAgICAgICAgIHN0YXRlLmZyYW1lc1tzdGF0ZS5jdXJyRnJhbWVdLm1hdHJpeFt4IC0gMV1beSAtIDFdID0gY3VyQ29sb3I7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBzdGF0ZS5mcmFtZXNbc3RhdGUuY3VyckZyYW1lXS5tYXRyaXhbeF1beV0gPSBjdXJDb2xvcjtcbiAgICAgICAgICBzdGF0ZS5mcmFtZXNbc3RhdGUuY3VyckZyYW1lXS5tYXRyaXhbeF1beSArIDFdID0gY3VyQ29sb3I7XG4gICAgICAgICAgc3RhdGUuZnJhbWVzW3N0YXRlLmN1cnJGcmFtZV0ubWF0cml4W3hdW3kgLSAxXSA9IGN1ckNvbG9yO1xuICAgICAgICAgIHN0YXRlLmZyYW1lc1tzdGF0ZS5jdXJyRnJhbWVdLm1hdHJpeFt4IC0gMV1beV0gPSBjdXJDb2xvcjtcbiAgICAgICAgICBzdGF0ZS5mcmFtZXNbc3RhdGUuY3VyckZyYW1lXS5tYXRyaXhbeCAtIDFdW3kgKyAxXSA9IGN1ckNvbG9yO1xuICAgICAgICAgIHN0YXRlLmZyYW1lc1tzdGF0ZS5jdXJyRnJhbWVdLm1hdHJpeFt4IC0gMV1beSAtIDFdID0gY3VyQ29sb3I7XG4gICAgICAgICAgc3RhdGUuZnJhbWVzW3N0YXRlLmN1cnJGcmFtZV0ubWF0cml4W3ggKyAxXVt5XSA9IGN1ckNvbG9yO1xuICAgICAgICAgIHN0YXRlLmZyYW1lc1tzdGF0ZS5jdXJyRnJhbWVdLm1hdHJpeFt4ICsgMV1beSArIDFdID0gY3VyQ29sb3I7XG4gICAgICAgICAgc3RhdGUuZnJhbWVzW3N0YXRlLmN1cnJGcmFtZV0ubWF0cml4W3ggKyAxXVt5IC0gMV0gPSBjdXJDb2xvcjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHN0YXRlLmZyYW1lc1tzdGF0ZS5jdXJyRnJhbWVdLm1hdHJpeFt4XVt5XSA9IGN1ckNvbG9yO1xuICAgICAgICAgIHN0YXRlLmZyYW1lc1tzdGF0ZS5jdXJyRnJhbWVdLm1hdHJpeFt4XVt5ICsgMV0gPSBjdXJDb2xvcjtcbiAgICAgICAgICBzdGF0ZS5mcmFtZXNbc3RhdGUuY3VyckZyYW1lXS5tYXRyaXhbeF1beSAtIDFdID0gY3VyQ29sb3I7XG4gICAgICAgICAgc3RhdGUuZnJhbWVzW3N0YXRlLmN1cnJGcmFtZV0ubWF0cml4W3hdW3kgLSAyXSA9IGN1ckNvbG9yO1xuICAgICAgICAgIHN0YXRlLmZyYW1lc1tzdGF0ZS5jdXJyRnJhbWVdLm1hdHJpeFt4ICsgMV1beV0gPSBjdXJDb2xvcjtcbiAgICAgICAgICBzdGF0ZS5mcmFtZXNbc3RhdGUuY3VyckZyYW1lXS5tYXRyaXhbeCArIDFdW3kgKyAxXSA9IGN1ckNvbG9yO1xuICAgICAgICAgIHN0YXRlLmZyYW1lc1tzdGF0ZS5jdXJyRnJhbWVdLm1hdHJpeFt4ICsgMV1beSAtIDFdID0gY3VyQ29sb3I7XG4gICAgICAgICAgc3RhdGUuZnJhbWVzW3N0YXRlLmN1cnJGcmFtZV0ubWF0cml4W3ggKyAxXVt5IC0gMl0gPSBjdXJDb2xvcjtcbiAgICAgICAgICBzdGF0ZS5mcmFtZXNbc3RhdGUuY3VyckZyYW1lXS5tYXRyaXhbeCAtIDFdW3ldID0gY3VyQ29sb3I7XG4gICAgICAgICAgc3RhdGUuZnJhbWVzW3N0YXRlLmN1cnJGcmFtZV0ubWF0cml4W3ggLSAxXVt5ICsgMV0gPSBjdXJDb2xvcjtcbiAgICAgICAgICBzdGF0ZS5mcmFtZXNbc3RhdGUuY3VyckZyYW1lXS5tYXRyaXhbeCAtIDFdW3kgLSAxXSA9IGN1ckNvbG9yO1xuICAgICAgICAgIHN0YXRlLmZyYW1lc1tzdGF0ZS5jdXJyRnJhbWVdLm1hdHJpeFt4IC0gMV1beSAtIDJdID0gY3VyQ29sb3I7XG4gICAgICAgICAgc3RhdGUuZnJhbWVzW3N0YXRlLmN1cnJGcmFtZV0ubWF0cml4W3ggLSAyXVt5XSA9IGN1ckNvbG9yO1xuICAgICAgICAgIHN0YXRlLmZyYW1lc1tzdGF0ZS5jdXJyRnJhbWVdLm1hdHJpeFt4IC0gMl1beSArIDFdID0gY3VyQ29sb3I7XG4gICAgICAgICAgc3RhdGUuZnJhbWVzW3N0YXRlLmN1cnJGcmFtZV0ubWF0cml4W3ggLSAyXVt5IC0gMV0gPSBjdXJDb2xvcjtcbiAgICAgICAgICBzdGF0ZS5mcmFtZXNbc3RhdGUuY3VyckZyYW1lXS5tYXRyaXhbeCAtIDJdW3kgLSAyXSA9IGN1ckNvbG9yO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy5zY3JvbGxXaWR0aCwgY2FudmFzLnNjcm9sbEhlaWdodCk7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RhdGUuZnJhbWVzW3N0YXRlLmN1cnJGcmFtZV0ubWF0cml4Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGZvciAoXG4gICAgICAgICAgbGV0IHEgPSAwO1xuICAgICAgICAgIHEgPCBzdGF0ZS5mcmFtZXNbc3RhdGUuY3VyckZyYW1lXS5tYXRyaXhbaV0ubGVuZ3RoO1xuICAgICAgICAgIHEgKz0gMVxuICAgICAgICApIHtcbiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gc3RhdGUuZnJhbWVzW3N0YXRlLmN1cnJGcmFtZV0ubWF0cml4W2ldW3FdO1xuICAgICAgICAgIGN0eC5maWxsUmVjdChpICogcGl4ZWxTaXplLCBxICogcGl4ZWxTaXplLCBwaXhlbFNpemUsIHBpeGVsU2l6ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtc1VwKCkge1xuICAgICAgY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgbXNNb3ZlKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBtc1VwKTtcbiAgICAgIHRoYXQuc2V0U3RhdGUoc3RhdGUpO1xuICAgIH1cblxuICAgIG1zTW92ZShlKTtcblxuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIG1zTW92ZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIG1zVXApO1xuICB9XG4gIHJldHVybiAoKSA9PiB7XG4gICAgc3RhdGUuY2FudmFzRXZlbnRGdW5jID0gZXJhc2VyVG9vbDtcbiAgICB0aGF0LnNldFN0YXRlKHN0YXRlKTtcbiAgfTtcbn1cbmV4cG9ydCBkZWZhdWx0IGVyYXNlclRvb2xGdW5jO1xuIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF4Q0E7QUFDQTtBQTBDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/tools/ToolsFuncs/eraserToolFunc.js\n");

/***/ }),

/***/ "./src/components/tools/ToolsFuncs/penToolFunc.js":
/*!********************************************************!*\
  !*** ./src/components/tools/ToolsFuncs/penToolFunc.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction penToolFunc(state, setState, that) {\n  function penTool(e) {\n    var canvas = this;\n    var pixelSize = Math.ceil(canvas.scrollWidth / that.state.canvasSettings.rows);\n    var penWidth = state.penWidth;\n\n    var curColor = state.colors.current;\n    var ctx = this.getContext(\"2d\");\n\n    function msMove(e) {\n      var x = Math.floor(e.offsetX / (canvas.scrollWidth / state.canvasSettings.rows));\n      var y = Math.floor(e.offsetY / (canvas.scrollWidth / state.canvasSettings.columns));\n      if (x < 0 || x > state.canvasSettings.rows - 1 || y < 0 || y > state.canvasSettings.columns - 1) {\n        return;\n      }\n      switch (penWidth) {\n        case 1:\n          state.frames[state.currFrame].matrix[x][y] = curColor;\n          break;\n        case 2:\n          state.frames[state.currFrame].matrix[x][y] = curColor;\n          state.frames[state.currFrame].matrix[x][y - 1] = curColor;\n          state.frames[state.currFrame].matrix[x - 1][y] = curColor;\n          state.frames[state.currFrame].matrix[x - 1][y - 1] = curColor;\n          break;\n        case 3:\n          state.frames[state.currFrame].matrix[x][y] = curColor;\n          state.frames[state.currFrame].matrix[x][y + 1] = curColor;\n          state.frames[state.currFrame].matrix[x][y - 1] = curColor;\n          state.frames[state.currFrame].matrix[x - 1][y] = curColor;\n          state.frames[state.currFrame].matrix[x - 1][y + 1] = curColor;\n          state.frames[state.currFrame].matrix[x - 1][y - 1] = curColor;\n          state.frames[state.currFrame].matrix[x + 1][y] = curColor;\n          state.frames[state.currFrame].matrix[x + 1][y + 1] = curColor;\n          state.frames[state.currFrame].matrix[x + 1][y - 1] = curColor;\n          break;\n        case 4:\n          state.frames[state.currFrame].matrix[x][y] = curColor;\n          state.frames[state.currFrame].matrix[x][y + 1] = curColor;\n          state.frames[state.currFrame].matrix[x][y - 1] = curColor;\n          state.frames[state.currFrame].matrix[x][y - 2] = curColor;\n          state.frames[state.currFrame].matrix[x + 1][y] = curColor;\n          state.frames[state.currFrame].matrix[x + 1][y + 1] = curColor;\n          state.frames[state.currFrame].matrix[x + 1][y - 1] = curColor;\n          state.frames[state.currFrame].matrix[x + 1][y - 2] = curColor;\n          state.frames[state.currFrame].matrix[x - 1][y] = curColor;\n          state.frames[state.currFrame].matrix[x - 1][y + 1] = curColor;\n          state.frames[state.currFrame].matrix[x - 1][y - 1] = curColor;\n          state.frames[state.currFrame].matrix[x - 1][y - 2] = curColor;\n          state.frames[state.currFrame].matrix[x - 2][y] = curColor;\n          state.frames[state.currFrame].matrix[x - 2][y + 1] = curColor;\n          state.frames[state.currFrame].matrix[x - 2][y - 1] = curColor;\n          state.frames[state.currFrame].matrix[x - 2][y - 2] = curColor;\n          break;\n        default:\n          break;\n      }\n\n      ctx.clearRect(0, 0, canvas.scrollWidth, canvas.scrollHeight);\n\n      for (var i = 0; i < state.frames[state.currFrame].matrix.length; i += 1) {\n        for (var q = 0; q < state.frames[state.currFrame].matrix[i].length; q += 1) {\n          ctx.fillStyle = state.frames[state.currFrame].matrix[i][q];\n          ctx.fillRect(i * pixelSize, q * pixelSize, pixelSize, pixelSize);\n        }\n      }\n    }\n\n    function msUp() {\n      canvas.removeEventListener(\"mousemove\", msMove);\n      window.removeEventListener(\"mouseup\", msUp);\n      that.setState(state);\n    }\n\n    msMove(e);\n    canvas.addEventListener(\"mousemove\", msMove);\n    window.addEventListener(\"mouseup\", msUp);\n  }\n  return function () {\n    state.canvasEventFunc = penTool;\n    that.setState(state);\n  };\n}\nexports.default = penToolFunc;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90b29scy9Ub29sc0Z1bmNzL3BlblRvb2xGdW5jLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL3Rvb2xzL1Rvb2xzRnVuY3MvcGVuVG9vbEZ1bmMuanM/ZTNhNCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBwZW5Ub29sRnVuYyhzdGF0ZSwgc2V0U3RhdGUsIHRoYXQpIHtcbiAgZnVuY3Rpb24gcGVuVG9vbChlKSB7XG4gICAgY29uc3QgY2FudmFzID0gdGhpcztcbiAgICBjb25zdCBwaXhlbFNpemUgPSBNYXRoLmNlaWwoXG4gICAgICBjYW52YXMuc2Nyb2xsV2lkdGggLyB0aGF0LnN0YXRlLmNhbnZhc1NldHRpbmdzLnJvd3NcbiAgICApO1xuICAgIGNvbnN0IHsgcGVuV2lkdGggfSA9IHN0YXRlO1xuICAgIGNvbnN0IGN1ckNvbG9yID0gc3RhdGUuY29sb3JzLmN1cnJlbnQ7XG4gICAgY29uc3QgY3R4ID0gdGhpcy5nZXRDb250ZXh0KFwiMmRcIik7XG5cbiAgICBmdW5jdGlvbiBtc01vdmUoZSkge1xuICAgICAgY29uc3QgeCA9IE1hdGguZmxvb3IoXG4gICAgICAgIGUub2Zmc2V0WCAvIChjYW52YXMuc2Nyb2xsV2lkdGggLyBzdGF0ZS5jYW52YXNTZXR0aW5ncy5yb3dzKVxuICAgICAgKTtcbiAgICAgIGNvbnN0IHkgPSBNYXRoLmZsb29yKFxuICAgICAgICBlLm9mZnNldFkgLyAoY2FudmFzLnNjcm9sbFdpZHRoIC8gc3RhdGUuY2FudmFzU2V0dGluZ3MuY29sdW1ucylcbiAgICAgICk7XG4gICAgICBpZiAoXG4gICAgICAgIHggPCAwIHx8XG4gICAgICAgIHggPiBzdGF0ZS5jYW52YXNTZXR0aW5ncy5yb3dzIC0gMSB8fFxuICAgICAgICB5IDwgMCB8fFxuICAgICAgICB5ID4gc3RhdGUuY2FudmFzU2V0dGluZ3MuY29sdW1ucyAtIDFcbiAgICAgICkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKHBlbldpZHRoKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBzdGF0ZS5mcmFtZXNbc3RhdGUuY3VyckZyYW1lXS5tYXRyaXhbeF1beV0gPSBjdXJDb2xvcjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHN0YXRlLmZyYW1lc1tzdGF0ZS5jdXJyRnJhbWVdLm1hdHJpeFt4XVt5XSA9IGN1ckNvbG9yO1xuICAgICAgICAgIHN0YXRlLmZyYW1lc1tzdGF0ZS5jdXJyRnJhbWVdLm1hdHJpeFt4XVt5IC0gMV0gPSBjdXJDb2xvcjtcbiAgICAgICAgICBzdGF0ZS5mcmFtZXNbc3RhdGUuY3VyckZyYW1lXS5tYXRyaXhbeCAtIDFdW3ldID0gY3VyQ29sb3I7XG4gICAgICAgICAgc3RhdGUuZnJhbWVzW3N0YXRlLmN1cnJGcmFtZV0ubWF0cml4W3ggLSAxXVt5IC0gMV0gPSBjdXJDb2xvcjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHN0YXRlLmZyYW1lc1tzdGF0ZS5jdXJyRnJhbWVdLm1hdHJpeFt4XVt5XSA9IGN1ckNvbG9yO1xuICAgICAgICAgIHN0YXRlLmZyYW1lc1tzdGF0ZS5jdXJyRnJhbWVdLm1hdHJpeFt4XVt5ICsgMV0gPSBjdXJDb2xvcjtcbiAgICAgICAgICBzdGF0ZS5mcmFtZXNbc3RhdGUuY3VyckZyYW1lXS5tYXRyaXhbeF1beSAtIDFdID0gY3VyQ29sb3I7XG4gICAgICAgICAgc3RhdGUuZnJhbWVzW3N0YXRlLmN1cnJGcmFtZV0ubWF0cml4W3ggLSAxXVt5XSA9IGN1ckNvbG9yO1xuICAgICAgICAgIHN0YXRlLmZyYW1lc1tzdGF0ZS5jdXJyRnJhbWVdLm1hdHJpeFt4IC0gMV1beSArIDFdID0gY3VyQ29sb3I7XG4gICAgICAgICAgc3RhdGUuZnJhbWVzW3N0YXRlLmN1cnJGcmFtZV0ubWF0cml4W3ggLSAxXVt5IC0gMV0gPSBjdXJDb2xvcjtcbiAgICAgICAgICBzdGF0ZS5mcmFtZXNbc3RhdGUuY3VyckZyYW1lXS5tYXRyaXhbeCArIDFdW3ldID0gY3VyQ29sb3I7XG4gICAgICAgICAgc3RhdGUuZnJhbWVzW3N0YXRlLmN1cnJGcmFtZV0ubWF0cml4W3ggKyAxXVt5ICsgMV0gPSBjdXJDb2xvcjtcbiAgICAgICAgICBzdGF0ZS5mcmFtZXNbc3RhdGUuY3VyckZyYW1lXS5tYXRyaXhbeCArIDFdW3kgLSAxXSA9IGN1ckNvbG9yO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgc3RhdGUuZnJhbWVzW3N0YXRlLmN1cnJGcmFtZV0ubWF0cml4W3hdW3ldID0gY3VyQ29sb3I7XG4gICAgICAgICAgc3RhdGUuZnJhbWVzW3N0YXRlLmN1cnJGcmFtZV0ubWF0cml4W3hdW3kgKyAxXSA9IGN1ckNvbG9yO1xuICAgICAgICAgIHN0YXRlLmZyYW1lc1tzdGF0ZS5jdXJyRnJhbWVdLm1hdHJpeFt4XVt5IC0gMV0gPSBjdXJDb2xvcjtcbiAgICAgICAgICBzdGF0ZS5mcmFtZXNbc3RhdGUuY3VyckZyYW1lXS5tYXRyaXhbeF1beSAtIDJdID0gY3VyQ29sb3I7XG4gICAgICAgICAgc3RhdGUuZnJhbWVzW3N0YXRlLmN1cnJGcmFtZV0ubWF0cml4W3ggKyAxXVt5XSA9IGN1ckNvbG9yO1xuICAgICAgICAgIHN0YXRlLmZyYW1lc1tzdGF0ZS5jdXJyRnJhbWVdLm1hdHJpeFt4ICsgMV1beSArIDFdID0gY3VyQ29sb3I7XG4gICAgICAgICAgc3RhdGUuZnJhbWVzW3N0YXRlLmN1cnJGcmFtZV0ubWF0cml4W3ggKyAxXVt5IC0gMV0gPSBjdXJDb2xvcjtcbiAgICAgICAgICBzdGF0ZS5mcmFtZXNbc3RhdGUuY3VyckZyYW1lXS5tYXRyaXhbeCArIDFdW3kgLSAyXSA9IGN1ckNvbG9yO1xuICAgICAgICAgIHN0YXRlLmZyYW1lc1tzdGF0ZS5jdXJyRnJhbWVdLm1hdHJpeFt4IC0gMV1beV0gPSBjdXJDb2xvcjtcbiAgICAgICAgICBzdGF0ZS5mcmFtZXNbc3RhdGUuY3VyckZyYW1lXS5tYXRyaXhbeCAtIDFdW3kgKyAxXSA9IGN1ckNvbG9yO1xuICAgICAgICAgIHN0YXRlLmZyYW1lc1tzdGF0ZS5jdXJyRnJhbWVdLm1hdHJpeFt4IC0gMV1beSAtIDFdID0gY3VyQ29sb3I7XG4gICAgICAgICAgc3RhdGUuZnJhbWVzW3N0YXRlLmN1cnJGcmFtZV0ubWF0cml4W3ggLSAxXVt5IC0gMl0gPSBjdXJDb2xvcjtcbiAgICAgICAgICBzdGF0ZS5mcmFtZXNbc3RhdGUuY3VyckZyYW1lXS5tYXRyaXhbeCAtIDJdW3ldID0gY3VyQ29sb3I7XG4gICAgICAgICAgc3RhdGUuZnJhbWVzW3N0YXRlLmN1cnJGcmFtZV0ubWF0cml4W3ggLSAyXVt5ICsgMV0gPSBjdXJDb2xvcjtcbiAgICAgICAgICBzdGF0ZS5mcmFtZXNbc3RhdGUuY3VyckZyYW1lXS5tYXRyaXhbeCAtIDJdW3kgLSAxXSA9IGN1ckNvbG9yO1xuICAgICAgICAgIHN0YXRlLmZyYW1lc1tzdGF0ZS5jdXJyRnJhbWVdLm1hdHJpeFt4IC0gMl1beSAtIDJdID0gY3VyQ29sb3I7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLnNjcm9sbFdpZHRoLCBjYW52YXMuc2Nyb2xsSGVpZ2h0KTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGF0ZS5mcmFtZXNbc3RhdGUuY3VyckZyYW1lXS5tYXRyaXgubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgZm9yIChcbiAgICAgICAgICBsZXQgcSA9IDA7XG4gICAgICAgICAgcSA8IHN0YXRlLmZyYW1lc1tzdGF0ZS5jdXJyRnJhbWVdLm1hdHJpeFtpXS5sZW5ndGg7XG4gICAgICAgICAgcSArPSAxXG4gICAgICAgICkge1xuICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBzdGF0ZS5mcmFtZXNbc3RhdGUuY3VyckZyYW1lXS5tYXRyaXhbaV1bcV07XG4gICAgICAgICAgY3R4LmZpbGxSZWN0KGkgKiBwaXhlbFNpemUsIHEgKiBwaXhlbFNpemUsIHBpeGVsU2l6ZSwgcGl4ZWxTaXplKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1zVXAoKSB7XG4gICAgICBjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBtc01vdmUpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIG1zVXApO1xuICAgICAgdGhhdC5zZXRTdGF0ZShzdGF0ZSk7XG4gICAgfVxuXG4gICAgbXNNb3ZlKGUpO1xuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIG1zTW92ZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIG1zVXApO1xuXG4gICAgXG4gIH1cbiAgcmV0dXJuICgpPT4ge1xuICAgIHN0YXRlLmNhbnZhc0V2ZW50RnVuYyA9IHBlblRvb2w7XG4gICAgdGhhdC5zZXRTdGF0ZShzdGF0ZSk7XG4gIH07XG59XG5leHBvcnQgZGVmYXVsdCBwZW5Ub29sRnVuYztcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBeENBO0FBQ0E7QUEwQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/tools/ToolsFuncs/penToolFunc.js\n");

/***/ }),

/***/ "./src/components/tools/ToolsFuncs/sizeDivFunc.js":
/*!********************************************************!*\
  !*** ./src/components/tools/ToolsFuncs/sizeDivFunc.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nfunction sizeDivFunc(state, setState, that) {\n    return function (e) {\n        state.penWidth = +e.target.getAttribute(\"data-pen-width\");\n        that.setState(state);\n    };\n}\nexports.default = sizeDivFunc;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90b29scy9Ub29sc0Z1bmNzL3NpemVEaXZGdW5jLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL3Rvb2xzL1Rvb2xzRnVuY3Mvc2l6ZURpdkZ1bmMuanM/NGIwYSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBzaXplRGl2RnVuYyhzdGF0ZSwgc2V0U3RhdGUsIHRoYXQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZSkge1xuICAgICAgICBzdGF0ZS5wZW5XaWR0aCA9ICtlLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBlbi13aWR0aFwiKTtcbiAgICAgICAgdGhhdC5zZXRTdGF0ZShzdGF0ZSk7XG4gICAgfTtcbn1cbmV4cG9ydCBkZWZhdWx0IHNpemVEaXZGdW5jO1xuIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/tools/ToolsFuncs/sizeDivFunc.js\n");

/***/ }),

/***/ "./src/components/tools/ToolsFuncs/switchColorsFunc.js":
/*!*************************************************************!*\
  !*** ./src/components/tools/ToolsFuncs/switchColorsFunc.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nfunction switchColorFunc(state, setState, that) {\n    return function () {\n        var cur = state.colors.current;\n        state.colors.current = state.colors.previous;\n        state.colors.previous = cur;\n        that.setState(state);\n    };\n}\nexports.default = switchColorFunc;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90b29scy9Ub29sc0Z1bmNzL3N3aXRjaENvbG9yc0Z1bmMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvdG9vbHMvVG9vbHNGdW5jcy9zd2l0Y2hDb2xvcnNGdW5jLmpzPzAxMWEiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gc3dpdGNoQ29sb3JGdW5jKHN0YXRlLCBzZXRTdGF0ZSwgdGhhdCkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc3QgY3VyID0gc3RhdGUuY29sb3JzLmN1cnJlbnQ7XG4gICAgICAgIHN0YXRlLmNvbG9ycy5jdXJyZW50ID0gc3RhdGUuY29sb3JzLnByZXZpb3VzO1xuICAgICAgICBzdGF0ZS5jb2xvcnMucHJldmlvdXMgPSBjdXI7XG4gICAgICAgIHRoYXQuc2V0U3RhdGUoc3RhdGUpO1xuICAgIH07XG59XG5leHBvcnQgZGVmYXVsdCBzd2l0Y2hDb2xvckZ1bmM7XG4iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/tools/ToolsFuncs/switchColorsFunc.js\n");

/***/ }),

/***/ "./src/components/tools/index.js":
/*!***************************************!*\
  !*** ./src/components/tools/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _index = __webpack_require__(/*! ./index.scss */ \"./src/components/tools/index.scss\");\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _chooseColorCurrent = __webpack_require__(/*! ./ToolsFuncs/chooseColorCurrent */ \"./src/components/tools/ToolsFuncs/chooseColorCurrent.js\");\n\nvar _chooseColorCurrent2 = _interopRequireDefault(_chooseColorCurrent);\n\nvar _chooseColorPrevious = __webpack_require__(/*! ./ToolsFuncs/chooseColorPrevious */ \"./src/components/tools/ToolsFuncs/chooseColorPrevious.js\");\n\nvar _chooseColorPrevious2 = _interopRequireDefault(_chooseColorPrevious);\n\nvar _changeCurrColor = __webpack_require__(/*! ./ToolsFuncs/changeCurrColor */ \"./src/components/tools/ToolsFuncs/changeCurrColor.js\");\n\nvar _changeCurrColor2 = _interopRequireDefault(_changeCurrColor);\n\nvar _changePrevColor = __webpack_require__(/*! ./ToolsFuncs/changePrevColor */ \"./src/components/tools/ToolsFuncs/changePrevColor.js\");\n\nvar _changePrevColor2 = _interopRequireDefault(_changePrevColor);\n\nvar _switchColorsFunc = __webpack_require__(/*! ./ToolsFuncs/switchColorsFunc */ \"./src/components/tools/ToolsFuncs/switchColorsFunc.js\");\n\nvar _switchColorsFunc2 = _interopRequireDefault(_switchColorsFunc);\n\nvar _sizeDivFunc = __webpack_require__(/*! ./ToolsFuncs/sizeDivFunc */ \"./src/components/tools/ToolsFuncs/sizeDivFunc.js\");\n\nvar _sizeDivFunc2 = _interopRequireDefault(_sizeDivFunc);\n\nvar _penToolFunc = __webpack_require__(/*! ./ToolsFuncs/penToolFunc */ \"./src/components/tools/ToolsFuncs/penToolFunc.js\");\n\nvar _penToolFunc2 = _interopRequireDefault(_penToolFunc);\n\nvar _bucketToolFunc = __webpack_require__(/*! ./ToolsFuncs/bucketToolFunc */ \"./src/components/tools/ToolsFuncs/bucketToolFunc.js\");\n\nvar _bucketToolFunc2 = _interopRequireDefault(_bucketToolFunc);\n\nvar _eraserToolFunc = __webpack_require__(/*! ./ToolsFuncs/eraserToolFunc */ \"./src/components/tools/ToolsFuncs/eraserToolFunc.js\");\n\nvar _eraserToolFunc2 = _interopRequireDefault(_eraserToolFunc);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// import bucketSameColorToolFunc from \"./ToolsFuncs/bucketSameColorToolFunc\";\n// import strokeToolFunc from \"./ToolsFuncs/strokeToolFunc\";\n\nvar Tools = function () {\n  function Tools(state, setState, that) {\n    _classCallCheck(this, Tools);\n\n    this.state = state;\n    this.setState = setState;\n    this.that = that;\n    this.toolsFuncs = {\n      sizeDiv: (0, _sizeDivFunc2.default)(this.state, this.setState, this.that),\n      penTool: (0, _penToolFunc2.default)(this.state, this.setState, this.that),\n      bucketTool: (0, _bucketToolFunc2.default)(this.state, this.setState, this.that),\n      eraserTool: (0, _eraserToolFunc2.default)(this.state, this.setState, this.that)\n      // bucketSameColorTool :bucketSameColorToolFunc(this.state, this.setState, this.that),\n      // strokeToolFunc : strokeToolFunc(this.state, this.setState, this.that)\n    };\n  }\n\n  _createClass(Tools, [{\n    key: \"liGenerate\",\n    value: function liGenerate() {\n      var arr = [];\n      for (var i = 0; i < this.state.tools.length; i += 1) {\n        var li = document.createElement(\"li\");\n        if (this.state.canvasEventFunc.name === this.state.tools[i].slug) {\n          li.setAttribute(\"class\", \"ul_item_active\");\n        } else {\n          li.setAttribute(\"class\", \"ul_item\");\n        }\n        li.dataset.description = this.state.tools[i].name + \" (\" + (this.state.tools[i].shortCut.hint || \"none\") + \")\";\n        li.onclick = this.toolsFuncs[this.state.tools[i].slug] || null;\n        li.classList.toggle(\"\" + this.state.tools[i].slug);\n        //   li.onkeyup = (e) => {\n        //       if (e.code === this.state.tools[i].key )\n        //       {}\n        //   }  \n        arr.push(li);\n      }\n      return arr;\n    }\n  }, {\n    key: \"penWidthGenerate\",\n    value: function penWidthGenerate() {\n      var divForSize = document.createElement(\"div\");\n      divForSize.setAttribute(\"class\", \"pen_width\");\n      for (var i = 1; i < 5; i += 1) {\n        var sizeDiv = document.createElement(\"div\");\n        sizeDiv.dataset.penWidth = i;\n        if (this.state.penWidth === i) {\n          sizeDiv.setAttribute(\"class\", \"sizeDiv_active\");\n        } else {\n          sizeDiv.setAttribute(\"class\", \"sizeDiv\");\n        }\n        sizeDiv.onclick = this.toolsFuncs.sizeDiv;\n        divForSize.appendChild(sizeDiv);\n      }\n      return divForSize;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var mainDiv = document.createElement(\"div\");\n      mainDiv.setAttribute(\"class\", \"tools\");\n\n      mainDiv.appendChild(this.penWidthGenerate());\n\n      var ul = document.createElement(\"ul\");\n      this.liGenerate().forEach(function (li) {\n        return ul.appendChild(li);\n      });\n      mainDiv.appendChild(ul);\n\n      var divColor = document.createElement(\"div\");\n      divColor.setAttribute(\"class\", \"colorChoose\");\n\n      var divOne = document.createElement(\"div\");\n      divOne.setAttribute(\"class\", \"colorDiv\");\n      divOne.dataset.type = \"Primary - LMB\";\n      divOne.dataset.color = this.state.colors.current;\n      divOne.style.backgroundColor = this.state.colors.current;\n      var inputOne = document.createElement(\"input\");\n      inputOne.className = \"jscolor\";\n      (0, _chooseColorCurrent2.default)();\n      inputOne.onchange = (0, _changeCurrColor2.default)(this.state, this.setState, this.that);\n      divOne.appendChild(inputOne);\n      divColor.appendChild(divOne);\n\n      var divTwo = document.createElement(\"div\");\n      divTwo.setAttribute(\"class\", \"colorDiv\");\n      divTwo.dataset.type = \"Secondary - RMB\";\n      divTwo.dataset.color = this.state.colors.previous;\n      divTwo.style.backgroundColor = this.state.colors.previous;\n      var inputTwo = document.createElement(\"input\");\n      inputTwo.className = \"jscolorPrev\";\n      (0, _chooseColorPrevious2.default)();\n      inputTwo.onchange = (0, _changePrevColor2.default)(this.state, this.setState, this.that);\n      divTwo.appendChild(inputTwo);\n      divColor.appendChild(divTwo);\n\n      var divThree = document.createElement(\"div\");\n      divThree.innerHTML = \"<i class=\\\"fas fa-exchange-alt\\\"></i>\";\n      divThree.onclick = (0, _switchColorsFunc2.default)(this.state, this.setState, this.that);\n      divColor.appendChild(divThree);\n      mainDiv.appendChild(divColor);\n\n      var divKeycommands = document.createElement(\"div\");\n      divKeycommands.innerHTML = \"<i class=\\\"fas fa-keyboard\\\"></i>\";\n      divKeycommands.setAttribute(\"class\", \"keyCommands\");\n      mainDiv.appendChild(divKeycommands);\n\n      window.onkeyup = function (e) {\n\n        switch (e.keyCode) {\n\n          case 80:\n\n            break;\n\n          case 74:\n\n            break;\n\n          case 76:\n\n            break;\n\n          default:\n            break;\n        }\n      };\n\n      return mainDiv;\n    }\n  }]);\n\n  return Tools;\n}();\n\nexports.default = Tools;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90b29scy9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvY29tcG9uZW50cy90b29scy9pbmRleC5qcz85M2JmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzdHlsZSBmcm9tIFwiLi9pbmRleC5zY3NzXCI7XG5pbXBvcnQgQ2hvb3NlY29sb3JDdXJyZW50IGZyb20gXCIuL1Rvb2xzRnVuY3MvY2hvb3NlQ29sb3JDdXJyZW50XCI7XG5pbXBvcnQgQ2hvb3NlY29sb3JQcmV2aW91cyBmcm9tIFwiLi9Ub29sc0Z1bmNzL2Nob29zZUNvbG9yUHJldmlvdXNcIjtcbmltcG9ydCBjaGFuZ2VDdXJyQ29sb3IgZnJvbSBcIi4vVG9vbHNGdW5jcy9jaGFuZ2VDdXJyQ29sb3JcIjtcbmltcG9ydCBjaGFuZ2VQcmV2Q29sb3IgZnJvbSBcIi4vVG9vbHNGdW5jcy9jaGFuZ2VQcmV2Q29sb3JcIjtcbmltcG9ydCBzd2l0Y2hDb2xvcnNGdW5jIGZyb20gXCIuL1Rvb2xzRnVuY3Mvc3dpdGNoQ29sb3JzRnVuY1wiO1xuaW1wb3J0IHNpemVEaXZGdW5jIGZyb20gXCIuL1Rvb2xzRnVuY3Mvc2l6ZURpdkZ1bmNcIjtcbmltcG9ydCBwZW5Ub29sRnVuYyBmcm9tIFwiLi9Ub29sc0Z1bmNzL3BlblRvb2xGdW5jXCI7XG5pbXBvcnQgYnVja2V0VG9vbEZ1bmMgZnJvbSBcIi4vVG9vbHNGdW5jcy9idWNrZXRUb29sRnVuY1wiO1xuaW1wb3J0IGVyYXNlclRvb2xGdW5jIGZyb20gXCIuL1Rvb2xzRnVuY3MvZXJhc2VyVG9vbEZ1bmNcIjtcbi8vIGltcG9ydCBidWNrZXRTYW1lQ29sb3JUb29sRnVuYyBmcm9tIFwiLi9Ub29sc0Z1bmNzL2J1Y2tldFNhbWVDb2xvclRvb2xGdW5jXCI7XG4vLyBpbXBvcnQgc3Ryb2tlVG9vbEZ1bmMgZnJvbSBcIi4vVG9vbHNGdW5jcy9zdHJva2VUb29sRnVuY1wiO1xuXG5jbGFzcyBUb29scyB7XG4gIGNvbnN0cnVjdG9yKHN0YXRlLCBzZXRTdGF0ZSwgdGhhdCkge1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB0aGlzLnNldFN0YXRlID0gc2V0U3RhdGU7XG4gICAgdGhpcy50aGF0ID0gdGhhdDtcbiAgICB0aGlzLnRvb2xzRnVuY3MgPSB7XG4gICAgICBzaXplRGl2OiBzaXplRGl2RnVuYyh0aGlzLnN0YXRlLCB0aGlzLnNldFN0YXRlLCB0aGlzLnRoYXQpLFxuICAgICAgcGVuVG9vbDogcGVuVG9vbEZ1bmModGhpcy5zdGF0ZSwgdGhpcy5zZXRTdGF0ZSwgdGhpcy50aGF0KSxcbiAgICAgIGJ1Y2tldFRvb2w6IGJ1Y2tldFRvb2xGdW5jKHRoaXMuc3RhdGUsIHRoaXMuc2V0U3RhdGUsIHRoaXMudGhhdCksXG4gICAgICBlcmFzZXJUb29sOiBlcmFzZXJUb29sRnVuYyh0aGlzLnN0YXRlLCB0aGlzLnNldFN0YXRlLCB0aGlzLnRoYXQpLFxuICAgICAgLy8gYnVja2V0U2FtZUNvbG9yVG9vbCA6YnVja2V0U2FtZUNvbG9yVG9vbEZ1bmModGhpcy5zdGF0ZSwgdGhpcy5zZXRTdGF0ZSwgdGhpcy50aGF0KSxcbiAgICAgLy8gc3Ryb2tlVG9vbEZ1bmMgOiBzdHJva2VUb29sRnVuYyh0aGlzLnN0YXRlLCB0aGlzLnNldFN0YXRlLCB0aGlzLnRoYXQpXG4gICAgfTtcbiAgfVxuXG4gIGxpR2VuZXJhdGUoKSB7XG4gICAgY29uc3QgYXJyID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN0YXRlLnRvb2xzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmNhbnZhc0V2ZW50RnVuYy5uYW1lID09PSB0aGlzLnN0YXRlLnRvb2xzW2ldLnNsdWcpIHtcbiAgICAgICAgbGkuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJ1bF9pdGVtX2FjdGl2ZVwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxpLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwidWxfaXRlbVwiKTtcbiAgICAgIH1cbiAgICAgIGxpLmRhdGFzZXQuZGVzY3JpcHRpb24gPSBgJHt0aGlzLnN0YXRlLnRvb2xzW2ldLm5hbWV9ICgke3RoaXMuc3RhdGUudG9vbHNbXG4gICAgICAgIGlcbiAgICAgIF0uc2hvcnRDdXQuaGludCB8fCBcIm5vbmVcIn0pYDtcbiAgICAgIGxpLm9uY2xpY2sgPSB0aGlzLnRvb2xzRnVuY3NbdGhpcy5zdGF0ZS50b29sc1tpXS5zbHVnXSB8fCBudWxsOyBcbiAgICAgIGxpLmNsYXNzTGlzdC50b2dnbGUgKGAke3RoaXMuc3RhdGUudG9vbHNbaV0uc2x1Z31gKTtcbiAgICAvLyAgIGxpLm9ua2V5dXAgPSAoZSkgPT4ge1xuICAgIC8vICAgICAgIGlmIChlLmNvZGUgPT09IHRoaXMuc3RhdGUudG9vbHNbaV0ua2V5IClcbiAgICAvLyAgICAgICB7fVxuICAgIC8vICAgfSAgXG4gICAgICBhcnIucHVzaChsaSk7XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH1cblxuICBwZW5XaWR0aEdlbmVyYXRlKCkge1xuICAgIGNvbnN0IGRpdkZvclNpemUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRpdkZvclNpemUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJwZW5fd2lkdGhcIik7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCA1OyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IHNpemVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgc2l6ZURpdi5kYXRhc2V0LnBlbldpZHRoID0gaTtcbiAgICAgIGlmICh0aGlzLnN0YXRlLnBlbldpZHRoID09PSBpKSB7XG4gICAgICAgIHNpemVEaXYuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJzaXplRGl2X2FjdGl2ZVwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNpemVEaXYuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJzaXplRGl2XCIpO1xuICAgICAgfVxuICAgICAgc2l6ZURpdi5vbmNsaWNrID0gdGhpcy50b29sc0Z1bmNzLnNpemVEaXY7XG4gICAgICBkaXZGb3JTaXplLmFwcGVuZENoaWxkKHNpemVEaXYpO1xuICAgIH1cbiAgICByZXR1cm4gZGl2Rm9yU2l6ZTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBtYWluRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBtYWluRGl2LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwidG9vbHNcIik7XG5cbiAgICBtYWluRGl2LmFwcGVuZENoaWxkKHRoaXMucGVuV2lkdGhHZW5lcmF0ZSgpKTtcblxuICAgIGNvbnN0IHVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInVsXCIpO1xuICAgIHRoaXMubGlHZW5lcmF0ZSgpLmZvckVhY2gobGkgPT4gdWwuYXBwZW5kQ2hpbGQobGkpKTtcbiAgICBtYWluRGl2LmFwcGVuZENoaWxkKHVsKTtcblxuICAgIGNvbnN0IGRpdkNvbG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBkaXZDb2xvci5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNvbG9yQ2hvb3NlXCIpO1xuXG4gICAgY29uc3QgZGl2T25lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBkaXZPbmUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjb2xvckRpdlwiKTtcbiAgICBkaXZPbmUuZGF0YXNldC50eXBlID0gXCJQcmltYXJ5IC0gTE1CXCI7XG4gICAgZGl2T25lLmRhdGFzZXQuY29sb3IgPSB0aGlzLnN0YXRlLmNvbG9ycy5jdXJyZW50O1xuICAgIGRpdk9uZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLnN0YXRlLmNvbG9ycy5jdXJyZW50O1xuICAgIGNvbnN0IGlucHV0T25lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIGlucHV0T25lLmNsYXNzTmFtZSA9IFwianNjb2xvclwiO1xuICAgIENob29zZWNvbG9yQ3VycmVudCgpO1xuICAgIGlucHV0T25lLm9uY2hhbmdlID0gY2hhbmdlQ3VyckNvbG9yKHRoaXMuc3RhdGUsIHRoaXMuc2V0U3RhdGUsIHRoaXMudGhhdCk7XG4gICAgZGl2T25lLmFwcGVuZENoaWxkKGlucHV0T25lKTtcbiAgICBkaXZDb2xvci5hcHBlbmRDaGlsZChkaXZPbmUpO1xuXG4gICAgY29uc3QgZGl2VHdvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBkaXZUd28uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjb2xvckRpdlwiKTtcbiAgICBkaXZUd28uZGF0YXNldC50eXBlID0gXCJTZWNvbmRhcnkgLSBSTUJcIjtcbiAgICBkaXZUd28uZGF0YXNldC5jb2xvciA9IHRoaXMuc3RhdGUuY29sb3JzLnByZXZpb3VzO1xuICAgIGRpdlR3by5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLnN0YXRlLmNvbG9ycy5wcmV2aW91cztcbiAgICBjb25zdCBpbnB1dFR3byA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICBpbnB1dFR3by5jbGFzc05hbWUgPSBcImpzY29sb3JQcmV2XCI7XG4gICAgQ2hvb3NlY29sb3JQcmV2aW91cygpO1xuICAgIGlucHV0VHdvLm9uY2hhbmdlID0gY2hhbmdlUHJldkNvbG9yKHRoaXMuc3RhdGUsIHRoaXMuc2V0U3RhdGUsIHRoaXMudGhhdCk7XG4gICAgZGl2VHdvLmFwcGVuZENoaWxkKGlucHV0VHdvKTtcbiAgICBkaXZDb2xvci5hcHBlbmRDaGlsZChkaXZUd28pO1xuXG4gICAgY29uc3QgZGl2VGhyZWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRpdlRocmVlLmlubmVySFRNTCA9IGA8aSBjbGFzcz1cImZhcyBmYS1leGNoYW5nZS1hbHRcIj48L2k+YDtcbiAgICBkaXZUaHJlZS5vbmNsaWNrID0gc3dpdGNoQ29sb3JzRnVuYyh0aGlzLnN0YXRlLCB0aGlzLnNldFN0YXRlLCB0aGlzLnRoYXQpO1xuICAgIGRpdkNvbG9yLmFwcGVuZENoaWxkKGRpdlRocmVlKTtcbiAgICBtYWluRGl2LmFwcGVuZENoaWxkKGRpdkNvbG9yKTtcblxuICAgIGNvbnN0IGRpdktleWNvbW1hbmRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBkaXZLZXljb21tYW5kcy5pbm5lckhUTUwgPSBgPGkgY2xhc3M9XCJmYXMgZmEta2V5Ym9hcmRcIj48L2k+YDtcbiAgICBkaXZLZXljb21tYW5kcy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImtleUNvbW1hbmRzXCIpO1xuICAgIG1haW5EaXYuYXBwZW5kQ2hpbGQoZGl2S2V5Y29tbWFuZHMpO1xuXG4gICAgd2luZG93Lm9ua2V5dXAgPSAoZSk9PnsgIFxuICAgICAgXG4gICAgICBzd2l0Y2goZS5rZXlDb2RlKXtcbiAgICAgICAgXG4gICAgICAgIGNhc2UgKDgwKTpcbiAgICAgICAgICAgICAgIFxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAoNzQpOlxuICAgICAgICAgIFxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAoNzYpOlxuICAgICAgICAgXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIFxuICAgICBcbiAgfVxuICAgIFxuICAgIHJldHVybiBtYWluRGl2O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRvb2xzO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFRQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWZBO0FBbUJBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFHQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/tools/index.js\n");

/***/ }),

/***/ "./src/components/tools/index.scss":
/*!*****************************************!*\
  !*** ./src/components/tools/index.scss ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var content = __webpack_require__(/*! !../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??ref--7-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!./index.scss */ \"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./src/components/tools/index.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.i, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = __webpack_require__(/*! ../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90b29scy9pbmRleC5zY3NzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdG9vbHMvaW5kZXguc2Nzcz9kNDcyIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTctMiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tNy0zIS4vaW5kZXguc2Nzc1wiKTtcblxuaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG59XG5cbnZhciBvcHRpb25zID0ge31cblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYgKGNvbnRlbnQubG9jYWxzKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/tools/index.scss\n");

/***/ }),

/***/ "./src/main.js":
/*!*********************!*\
  !*** ./src/main.js ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! ./styles/landing.css */ \"./src/styles/landing.css\");\n\nvar _app = __webpack_require__(/*! ./app.js */ \"./src/app.js\");\n\nvar _app2 = _interopRequireDefault(_app);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// import './css/style.css';\n// import './css/style.scss';\nvar body = document.querySelector(\"body\");\n\nvar mainApp = new _app2.default();\nbody.appendChild(mainApp.render(1));\nmainApp.drawCanvas();\n\ndocument.addEventListener(\"fullscreenchange\", function () {\n    if (!document.fullscreenElement) {\n        mainApp.fullScreen = false;\n        mainApp.render();\n    }\n});\n\nwindow.onresize = function () {\n    if (mainApp.fullScreen) {} else {\n        mainApp.render();\n    }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWFpbi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvbWFpbi5qcz8yZWUyIl0sInNvdXJjZXNDb250ZW50IjpbIiAvLyBpbXBvcnQgJy4vY3NzL3N0eWxlLmNzcyc7XHJcbi8vIGltcG9ydCAnLi9jc3Mvc3R5bGUuc2Nzcyc7XHJcbmltcG9ydCAgXCIuL3N0eWxlcy9sYW5kaW5nLmNzc1wiO1xyXG5pbXBvcnQgQXBwIGZyb20gXCIuL2FwcC5qc1wiO1xyXG5cclxuXHJcbmNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKTtcclxuXHJcbmNvbnN0IG1haW5BcHAgPSBuZXcgQXBwKCk7XHJcbmJvZHkuYXBwZW5kQ2hpbGQobWFpbkFwcC5yZW5kZXIoMSkpO1xyXG5tYWluQXBwLmRyYXdDYW52YXMoKTtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJmdWxsc2NyZWVuY2hhbmdlXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKCFkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCkge1xyXG4gICAgICAgIG1haW5BcHAuZnVsbFNjcmVlbiA9IGZhbHNlO1xyXG4gICAgICAgIG1haW5BcHAucmVuZGVyKCk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxud2luZG93Lm9ucmVzaXplID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAobWFpbkFwcC5mdWxsU2NyZWVuKSB7XHJcbiAgICAgICAgXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIG1haW5BcHAucmVuZGVyKCk7XHJcbiAgICB9XHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFFQTtBQUNBO0FBQUE7QUFDQTs7Ozs7QUFKQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/main.js\n");

/***/ }),

/***/ "./src/screens/canvas/canvasBuild.js":
/*!*******************************************!*\
  !*** ./src/screens/canvas/canvasBuild.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _canvasHoverfunc = __webpack_require__(/*! ./canvasHoverfunc */ \"./src/screens/canvas/canvasHoverfunc.js\");\n\nvar _canvasHoverfunc2 = _interopRequireDefault(_canvasHoverfunc);\n\nvar _disableHover = __webpack_require__(/*! ./disableHover */ \"./src/screens/canvas/disableHover.js\");\n\nvar _disableHover2 = _interopRequireDefault(_disableHover);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar canvasBuild = function () {\n    function canvasBuild(state) {\n        _classCallCheck(this, canvasBuild);\n\n        this.state = state;\n        this.canvasBlock = document.querySelector(\".canvasBlock\");\n        this.canvasSettings = state.canvasSettings;\n        this.rows = this.canvasSettings.rows;\n        this.columns = this.canvasSettings.columns;\n        this.onclickFunc = state.canvasEventFunc;\n        this.currFrame = state.frames[state.currFrame].matrix;\n        this.canvas = this.createCanvas();\n        this.canvasHover = this.createCanvasHover();\n        this.pixelSize = Math.ceil(this.canvas.scrollWidth / this.rows);\n        this.ctx = this.canvas.getContext(\"2d\");\n    }\n\n    _createClass(canvasBuild, [{\n        key: \"createCanvasHover\",\n        value: function createCanvasHover() {\n            var range = 39.3;\n            var canvasBlockWidth = this.canvasBlock.scrollWidth;\n            var canvasWidth = Math.floor(canvasBlockWidth / range) * this.rows;\n            var canvasHeight = Math.floor(canvasBlockWidth / range) * this.columns;\n            var canvas = document.createElement(\"canvas\");\n            canvas.setAttribute(\"id\", \"canvasHover\");\n            canvas.setAttribute(\"width\", canvasWidth);\n            canvas.setAttribute(\"height\", canvasHeight);\n            canvas.style.cssText = \"\\n        position: absolute;\\n        pointer-events: none;\\n        transform: scale(\" + this.canvasSettings.scale + \")\\n        \";\n            this.canvasBlock.appendChild(canvas);\n        }\n    }, {\n        key: \"createCanvas\",\n        value: function createCanvas() {\n            var range = 39.3;\n            var canvasBlockWidth = this.canvasBlock.scrollWidth;\n            var canvasWidth = Math.floor(canvasBlockWidth / range) * this.rows;\n            var canvasHeight = Math.floor(canvasBlockWidth / range) * this.columns;\n            var canvas = document.createElement(\"canvas\");\n            canvas.addEventListener(\"mousedown\", (0, _disableHover2.default)());\n            canvas.addEventListener(\"mousedown\", this.onclickFunc);\n\n            canvas.setAttribute(\"id\", \"canvas\");\n            canvas.setAttribute(\"width\", canvasWidth);\n            canvas.setAttribute(\"height\", canvasHeight);\n            canvas.style.cssText = \"\\n        position: absolute;\\n        transform: scale(\" + this.canvasSettings.scale + \");\\n        \";\n\n            this.canvasBlock.appendChild(canvas);\n            canvas.addEventListener(\"mousemove\", (0, _canvasHoverfunc2.default)(this.state));\n\n            return canvas;\n        }\n    }, {\n        key: \"createMatrix\",\n        value: function createMatrix() {\n            for (var i = 0; i < this.columns; i += 1) {\n                this.currFrame[i] = [];\n                for (var q = 0; q < this.rows; q += 1) {\n                    this.currFrame[i][q] = \"transparent\";\n                }\n            }\n            this.drawField(this.currFrame);\n        }\n    }, {\n        key: \"drawField\",\n        value: function drawField(currFrame) {\n            this.ctx.clearRect(0, 0, this.canvas.scrollWidth, this.canvas.scrollHeight);\n            if (currFrame.length === 0) {\n                this.createMatrix();\n            } else {\n                for (var i = 0; i < currFrame.length; i += 1) {\n                    for (var q = 0; q < currFrame[i].length; q += 1) {\n                        this.ctx.fillStyle = currFrame[i][q];\n                        this.ctx.fillRect(i * this.pixelSize, q * this.pixelSize, this.pixelSize, this.pixelSize);\n                    }\n                }\n            }\n        }\n    }, {\n        key: \"draw\",\n        value: function draw() {\n            this.drawField(this.currFrame);\n        }\n    }]);\n\n    return canvasBuild;\n}();\n\nexports.default = canvasBuild;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyZWVucy9jYW52YXMvY2FudmFzQnVpbGQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL3NjcmVlbnMvY2FudmFzL2NhbnZhc0J1aWxkLmpzPzViYjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNhbnZhc0hvdmVyZnVuYyBmcm9tIFwiLi9jYW52YXNIb3ZlcmZ1bmNcIjtcbmltcG9ydCBkaXNhYmxlSG92ZXIgZnJvbSBcIi4vZGlzYWJsZUhvdmVyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGNhbnZhc0J1aWxkIHtcbiAgICBjb25zdHJ1Y3RvcihzdGF0ZSkge1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIHRoaXMuY2FudmFzQmxvY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhbnZhc0Jsb2NrXCIpO1xuICAgICAgICB0aGlzLmNhbnZhc1NldHRpbmdzID0gc3RhdGUuY2FudmFzU2V0dGluZ3M7XG4gICAgICAgIHRoaXMucm93cyA9IHRoaXMuY2FudmFzU2V0dGluZ3Mucm93cztcbiAgICAgICAgdGhpcy5jb2x1bW5zID0gdGhpcy5jYW52YXNTZXR0aW5ncy5jb2x1bW5zO1xuICAgICAgICB0aGlzLm9uY2xpY2tGdW5jID0gc3RhdGUuY2FudmFzRXZlbnRGdW5jO1xuICAgICAgICB0aGlzLmN1cnJGcmFtZSA9IHN0YXRlLmZyYW1lc1tzdGF0ZS5jdXJyRnJhbWVdLm1hdHJpeDtcbiAgICAgICAgdGhpcy5jYW52YXMgPSB0aGlzLmNyZWF0ZUNhbnZhcygpO1xuICAgICAgICB0aGlzLmNhbnZhc0hvdmVyID0gdGhpcy5jcmVhdGVDYW52YXNIb3ZlcigpO1xuICAgICAgICB0aGlzLnBpeGVsU2l6ZSA9IE1hdGguY2VpbCh0aGlzLmNhbnZhcy5zY3JvbGxXaWR0aCAvIHRoaXMucm93cyk7XG4gICAgICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgIH1cblxuICAgIGNyZWF0ZUNhbnZhc0hvdmVyKCkge1xuICAgICAgICBjb25zdCByYW5nZSA9IDM5LjM7XG4gICAgICAgIGNvbnN0IGNhbnZhc0Jsb2NrV2lkdGggPSB0aGlzLmNhbnZhc0Jsb2NrLnNjcm9sbFdpZHRoO1xuICAgICAgICBjb25zdCBjYW52YXNXaWR0aCA9IE1hdGguZmxvb3IoY2FudmFzQmxvY2tXaWR0aCAvIHJhbmdlKSAqIHRoaXMucm93cztcbiAgICAgICAgY29uc3QgY2FudmFzSGVpZ2h0ID0gTWF0aC5mbG9vcihjYW52YXNCbG9ja1dpZHRoIC8gcmFuZ2UpICogdGhpcy5jb2x1bW5zO1xuICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgICAgICBjYW52YXMuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJjYW52YXNIb3ZlclwiKTtcbiAgICAgICAgY2FudmFzLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIGNhbnZhc1dpZHRoKTtcbiAgICAgICAgY2FudmFzLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLCBjYW52YXNIZWlnaHQpO1xuICAgICAgICBjYW52YXMuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgke3RoaXMuY2FudmFzU2V0dGluZ3Muc2NhbGV9KVxuICAgICAgICBgO1xuICAgICAgICB0aGlzLmNhbnZhc0Jsb2NrLmFwcGVuZENoaWxkKGNhbnZhcyk7XG4gICAgfVxuXG4gICAgY3JlYXRlQ2FudmFzKCkge1xuICAgICAgICBjb25zdCByYW5nZSA9IDM5LjM7XG4gICAgICAgIGNvbnN0IGNhbnZhc0Jsb2NrV2lkdGggPSB0aGlzLmNhbnZhc0Jsb2NrLnNjcm9sbFdpZHRoO1xuICAgICAgICBjb25zdCBjYW52YXNXaWR0aCA9IE1hdGguZmxvb3IoY2FudmFzQmxvY2tXaWR0aCAvIHJhbmdlKSAqIHRoaXMucm93cztcbiAgICAgICAgY29uc3QgY2FudmFzSGVpZ2h0ID0gTWF0aC5mbG9vcihjYW52YXNCbG9ja1dpZHRoIC8gcmFuZ2UpICogdGhpcy5jb2x1bW5zO1xuICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBkaXNhYmxlSG92ZXIoKSk7XG4gICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMub25jbGlja0Z1bmMpO1xuXG4gICAgICAgIGNhbnZhcy5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImNhbnZhc1wiKTtcbiAgICAgICAgY2FudmFzLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIGNhbnZhc1dpZHRoKTtcbiAgICAgICAgY2FudmFzLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLCBjYW52YXNIZWlnaHQpO1xuICAgICAgICBjYW52YXMuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKCR7dGhpcy5jYW52YXNTZXR0aW5ncy5zY2FsZX0pO1xuICAgICAgICBgO1xuXG4gICAgICAgIHRoaXMuY2FudmFzQmxvY2suYXBwZW5kQ2hpbGQoY2FudmFzKTtcbiAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgY2FudmFzSG92ZXJmdW5jKHRoaXMuc3RhdGUpKTtcblxuICAgICAgICByZXR1cm4gY2FudmFzO1xuICAgIH1cblxuICAgIGNyZWF0ZU1hdHJpeCgpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbHVtbnM7IGkrPTEpIHtcbiAgICAgICAgICAgIHRoaXMuY3VyckZyYW1lW2ldID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBxID0gMDsgcSA8IHRoaXMucm93czsgcSs9MSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VyckZyYW1lW2ldW3FdID0gXCJ0cmFuc3BhcmVudFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZHJhd0ZpZWxkKHRoaXMuY3VyckZyYW1lKTtcbiAgICB9XG5cbiAgICBkcmF3RmllbGQoY3VyckZyYW1lKSB7XG4gICAgICAgIHRoaXMuY3R4LmNsZWFyUmVjdChcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgdGhpcy5jYW52YXMuc2Nyb2xsV2lkdGgsXG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5zY3JvbGxIZWlnaHRcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGN1cnJGcmFtZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlTWF0cml4KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJGcmFtZS5sZW5ndGg7IGkrPTEpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBxID0gMDsgcSA8IGN1cnJGcmFtZVtpXS5sZW5ndGg7IHErPTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gY3VyckZyYW1lW2ldW3FdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsUmVjdChcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgKiB0aGlzLnBpeGVsU2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHEgKiB0aGlzLnBpeGVsU2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGl4ZWxTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5waXhlbFNpemVcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkcmF3KCkge1xuICAgICAgICB0aGlzLmRyYXdGaWVsZCh0aGlzLmN1cnJGcmFtZSk7XG4gICAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7Ozs7OztBQTNGQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/screens/canvas/canvasBuild.js\n");

/***/ }),

/***/ "./src/screens/canvas/canvasHoverfunc.js":
/*!***********************************************!*\
  !*** ./src/screens/canvas/canvasHoverfunc.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nfunction canvasHoverFunc(state) {\n    return function (e) {\n        var canvas = document.querySelector(\"#canvasHover\");\n        var ctx = canvas.getContext(\"2d\");\n        var matrix = [];\n        var curColor = \"rgba(21, 157, 255, 0.300)\";\n        var pixelSize = Math.ceil(canvas.scrollWidth / state.canvasSettings.rows);\n        var x = Math.floor(e.offsetX / (canvas.scrollWidth / state.canvasSettings.rows));\n        var y = Math.floor(e.offsetY / (canvas.scrollWidth / state.canvasSettings.columns));\n        if (x < 1 || x > state.canvasSettings.rows - 1 || y < 1 || y > state.canvasSettings.columns - 1) {\n            ctx.clearRect(0, 0, canvas.scrollWidth, canvas.scrollHeight);\n            return;\n        }\n        for (var i = 0; i < state.canvasSettings.columns; i++) {\n            matrix[i] = [];\n            for (var q = 0; q < state.canvasSettings.rows; q++) {\n                matrix[i][q] = \"transparent\";\n            }\n        }\n\n        switch (state.penWidth) {\n            case 1:\n                matrix[x][y] = curColor;\n                break;\n            case 2:\n                matrix[x][y] = curColor;\n                matrix[x][y - 1] = curColor;\n                matrix[x - 1][y] = curColor;\n                matrix[x - 1][y - 1] = curColor;\n                break;\n            case 3:\n                matrix[x][y] = curColor;\n                matrix[x][y + 1] = curColor;\n                matrix[x][y - 1] = curColor;\n                matrix[x - 1][y] = curColor;\n                matrix[x - 1][y + 1] = curColor;\n                matrix[x - 1][y - 1] = curColor;\n                matrix[x + 1][y] = curColor;\n                matrix[x + 1][y + 1] = curColor;\n                matrix[x + 1][y - 1] = curColor;\n                break;\n            case 4:\n                matrix[x][y] = curColor;\n                matrix[x][y + 1] = curColor;\n                matrix[x][y - 1] = curColor;\n                matrix[x][y - 2] = curColor;\n                matrix[x + 1][y] = curColor;\n                matrix[x + 1][y + 1] = curColor;\n                matrix[x + 1][y - 1] = curColor;\n                matrix[x + 1][y - 2] = curColor;\n                matrix[x - 1][y] = curColor;\n                matrix[x - 1][y + 1] = curColor;\n                matrix[x - 1][y - 1] = curColor;\n                matrix[x - 1][y - 2] = curColor;\n                matrix[x - 2][y] = curColor;\n                matrix[x - 2][y + 1] = curColor;\n                matrix[x - 2][y - 1] = curColor;\n                matrix[x - 2][y - 2] = curColor;\n                break;\n        }\n\n        ctx.clearRect(0, 0, canvas.scrollWidth, canvas.scrollHeight);\n\n        for (var _i = 0; _i < matrix.length; _i++) {\n            for (var _q = 0; _q < matrix[_i].length; _q++) {\n                ctx.fillStyle = matrix[_i][_q];\n                ctx.fillRect(_i * pixelSize, _q * pixelSize, pixelSize, pixelSize);\n            }\n        }\n    };\n}\nexports.default = canvasHoverFunc;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyZWVucy9jYW52YXMvY2FudmFzSG92ZXJmdW5jLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9zY3JlZW5zL2NhbnZhcy9jYW52YXNIb3ZlcmZ1bmMuanM/NDk3ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBjYW52YXNIb3ZlckZ1bmMoc3RhdGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZSkge1xuICAgICAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYW52YXNIb3ZlclwiKTtcbiAgICAgICAgbGV0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIGxldCBtYXRyaXggPSBbXTtcbiAgICAgICAgbGV0IGN1ckNvbG9yID0gXCJyZ2JhKDIxLCAxNTcsIDI1NSwgMC4zMDApXCI7XG4gICAgICAgIGxldCBwaXhlbFNpemUgPSBNYXRoLmNlaWwoXG4gICAgICAgICAgICBjYW52YXMuc2Nyb2xsV2lkdGggLyBzdGF0ZS5jYW52YXNTZXR0aW5ncy5yb3dzXG4gICAgICAgICk7XG4gICAgICAgIGxldCB4ID0gTWF0aC5mbG9vcihcbiAgICAgICAgICAgIGUub2Zmc2V0WCAvIChjYW52YXMuc2Nyb2xsV2lkdGggLyBzdGF0ZS5jYW52YXNTZXR0aW5ncy5yb3dzKVxuICAgICAgICApO1xuICAgICAgICBsZXQgeSA9IE1hdGguZmxvb3IoXG4gICAgICAgICAgICBlLm9mZnNldFkgLyAoY2FudmFzLnNjcm9sbFdpZHRoIC8gc3RhdGUuY2FudmFzU2V0dGluZ3MuY29sdW1ucylcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgeCA8IDEgfHxcbiAgICAgICAgICAgIHggPiBzdGF0ZS5jYW52YXNTZXR0aW5ncy5yb3dzIC0gMSB8fFxuICAgICAgICAgICAgeSA8IDEgfHxcbiAgICAgICAgICAgIHkgPiBzdGF0ZS5jYW52YXNTZXR0aW5ncy5jb2x1bW5zIC0gMVxuICAgICAgICApIHtcbiAgICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLnNjcm9sbFdpZHRoLCBjYW52YXMuc2Nyb2xsSGVpZ2h0KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0YXRlLmNhbnZhc1NldHRpbmdzLmNvbHVtbnM7IGkrKykge1xuICAgICAgICAgICAgbWF0cml4W2ldID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBxID0gMDsgcSA8IHN0YXRlLmNhbnZhc1NldHRpbmdzLnJvd3M7IHErKykge1xuICAgICAgICAgICAgICAgIG1hdHJpeFtpXVtxXSA9IFwidHJhbnNwYXJlbnRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAoc3RhdGUucGVuV2lkdGgpIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBtYXRyaXhbeF1beV0gPSBjdXJDb2xvcjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBtYXRyaXhbeF1beV0gPSBjdXJDb2xvcjtcbiAgICAgICAgICAgICAgICBtYXRyaXhbeF1beSAtIDFdID0gY3VyQ29sb3I7XG4gICAgICAgICAgICAgICAgbWF0cml4W3ggLSAxXVt5XSA9IGN1ckNvbG9yO1xuICAgICAgICAgICAgICAgIG1hdHJpeFt4IC0gMV1beSAtIDFdID0gY3VyQ29sb3I7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgbWF0cml4W3hdW3ldID0gY3VyQ29sb3I7XG4gICAgICAgICAgICAgICAgbWF0cml4W3hdW3kgKyAxXSA9IGN1ckNvbG9yO1xuICAgICAgICAgICAgICAgIG1hdHJpeFt4XVt5IC0gMV0gPSBjdXJDb2xvcjtcbiAgICAgICAgICAgICAgICBtYXRyaXhbeCAtIDFdW3ldID0gY3VyQ29sb3I7XG4gICAgICAgICAgICAgICAgbWF0cml4W3ggLSAxXVt5ICsgMV0gPSBjdXJDb2xvcjtcbiAgICAgICAgICAgICAgICBtYXRyaXhbeCAtIDFdW3kgLSAxXSA9IGN1ckNvbG9yO1xuICAgICAgICAgICAgICAgIG1hdHJpeFt4ICsgMV1beV0gPSBjdXJDb2xvcjtcbiAgICAgICAgICAgICAgICBtYXRyaXhbeCArIDFdW3kgKyAxXSA9IGN1ckNvbG9yO1xuICAgICAgICAgICAgICAgIG1hdHJpeFt4ICsgMV1beSAtIDFdID0gY3VyQ29sb3I7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgbWF0cml4W3hdW3ldID0gY3VyQ29sb3I7XG4gICAgICAgICAgICAgICAgbWF0cml4W3hdW3kgKyAxXSA9IGN1ckNvbG9yO1xuICAgICAgICAgICAgICAgIG1hdHJpeFt4XVt5IC0gMV0gPSBjdXJDb2xvcjtcbiAgICAgICAgICAgICAgICBtYXRyaXhbeF1beSAtIDJdID0gY3VyQ29sb3I7XG4gICAgICAgICAgICAgICAgbWF0cml4W3ggKyAxXVt5XSA9IGN1ckNvbG9yO1xuICAgICAgICAgICAgICAgIG1hdHJpeFt4ICsgMV1beSArIDFdID0gY3VyQ29sb3I7XG4gICAgICAgICAgICAgICAgbWF0cml4W3ggKyAxXVt5IC0gMV0gPSBjdXJDb2xvcjtcbiAgICAgICAgICAgICAgICBtYXRyaXhbeCArIDFdW3kgLSAyXSA9IGN1ckNvbG9yO1xuICAgICAgICAgICAgICAgIG1hdHJpeFt4IC0gMV1beV0gPSBjdXJDb2xvcjtcbiAgICAgICAgICAgICAgICBtYXRyaXhbeCAtIDFdW3kgKyAxXSA9IGN1ckNvbG9yO1xuICAgICAgICAgICAgICAgIG1hdHJpeFt4IC0gMV1beSAtIDFdID0gY3VyQ29sb3I7XG4gICAgICAgICAgICAgICAgbWF0cml4W3ggLSAxXVt5IC0gMl0gPSBjdXJDb2xvcjtcbiAgICAgICAgICAgICAgICBtYXRyaXhbeCAtIDJdW3ldID0gY3VyQ29sb3I7XG4gICAgICAgICAgICAgICAgbWF0cml4W3ggLSAyXVt5ICsgMV0gPSBjdXJDb2xvcjtcbiAgICAgICAgICAgICAgICBtYXRyaXhbeCAtIDJdW3kgLSAxXSA9IGN1ckNvbG9yO1xuICAgICAgICAgICAgICAgIG1hdHJpeFt4IC0gMl1beSAtIDJdID0gY3VyQ29sb3I7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy5zY3JvbGxXaWR0aCwgY2FudmFzLnNjcm9sbEhlaWdodCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXRyaXgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IHEgPSAwOyBxIDwgbWF0cml4W2ldLmxlbmd0aDsgcSsrKSB7XG4gICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IG1hdHJpeFtpXVtxXTtcbiAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoXG4gICAgICAgICAgICAgICAgICAgIGkgKiBwaXhlbFNpemUsXG4gICAgICAgICAgICAgICAgICAgIHEgKiBwaXhlbFNpemUsXG4gICAgICAgICAgICAgICAgICAgIHBpeGVsU2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgcGl4ZWxTaXplXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG5leHBvcnQgZGVmYXVsdCBjYW52YXNIb3ZlckZ1bmM7XG4iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBR0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXRDQTtBQUNBO0FBd0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/screens/canvas/canvasHoverfunc.js\n");

/***/ }),

/***/ "./src/screens/canvas/disableHover.js":
/*!********************************************!*\
  !*** ./src/screens/canvas/disableHover.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nfunction disableHover() {\n    return function () {\n        var canvas = document.querySelector(\"#canvasHover\");\n        canvas.style.opacity = \"0\";\n        window.addEventListener(\"mouseup\", msUp);\n        function msUp() {\n            canvas.style.opacity = \"1\";\n            window.removeEventListener(\"mouseup\", msUp);\n        }\n    };\n}\nexports.default = disableHover;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyZWVucy9jYW52YXMvZGlzYWJsZUhvdmVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9zY3JlZW5zL2NhbnZhcy9kaXNhYmxlSG92ZXIuanM/YTU1OSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBkaXNhYmxlSG92ZXIoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYW52YXNIb3ZlclwiKTtcbiAgICAgICAgY2FudmFzLnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIG1zVXApO1xuICAgICAgICBmdW5jdGlvbiBtc1VwKCkge1xuICAgICAgICAgICAgY2FudmFzLnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBtc1VwKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5leHBvcnQgZGVmYXVsdCBkaXNhYmxlSG92ZXI7XG4iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/screens/canvas/disableHover.js\n");

/***/ }),

/***/ "./src/screens/frame/frameCanvasBuild.js":
/*!***********************************************!*\
  !*** ./src/screens/frame/frameCanvasBuild.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar frameCanvasBuild = function () {\n  function frameCanvasBuild(state) {\n    _classCallCheck(this, frameCanvasBuild);\n\n    this.frames = state.frames;\n    this.canvasBlock = Array.from(document.querySelectorAll(\".frame\"));\n    this.canvasSettings = state.canvasSettings;\n    this.rows = this.canvasSettings.rows;\n    this.columns = this.canvasSettings.columns;\n    this.canvas = this.createCanvas();\n    this.pixelSize = Math.ceil(this.canvas[0].scrollWidth / this.rows);\n    this.ctx = this.canvas.map(function (el) {\n      return el.getContext(\"2d\");\n    });\n  }\n\n  _createClass(frameCanvasBuild, [{\n    key: \"createCanvas\",\n    value: function createCanvas() {\n      var canvasArr = [];\n      for (var i = 0; i < this.canvasBlock.length; i += 1) {\n        var range = 40;\n        var canvasBlockWidth = this.canvasBlock[i].scrollWidth;\n        var canvasWidth = Math.floor(canvasBlockWidth / range) * this.rows;\n        var canvasHeight = Math.floor(canvasBlockWidth / range) * this.columns;\n        var canvas = document.createElement(\"canvas\");\n        canvas.setAttribute(\"width\", canvasWidth);\n        canvas.setAttribute(\"height\", canvasHeight);\n        canvas.style.cssText = \"\\n            position: absolute;\\n            z-index: 0;\";\n        canvasArr.push(canvas);\n        this.canvasBlock[i].insertBefore(canvas, this.canvasBlock[i].children[0]);\n      }\n      return canvasArr;\n    }\n  }, {\n    key: \"drawField\",\n    value: function drawField(currFrame, index) {\n      // this.ctx[index].clearRect(0, 0, this.canvas[index].scrollWidth, this.canvas[index].scrollHeight);\n      for (var i = 0; i < currFrame.length; i += 1) {\n        for (var q = 0; q < currFrame[i].length; q += 1) {\n          this.ctx[index].fillStyle = currFrame[i][q];\n          this.ctx[index].fillRect(i * this.pixelSize, q * this.pixelSize, this.pixelSize, this.pixelSize);\n        }\n      }\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      for (var i = 0; i < this.frames.length; i += 1) {\n        this.drawField(this.frames[i].matrix, i);\n      }\n    }\n  }]);\n\n  return frameCanvasBuild;\n}();\n\nexports.default = frameCanvasBuild;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyZWVucy9mcmFtZS9mcmFtZUNhbnZhc0J1aWxkLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9zY3JlZW5zL2ZyYW1lL2ZyYW1lQ2FudmFzQnVpbGQuanM/MDk5NiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBmcmFtZUNhbnZhc0J1aWxkIHtcbiAgY29uc3RydWN0b3Ioc3RhdGUpIHtcbiAgICB0aGlzLmZyYW1lcyA9IHN0YXRlLmZyYW1lcztcbiAgICB0aGlzLmNhbnZhc0Jsb2NrID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZyYW1lXCIpKTtcbiAgICB0aGlzLmNhbnZhc1NldHRpbmdzID0gc3RhdGUuY2FudmFzU2V0dGluZ3M7XG4gICAgdGhpcy5yb3dzID0gdGhpcy5jYW52YXNTZXR0aW5ncy5yb3dzO1xuICAgIHRoaXMuY29sdW1ucyA9IHRoaXMuY2FudmFzU2V0dGluZ3MuY29sdW1ucztcbiAgICB0aGlzLmNhbnZhcyA9IHRoaXMuY3JlYXRlQ2FudmFzKCk7XG4gICAgdGhpcy5waXhlbFNpemUgPSBNYXRoLmNlaWwodGhpcy5jYW52YXNbMF0uc2Nyb2xsV2lkdGggLyB0aGlzLnJvd3MpO1xuICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXMubWFwKGVsID0+IGVsLmdldENvbnRleHQoXCIyZFwiKSk7XG4gIH1cblxuICBjcmVhdGVDYW52YXMoKSB7XG4gICAgY29uc3QgY2FudmFzQXJyID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNhbnZhc0Jsb2NrLmxlbmd0aDsgaSs9MSkge1xuICAgICAgY29uc3QgcmFuZ2UgPSA0MDtcbiAgICAgIGNvbnN0IGNhbnZhc0Jsb2NrV2lkdGggPSB0aGlzLmNhbnZhc0Jsb2NrW2ldLnNjcm9sbFdpZHRoO1xuICAgICAgY29uc3QgY2FudmFzV2lkdGggPSBNYXRoLmZsb29yKGNhbnZhc0Jsb2NrV2lkdGggLyByYW5nZSkgKiB0aGlzLnJvd3M7XG4gICAgICBjb25zdCBjYW52YXNIZWlnaHQgPSBNYXRoLmZsb29yKGNhbnZhc0Jsb2NrV2lkdGggLyByYW5nZSkgKiB0aGlzLmNvbHVtbnM7XG4gICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgICAgY2FudmFzLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIGNhbnZhc1dpZHRoKTtcbiAgICAgIGNhbnZhcy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgY2FudmFzSGVpZ2h0KTtcbiAgICAgIGNhbnZhcy5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgei1pbmRleDogMDtgO1xuICAgICAgY2FudmFzQXJyLnB1c2goY2FudmFzKTtcbiAgICAgIHRoaXMuY2FudmFzQmxvY2tbaV0uaW5zZXJ0QmVmb3JlKGNhbnZhcywgdGhpcy5jYW52YXNCbG9ja1tpXS5jaGlsZHJlblswXSk7XG4gICAgfVxuICAgIHJldHVybiBjYW52YXNBcnI7XG4gIH1cblxuICBkcmF3RmllbGQoY3VyckZyYW1lLCBpbmRleCkge1xuICAgIC8vIHRoaXMuY3R4W2luZGV4XS5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXNbaW5kZXhdLnNjcm9sbFdpZHRoLCB0aGlzLmNhbnZhc1tpbmRleF0uc2Nyb2xsSGVpZ2h0KTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJGcmFtZS5sZW5ndGg7IGkrPTEpIHtcbiAgICAgIGZvciAobGV0IHEgPSAwOyBxIDwgY3VyckZyYW1lW2ldLmxlbmd0aDsgcSs9MSkge1xuICAgICAgICB0aGlzLmN0eFtpbmRleF0uZmlsbFN0eWxlID0gY3VyckZyYW1lW2ldW3FdO1xuICAgICAgICB0aGlzLmN0eFtpbmRleF0uZmlsbFJlY3QoXG4gICAgICAgICAgaSAqIHRoaXMucGl4ZWxTaXplLFxuICAgICAgICAgIHEgKiB0aGlzLnBpeGVsU2l6ZSxcbiAgICAgICAgICB0aGlzLnBpeGVsU2l6ZSxcbiAgICAgICAgICB0aGlzLnBpeGVsU2l6ZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGRyYXcoKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZyYW1lcy5sZW5ndGg7IGkrPTEpIHtcbiAgICAgIHRoaXMuZHJhd0ZpZWxkKHRoaXMuZnJhbWVzW2ldLm1hdHJpeCwgaSk7XG4gICAgfVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBbERBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/screens/frame/frameCanvasBuild.js\n");

/***/ }),

/***/ "./src/screens/preview/previewCanvasBuild.js":
/*!***************************************************!*\
  !*** ./src/screens/preview/previewCanvasBuild.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar previewCanvasBuild = function () {\n  function previewCanvasBuild(state, that) {\n    _classCallCheck(this, previewCanvasBuild);\n\n    this.fps = state.animationSettings.fpsValue;\n    this.frames = state.frames;\n    this.count = 0;\n    this.canvasBlock = document.querySelector(\".animation\");\n    this.canvasSettings = state.canvasSettings;\n    this.canvas = this.createCanvas(that);\n    this.pixelSize = Math.ceil(this.canvas.clientWidth / this.canvasSettings.rows);\n    this.ctx = this.canvas.getContext(\"2d\");\n  }\n\n  _createClass(previewCanvasBuild, [{\n    key: \"createCanvas\",\n    value: function createCanvas(that) {\n      var range = function range() {\n        if (that.fullScreen) {\n          return 10;\n        }\n        return 32;\n      };\n      var canvasBlockWidth = this.canvasBlock.offsetWidth;\n      var canvasWidth = Math.floor(canvasBlockWidth / range()) * this.canvasSettings.rows;\n      var canvasHeight = Math.floor(canvasBlockWidth / range()) * this.canvasSettings.columns;\n\n      var canvas = document.createElement(\"canvas\");\n\n      canvas.setAttribute(\"id\", \"canvasPreview\");\n      canvas.setAttribute(\"width\", canvasWidth);\n      canvas.setAttribute(\"height\", canvasHeight);\n      canvas.style.cssText = \"\\n        position: absolute;\\n        pointer-events: none;\";\n      this.canvasBlock.insertBefore(canvas, this.canvasBlock.children[0]);\n\n      return canvas;\n    }\n  }, {\n    key: \"drawField\",\n    value: function drawField(currFrame) {\n      this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n      for (var i = 0; i < currFrame.length; i += 1) {\n        for (var q = 0; q < currFrame[i].length; q += 1) {\n          this.ctx.fillStyle = currFrame[i][q];\n          this.ctx.fillRect(i * this.pixelSize, q * this.pixelSize, this.pixelSize, this.pixelSize);\n        }\n      }\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var _this = this;\n\n      setInterval(function () {\n        if (_this.count < _this.frames.length) {\n          _this.drawField(_this.frames[_this.count].matrix);\n          _this.count += 1;\n        } else {\n          _this.count = 0;\n          _this.drawField(_this.frames[_this.count].matrix);\n        }\n      }, 1000 / this.fps);\n    }\n  }]);\n\n  return previewCanvasBuild;\n}();\n\nexports.default = previewCanvasBuild;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyZWVucy9wcmV2aWV3L3ByZXZpZXdDYW52YXNCdWlsZC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvc2NyZWVucy9wcmV2aWV3L3ByZXZpZXdDYW52YXNCdWlsZC5qcz9hMTc3Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIHByZXZpZXdDYW52YXNCdWlsZCB7XG4gIGNvbnN0cnVjdG9yKHN0YXRlLCB0aGF0KSB7XG4gICAgdGhpcy5mcHMgPSBzdGF0ZS5hbmltYXRpb25TZXR0aW5ncy5mcHNWYWx1ZTtcbiAgICB0aGlzLmZyYW1lcyA9IHN0YXRlLmZyYW1lcztcbiAgICB0aGlzLmNvdW50ID0gMDtcbiAgICB0aGlzLmNhbnZhc0Jsb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hbmltYXRpb25cIik7XG4gICAgdGhpcy5jYW52YXNTZXR0aW5ncyA9IHN0YXRlLmNhbnZhc1NldHRpbmdzO1xuICAgIHRoaXMuY2FudmFzID0gdGhpcy5jcmVhdGVDYW52YXModGhhdCk7XG4gICAgdGhpcy5waXhlbFNpemUgPSBNYXRoLmNlaWwoXG4gICAgICB0aGlzLmNhbnZhcy5jbGllbnRXaWR0aCAvIHRoaXMuY2FudmFzU2V0dGluZ3Mucm93c1xuICAgICk7XG4gICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gIH1cblxuICBjcmVhdGVDYW52YXModGhhdCkge1xuICAgIGNvbnN0IHJhbmdlID0gKCkgPT4ge1xuICAgICAgaWYgKHRoYXQuZnVsbFNjcmVlbikge1xuICAgICAgICByZXR1cm4gMTA7XG4gICAgICB9XG4gICAgICByZXR1cm4gMzI7XG4gICAgfTtcbiAgICBjb25zdCBjYW52YXNCbG9ja1dpZHRoID0gdGhpcy5jYW52YXNCbG9jay5vZmZzZXRXaWR0aDtcbiAgICBjb25zdCBjYW52YXNXaWR0aCA9XG4gICAgICBNYXRoLmZsb29yKGNhbnZhc0Jsb2NrV2lkdGggLyByYW5nZSgpKSAqIHRoaXMuY2FudmFzU2V0dGluZ3Mucm93cztcbiAgICBjb25zdCBjYW52YXNIZWlnaHQgPVxuICAgICAgTWF0aC5mbG9vcihjYW52YXNCbG9ja1dpZHRoIC8gcmFuZ2UoKSkgKiB0aGlzLmNhbnZhc1NldHRpbmdzLmNvbHVtbnM7XG5cbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuXG4gICAgY2FudmFzLnNldEF0dHJpYnV0ZShcImlkXCIsIFwiY2FudmFzUHJldmlld1wiKTtcbiAgICBjYW52YXMuc2V0QXR0cmlidXRlKFwid2lkdGhcIiwgY2FudmFzV2lkdGgpO1xuICAgIGNhbnZhcy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgY2FudmFzSGVpZ2h0KTtcbiAgICBjYW52YXMuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtgO1xuICAgIHRoaXMuY2FudmFzQmxvY2suaW5zZXJ0QmVmb3JlKGNhbnZhcywgdGhpcy5jYW52YXNCbG9jay5jaGlsZHJlblswXSk7XG5cbiAgICByZXR1cm4gY2FudmFzO1xuICB9XG5cbiAgZHJhd0ZpZWxkKGN1cnJGcmFtZSkge1xuICAgIHRoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJGcmFtZS5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgZm9yIChsZXQgcSA9IDA7IHEgPCBjdXJyRnJhbWVbaV0ubGVuZ3RoOyBxICs9IDEpIHtcbiAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gY3VyckZyYW1lW2ldW3FdO1xuICAgICAgICB0aGlzLmN0eC5maWxsUmVjdChcbiAgICAgICAgICBpICogdGhpcy5waXhlbFNpemUsXG4gICAgICAgICAgcSAqIHRoaXMucGl4ZWxTaXplLFxuICAgICAgICAgIHRoaXMucGl4ZWxTaXplLFxuICAgICAgICAgIHRoaXMucGl4ZWxTaXplXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZHJhdygpIHtcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy5jb3VudCA8IHRoaXMuZnJhbWVzLmxlbmd0aCkge1xuICAgICAgICB0aGlzLmRyYXdGaWVsZCh0aGlzLmZyYW1lc1t0aGlzLmNvdW50XS5tYXRyaXgpO1xuICAgICAgICB0aGlzLmNvdW50ICs9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5kcmF3RmllbGQodGhpcy5mcmFtZXNbdGhpcy5jb3VudF0ubWF0cml4KTtcbiAgICAgIH1cbiAgICB9LCAxMDAwIC8gdGhpcy5mcHMpO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQWpFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/screens/preview/previewCanvasBuild.js\n");

/***/ }),

/***/ "./src/styles/landing.css":
/*!********************************!*\
  !*** ./src/styles/landing.css ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var content = __webpack_require__(/*! !../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/dist/cjs.js??ref--6-2!../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./landing.css */ \"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./src/styles/landing.css\");\n\nif (typeof content === 'string') {\n  content = [[module.i, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = __webpack_require__(/*! ../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc3R5bGVzL2xhbmRpbmcuY3NzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlcy9sYW5kaW5nLmNzcz81ZTJjIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTYtMiEuLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tNi0zIS4vbGFuZGluZy5jc3NcIik7XG5cbmlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xufVxuXG52YXIgb3B0aW9ucyA9IHt9XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmIChjb250ZW50LmxvY2Fscykge1xuICBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/styles/landing.css\n");

/***/ })

/******/ });